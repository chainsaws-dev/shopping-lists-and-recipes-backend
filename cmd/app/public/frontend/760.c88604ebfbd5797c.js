"use strict";(self.webpackChunkshopping_lists_and_recipes=self.webpackChunkshopping_lists_and_recipes||[]).push([[760],{5760:(Ti,J,c)=>{c.r(J),c.d(J,{AdminModule:()=>Mi});var p=c(9808),l=c(2382),_=c(8986),u=c(5909),F=c(3870),L=c(9805),f=c(2340),R=c(4004),t=c(5e3),b=c(3649);let fe=(()=>{class i{constructor(e){this.datastorageservice=e}resolve(e,s){const r=e.params.id;return this.datastorageservice.FetchUsersList(e.params.pn,f.N.AdminUserListPageSize).pipe((0,R.U)(a=>a.Users[r]))}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(b.Z))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),be=(()=>{class i{constructor(e){this.datastorageservice=e}resolve(e,s){const r=e.params.id;return this.datastorageservice.FetchFilesList(e.params.pn,f.N.MediaListPageSize).pipe((0,R.U)(a=>a.Files[r]))}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(b.Z))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),ve=(()=>{class i{constructor(e){this.datastorageservice=e}resolve(e,s){const r=e.params.id;return this.datastorageservice.FetchSessionsList(e.params.pn,f.N.SessionsListPageSize).pipe((0,R.U)(a=>a.Sessions[r]))}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(b.Z))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),N=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-admin"]],decls:11,vars:0,consts:[[1,"nav","nav-tabs"],[1,"active"],["routerLink","/admin/users","routerLinkActive","active",1,"nav-link"],["routerLink","/admin/sessions","routerLinkActive","active",1,"nav-link"],["routerLink","/admin/media","routerLinkActive","active",1,"nav-link"]],template:function(e,s){1&e&&(t.TgZ(0,"ul",0)(1,"li",1)(2,"a",2),t._uU(3,"Users"),t.qZA()(),t.TgZ(4,"li")(5,"a",3),t._uU(6,"Sessions"),t.qZA()(),t.TgZ(7,"li")(8,"a",4),t._uU(9,"Media"),t.qZA()()(),t._UZ(10,"router-outlet"))},directives:[u.yS,u.Od,u.lC],styles:[""]}),i})();var Me=c(1203),z=c(9112);function C(i){return null!=i&&"false"!=`${i}`}function V(i,n=0){return function ye(i){return!isNaN(parseFloat(i))&&!isNaN(Number(i))}(i)?Number(i):n}function y(i){return i instanceof t.SBq?i.nativeElement:i}var Te=c(8306),U=c(7579),Ee=c(1566),Ce=c(4482),xe=c(5403);let P,H=(()=>{class i{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Ie=(()=>{class i{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,s)=>this._cleanupObserver(s))}observe(e){const s=y(e);return new Te.y(o=>{const a=this._observeElement(s).subscribe(o);return()=>{a.unsubscribe(),this._unobserveElement(s)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const s=new U.x,o=this._mutationObserverFactory.create(r=>s.next(r));o&&o.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:o,stream:s,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:s,stream:o}=this._observedElements.get(e);s&&s.disconnect(),o.complete(),this._observedElements.delete(e)}}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(H))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),De=(()=>{class i{constructor(e,s,o){this._contentObserver=e,this._elementRef=s,this._ngZone=o,this.event=new t.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=C(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=V(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(function Ae(i,n=Ee.z){return(0,Ce.e)((e,s)=>{let o=null,r=null,a=null;const d=()=>{if(o){o.unsubscribe(),o=null;const g=r;r=null,s.next(g)}};function m(){const g=a+i,h=n.now();if(h<g)return o=this.schedule(void 0,g-h),void s.add(o);d()}e.subscribe((0,xe.x)(s,g=>{r=g,a=n.now(),o||(o=n.schedule(m,i),s.add(o))},()=>{d(),s.complete()},void 0,()=>{r=o=null}))})}(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){var e;null===(e=this._currentSubscription)||void 0===e||e.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(Ie),t.Y36(t.SBq),t.Y36(t.R0b))},i.\u0275dir=t.lG2({type:i,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),i})(),Se=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({providers:[H]}),i})(),Q=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({}),i})();try{P="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(i){P=!1}let x,j,S=(()=>{class i{constructor(e){this._platformId=e,this.isBrowser=this._platformId?(0,p.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!P)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(t.Lbi))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function B(i){return function we(){if(null==x&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>x=!0}))}finally{x=x||!1}return x}()?i:!!i.capture}function I(i){return i.composedPath?i.composedPath()[0]:i.target}var Ne=c(1135),Ue=c(9646),Ye=c(5684),Je=c(1884),ze=c(2722);function ee(i){return 0===i.buttons||0===i.offsetX&&0===i.offsetY}function te(i){const n=i.touches&&i.touches[0]||i.changedTouches&&i.changedTouches[0];return!(!n||-1!==n.identifier||null!=n.radiusX&&1!==n.radiusX||null!=n.radiusY&&1!==n.radiusY)}const Xe=new t.OlP("cdk-input-modality-detector-options"),et={ignoreKeys:[18,17,224,91,16]},E=B({passive:!0,capture:!0});let tt=(()=>{class i{constructor(e,s,o,r){this._platform=e,this._mostRecentTarget=null,this._modality=new Ne.X(null),this._lastTouchMs=0,this._onKeydown=a=>{var d,m;(null===(m=null===(d=this._options)||void 0===d?void 0:d.ignoreKeys)||void 0===m?void 0:m.some(g=>g===a.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=I(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<650||(this._modality.next(ee(a)?"keyboard":"mouse"),this._mostRecentTarget=I(a))},this._onTouchstart=a=>{te(a)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=I(a))},this._options=Object.assign(Object.assign({},et),r),this.modalityDetected=this._modality.pipe((0,Ye.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,Je.x)()),e.isBrowser&&s.runOutsideAngular(()=>{o.addEventListener("keydown",this._onKeydown,E),o.addEventListener("mousedown",this._onMousedown,E),o.addEventListener("touchstart",this._onTouchstart,E)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,E),document.removeEventListener("mousedown",this._onMousedown,E),document.removeEventListener("touchstart",this._onTouchstart,E))}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(S),t.LFG(t.R0b),t.LFG(p.K0),t.LFG(Xe,8))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const nt=new t.OlP("cdk-focus-monitor-default-options"),k=B({passive:!0,capture:!0});let st=(()=>{class i{constructor(e,s,o,r,a){this._ngZone=e,this._platform=s,this._inputModalityDetector=o,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new U.x,this._rootNodeFocusAndBlurListener=d=>{const m=I(d),g="focus"===d.type?this._onFocus:this._onBlur;for(let h=m;h;h=h.parentElement)g.call(this,d,h)},this._document=r,this._detectionMode=(null==a?void 0:a.detectionMode)||0}monitor(e,s=!1){const o=y(e);if(!this._platform.isBrowser||1!==o.nodeType)return(0,Ue.of)(null);const r=function Le(i){if(function Fe(){if(null==j){const i="undefined"!=typeof document?document.head:null;j=!(!i||!i.createShadowRoot&&!i.attachShadow)}return j}()){const n=i.getRootNode?i.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&n instanceof ShadowRoot)return n}return null}(o)||this._getDocument(),a=this._elementInfo.get(o);if(a)return s&&(a.checkChildren=!0),a.subject;const d={checkChildren:s,subject:new U.x,rootNode:r};return this._elementInfo.set(o,d),this._registerGlobalListeners(d),d.subject}stopMonitoring(e){const s=y(e),o=this._elementInfo.get(s);o&&(o.subject.complete(),this._setClasses(s),this._elementInfo.delete(s),this._removeGlobalListeners(o))}focusVia(e,s,o){const r=y(e);r===this._getDocument().activeElement?this._getClosestElementsInfo(r).forEach(([d,m])=>this._originChanged(d,s,m)):(this._setOrigin(s),"function"==typeof r.focus&&r.focus(o))}ngOnDestroy(){this._elementInfo.forEach((e,s)=>this.stopMonitoring(s))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,s){e.classList.toggle("cdk-focused",!!s),e.classList.toggle("cdk-touch-focused","touch"===s),e.classList.toggle("cdk-keyboard-focused","keyboard"===s),e.classList.toggle("cdk-mouse-focused","mouse"===s),e.classList.toggle("cdk-program-focused","program"===s)}_setOrigin(e,s=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&s,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,s){const o=this._elementInfo.get(s),r=I(e);!o||!o.checkChildren&&s!==r||this._originChanged(s,this._getFocusOrigin(r),o)}_onBlur(e,s){const o=this._elementInfo.get(s);!o||o.checkChildren&&e.relatedTarget instanceof Node&&s.contains(e.relatedTarget)||(this._setClasses(s),this._emitOrigin(o.subject,null))}_emitOrigin(e,s){this._ngZone.run(()=>e.next(s))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const s=e.rootNode,o=this._rootNodeFocusListenerCount.get(s)||0;o||this._ngZone.runOutsideAngular(()=>{s.addEventListener("focus",this._rootNodeFocusAndBlurListener,k),s.addEventListener("blur",this._rootNodeFocusAndBlurListener,k)}),this._rootNodeFocusListenerCount.set(s,o+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,ze.R)(this._stopInputModalityDetector)).subscribe(r=>{this._setOrigin(r,!0)}))}_removeGlobalListeners(e){const s=e.rootNode;if(this._rootNodeFocusListenerCount.has(s)){const o=this._rootNodeFocusListenerCount.get(s);o>1?this._rootNodeFocusListenerCount.set(s,o-1):(s.removeEventListener("focus",this._rootNodeFocusAndBlurListener,k),s.removeEventListener("blur",this._rootNodeFocusAndBlurListener,k),this._rootNodeFocusListenerCount.delete(s))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,s,o){this._setClasses(e,s),this._emitOrigin(o.subject,s),this._lastFocusOrigin=s}_getClosestElementsInfo(e){const s=[];return this._elementInfo.forEach((o,r)=>{(r===e||o.checkChildren&&r.contains(e))&&s.push([r,o])}),s}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(t.R0b),t.LFG(S),t.LFG(tt),t.LFG(p.K0,8),t.LFG(nt,8))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const ne="cdk-high-contrast-black-on-white",se="cdk-high-contrast-white-on-black",q="cdk-high-contrast-active";let ot=(()=>{class i{constructor(e,s){this._platform=e,this._document=s}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const s=this._document.defaultView||window,o=s&&s.getComputedStyle?s.getComputedStyle(e):null,r=(o&&o.backgroundColor||"").replace(/ /g,"");switch(e.remove(),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(q),e.remove(ne),e.remove(se),this._hasCheckedHighContrastMode=!0;const s=this.getHighContrastMode();1===s?(e.add(q),e.add(ne)):2===s&&(e.add(q),e.add(se))}}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(S),t.LFG(p.K0))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var oe=c(2712);const at=new t.OlP("mat-sanity-checks",{providedIn:"root",factory:function rt(){return!0}});let w=(()=>{class i{constructor(e,s,o){this._sanityChecks=s,this._document=o,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!function Re(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(ot),t.LFG(at,8),t.LFG(p.K0))},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[Q],Q]}),i})();function lt(i){return class extends i{constructor(...n){super(...n),this._disabled=!1}get disabled(){return this._disabled}set disabled(n){this._disabled=C(n)}}}function ct(i,n){return class extends i{constructor(...e){super(...e),this.defaultColor=n,this.color=n}get color(){return this._color}set color(e){const s=e||this.defaultColor;s!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),s&&this._elementRef.nativeElement.classList.add(`mat-${s}`),this._color=s)}}}function dt(i){return class extends i{constructor(...n){super(...n),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(n){this._disableRipple=C(n)}}}function ut(i,n=0){return class extends i{constructor(...e){super(...e),this._tabIndex=n,this.defaultTabIndex=n}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?V(e):this.defaultTabIndex}}}class pt{constructor(n,e,s){this._renderer=n,this.element=e,this.config=s,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const ae={enterDuration:225,exitDuration:150},Y=B({passive:!0}),le=["mousedown","touchstart"],ce=["mouseup","mouseleave","touchend","touchcancel"];class mt{constructor(n,e,s,o){this._target=n,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,o.isBrowser&&(this._containerElement=y(s))}fadeInRipple(n,e,s={}){const o=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),r=Object.assign(Object.assign({},ae),s.animation);s.centered&&(n=o.left+o.width/2,e=o.top+o.height/2);const a=s.radius||function ft(i,n,e){const s=Math.max(Math.abs(i-e.left),Math.abs(i-e.right)),o=Math.max(Math.abs(n-e.top),Math.abs(n-e.bottom));return Math.sqrt(s*s+o*o)}(n,e,o),d=n-o.left,m=e-o.top,g=r.enterDuration,h=document.createElement("div");h.classList.add("mat-ripple-element"),h.style.left=d-a+"px",h.style.top=m-a+"px",h.style.height=2*a+"px",h.style.width=2*a+"px",null!=s.color&&(h.style.backgroundColor=s.color),h.style.transitionDuration=`${g}ms`,this._containerElement.appendChild(h),function _t(i){window.getComputedStyle(i).getPropertyValue("opacity")}(h),h.style.transform="scale(1)";const M=new pt(this,h,s);return M.state=0,this._activeRipples.add(M),s.persistent||(this._mostRecentTransientRipple=M),this._runTimeoutOutsideZone(()=>{const yi=M===this._mostRecentTransientRipple;M.state=1,!s.persistent&&(!yi||!this._isPointerDown)&&M.fadeOut()},g),M}fadeOutRipple(n){const e=this._activeRipples.delete(n);if(n===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const s=n.element,o=Object.assign(Object.assign({},ae),n.config.animation);s.style.transitionDuration=`${o.exitDuration}ms`,s.style.opacity="0",n.state=2,this._runTimeoutOutsideZone(()=>{n.state=3,s.remove()},o.exitDuration)}fadeOutAll(){this._activeRipples.forEach(n=>n.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(n=>{n.config.persistent||n.fadeOut()})}setupTriggerEvents(n){const e=y(n);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(le))}handleEvent(n){"mousedown"===n.type?this._onMousedown(n):"touchstart"===n.type?this._onTouchStart(n):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(ce),this._pointerUpEventsRegistered=!0)}_onMousedown(n){const e=ee(n),s=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!s&&(this._isPointerDown=!0,this.fadeInRipple(n.clientX,n.clientY,this._target.rippleConfig))}_onTouchStart(n){if(!this._target.rippleDisabled&&!te(n)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=n.changedTouches;for(let s=0;s<e.length;s++)this.fadeInRipple(e[s].clientX,e[s].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(n=>{!n.config.persistent&&(1===n.state||n.config.terminateOnPointerUp&&0===n.state)&&n.fadeOut()}))}_runTimeoutOutsideZone(n,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(n,e))}_registerEvents(n){this._ngZone.runOutsideAngular(()=>{n.forEach(e=>{this._triggerElement.addEventListener(e,this,Y)})})}_removeTriggerEvents(){this._triggerElement&&(le.forEach(n=>{this._triggerElement.removeEventListener(n,this,Y)}),this._pointerUpEventsRegistered&&ce.forEach(n=>{this._triggerElement.removeEventListener(n,this,Y)}))}}const bt=new t.OlP("mat-ripple-global-options");let vt=(()=>{class i{constructor(e,s,o,r,a){this._elementRef=e,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new mt(this,s,e,o)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,s=0,o){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,s,Object.assign(Object.assign({},this.rippleConfig),o)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.SBq),t.Y36(t.R0b),t.Y36(S),t.Y36(bt,8),t.Y36(oe.Qb,8))},i.\u0275dir=t.lG2({type:i,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,s){2&e&&t.ekj("mat-ripple-unbounded",s.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),i})(),Mt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[w],w]}),i})();const yt=["thumbContainer"],Tt=["toggleBar"],Et=["input"],Ct=function(i){return{enterDuration:i}},xt=["*"],At=new t.OlP("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1})});let It=0;const Dt={provide:l.JU,useExisting:(0,t.Gpc)(()=>de),multi:!0};class St{constructor(n,e){this.source=n,this.checked=e}}const Ot=ut(ct(dt(lt(class{constructor(i){this._elementRef=i}}))));let de=(()=>{class i extends Ot{constructor(e,s,o,r,a,d){super(e),this._focusMonitor=s,this._changeDetectorRef=o,this.defaults=a,this._onChange=m=>{},this._onTouched=()=>{},this._uniqueId="mat-slide-toggle-"+ ++It,this._required=!1,this._checked=!1,this.name=null,this.id=this._uniqueId,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.change=new t.vpe,this.toggleChange=new t.vpe,this.tabIndex=parseInt(r)||0,this.color=this.defaultColor=a.color||"accent",this._noopAnimations="NoopAnimations"===d}get required(){return this._required}set required(e){this._required=C(e)}get checked(){return this._checked}set checked(e){this._checked=C(e),this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{e||Promise.resolve().then(()=>this._onTouched())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}_onChangeEvent(e){e.stopPropagation(),this.toggleChange.emit(),this.defaults.disableToggleValue?this._inputElement.nativeElement.checked=this.checked:(this.checked=this._inputElement.nativeElement.checked,this._emitChangeEvent())}_onInputClick(e){e.stopPropagation()}writeValue(e){this.checked=!!e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck()}focus(e,s){s?this._focusMonitor.focusVia(this._inputElement,s,e):this._inputElement.nativeElement.focus(e)}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(new St(this,this.checked))}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.SBq),t.Y36(st),t.Y36(t.sBO),t.$8M("tabindex"),t.Y36(At),t.Y36(oe.Qb,8))},i.\u0275cmp=t.Xpm({type:i,selectors:[["mat-slide-toggle"]],viewQuery:function(e,s){if(1&e&&(t.Gf(yt,5),t.Gf(Tt,5),t.Gf(Et,5)),2&e){let o;t.iGM(o=t.CRH())&&(s._thumbEl=o.first),t.iGM(o=t.CRH())&&(s._thumbBarEl=o.first),t.iGM(o=t.CRH())&&(s._inputElement=o.first)}},hostAttrs:[1,"mat-slide-toggle"],hostVars:13,hostBindings:function(e,s){2&e&&(t.Ikx("id",s.id),t.uIk("tabindex",null)("aria-label",null)("aria-labelledby",null)("name",null),t.ekj("mat-checked",s.checked)("mat-disabled",s.disabled)("mat-slide-toggle-label-before","before"==s.labelPosition)("_mat-animation-noopable",s._noopAnimations))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],required:"required",checked:"checked"},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],features:[t._Bn([Dt]),t.qOj],ngContentSelectors:xt,decls:16,vars:20,consts:[[1,"mat-slide-toggle-label"],["label",""],[1,"mat-slide-toggle-bar"],["toggleBar",""],["type","checkbox","role","switch",1,"mat-slide-toggle-input","cdk-visually-hidden",3,"id","required","tabIndex","checked","disabled","change","click"],["input",""],[1,"mat-slide-toggle-thumb-container"],["thumbContainer",""],[1,"mat-slide-toggle-thumb"],["mat-ripple","",1,"mat-slide-toggle-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-slide-toggle-persistent-ripple"],[1,"mat-slide-toggle-content",3,"cdkObserveContent"],["labelContent",""],[2,"display","none"]],template:function(e,s){if(1&e&&(t.F$t(),t.TgZ(0,"label",0,1)(2,"span",2,3)(4,"input",4,5),t.NdJ("change",function(r){return s._onChangeEvent(r)})("click",function(r){return s._onInputClick(r)}),t.qZA(),t.TgZ(6,"span",6,7),t._UZ(8,"span",8),t.TgZ(9,"span",9),t._UZ(10,"span",10),t.qZA()()(),t.TgZ(11,"span",11,12),t.NdJ("cdkObserveContent",function(){return s._onLabelTextChange()}),t.TgZ(13,"span",13),t._uU(14,"\xa0"),t.qZA(),t.Hsn(15),t.qZA()()),2&e){const o=t.MAs(1),r=t.MAs(12);t.uIk("for",s.inputId),t.xp6(2),t.ekj("mat-slide-toggle-bar-no-side-margin",!r.textContent||!r.textContent.trim()),t.xp6(2),t.Q6J("id",s.inputId)("required",s.required)("tabIndex",s.tabIndex)("checked",s.checked)("disabled",s.disabled),t.uIk("name",s.name)("aria-checked",s.checked)("aria-label",s.ariaLabel)("aria-labelledby",s.ariaLabelledby)("aria-describedby",s.ariaDescribedby),t.xp6(5),t.Q6J("matRippleTrigger",o)("matRippleDisabled",s.disableRipple||s.disabled)("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",t.VKq(18,Ct,s._noopAnimations?0:150))}},directives:[vt,De],styles:[".mat-slide-toggle{display:inline-block;height:24px;max-width:100%;line-height:24px;white-space:nowrap;outline:none;-webkit-tap-highlight-color:transparent}.mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(16px, 0, 0)}[dir=rtl] .mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(-16px, 0, 0)}.mat-slide-toggle.mat-disabled{opacity:.38}.mat-slide-toggle.mat-disabled .mat-slide-toggle-label,.mat-slide-toggle.mat-disabled .mat-slide-toggle-thumb-container{cursor:default}.mat-slide-toggle-label{-webkit-user-select:none;-moz-user-select:none;user-select:none;display:flex;flex:1;flex-direction:row;align-items:center;height:inherit;cursor:pointer}.mat-slide-toggle-content{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-slide-toggle-label-before .mat-slide-toggle-label{order:1}.mat-slide-toggle-label-before .mat-slide-toggle-bar{order:2}[dir=rtl] .mat-slide-toggle-label-before .mat-slide-toggle-bar,.mat-slide-toggle-bar{margin-right:8px;margin-left:0}[dir=rtl] .mat-slide-toggle-bar,.mat-slide-toggle-label-before .mat-slide-toggle-bar{margin-left:8px;margin-right:0}.mat-slide-toggle-bar-no-side-margin{margin-left:0;margin-right:0}.mat-slide-toggle-thumb-container{position:absolute;z-index:1;width:20px;height:20px;top:-3px;left:0;transform:translate3d(0, 0, 0);transition:all 80ms linear;transition-property:transform}._mat-animation-noopable .mat-slide-toggle-thumb-container{transition:none}[dir=rtl] .mat-slide-toggle-thumb-container{left:auto;right:0}.mat-slide-toggle-thumb{height:20px;width:20px;border-radius:50%;display:block}.mat-slide-toggle-bar{position:relative;width:36px;height:14px;flex-shrink:0;border-radius:8px}.mat-slide-toggle-input{bottom:0;left:10px}[dir=rtl] .mat-slide-toggle-input{left:auto;right:10px}.mat-slide-toggle-bar,.mat-slide-toggle-thumb{transition:all 80ms linear;transition-property:background-color;transition-delay:50ms}._mat-animation-noopable .mat-slide-toggle-bar,._mat-animation-noopable .mat-slide-toggle-thumb{transition:none}.mat-slide-toggle .mat-slide-toggle-ripple{position:absolute;top:calc(50% - 20px);left:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-slide-toggle .mat-slide-toggle-ripple .mat-ripple-element:not(.mat-slide-toggle-persistent-ripple){opacity:.12}.mat-slide-toggle-persistent-ripple{width:100%;height:100%;transform:none}.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:.04}.mat-slide-toggle:not(.mat-disabled).cdk-keyboard-focused .mat-slide-toggle-persistent-ripple{opacity:.12}.mat-slide-toggle-persistent-ripple,.mat-slide-toggle.mat-disabled .mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:0}@media(hover: none){.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{display:none}}.cdk-high-contrast-active .mat-slide-toggle-thumb,.cdk-high-contrast-active .mat-slide-toggle-bar{border:1px solid}.cdk-high-contrast-active .mat-slide-toggle.cdk-keyboard-focused .mat-slide-toggle-bar{outline:2px dotted;outline-offset:5px}\n"],encapsulation:2,changeDetection:0}),i})(),ue=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({}),i})(),Ft=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[ue,Mt,w,Se],ue,w]}),i})();function Lt(i,n){1&i&&(t.TgZ(0,"div",4)(1,"span",5),t._uU(2,"Loading..."),t.qZA()())}function Rt(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"ngb-alert",6),t.NdJ("close",function(){return t.CHM(e),t.oxw().ShowMessage=!1}),t._uU(1),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("type",e.MessageType),t.xp6(1),t.hij(" ",e.ResponseFromBackend.Error.Message,"")}}function Nt(i,n){1&i&&(t.TgZ(0,"h2"),t._uU(1,"Edit"),t.qZA())}function Ut(i,n){1&i&&(t.TgZ(0,"h2"),t._uU(1,"Create"),t.qZA())}function Pt(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"form",7,8),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.MAs(1);return t.oxw().OnSaveClick(o)}),t.TgZ(2,"div",9)(3,"div",10),t.YNc(4,Nt,2,0,"h2",11),t.YNc(5,Ut,2,0,"h2",11),t.TgZ(6,"div",9)(7,"label",12),t._uU(8,"Name"),t.qZA(),t._UZ(9,"input",13),t.qZA(),t.TgZ(10,"div",9)(11,"label",14),t._uU(12,"Email"),t.qZA(),t._UZ(13,"input",15),t.qZA(),t.TgZ(14,"div",9)(15,"label",16),t._uU(16,"Phone"),t.qZA(),t._UZ(17,"input",17),t.qZA(),t.TgZ(18,"div",9)(19,"label",18),t._uU(20,"Select role:"),t.qZA(),t.TgZ(21,"select",19)(22,"option",20),t._uU(23,"Guest"),t.qZA(),t.TgZ(24,"option",21),t._uU(25,"Admin"),t.qZA()()(),t.TgZ(26,"label",22),t._uU(27,"Password"),t.qZA(),t.TgZ(28,"div",23)(29,"div",24)(30,"input",25),t.NdJ("ngModelChange",function(o){return t.CHM(e),t.oxw().changepassword=o}),t.qZA()(),t._UZ(31,"input",26),t.qZA(),t.TgZ(32,"div",9)(33,"mat-slide-toggle",27),t.NdJ("ngModelChange",function(o){return t.CHM(e),t.oxw().UserToEdit.Disabled=o}),t._uU(34," Disabled "),t.qZA()(),t.TgZ(35,"button",28),t._uU(36,"Save"),t.qZA(),t.TgZ(37,"button",29),t._uU(38,"Cancel"),t.qZA()()()()}if(2&i){const e=t.MAs(1),s=t.oxw();t.xp6(4),t.Q6J("ngIf",s.editmode),t.xp6(1),t.Q6J("ngIf",!s.editmode),t.xp6(4),t.Q6J("ngModel",s.UserToEdit.Name),t.xp6(4),t.Q6J("ngModel",s.UserToEdit.Email),t.xp6(4),t.Q6J("ngModel",s.UserToEdit.Phone),t.xp6(4),t.Q6J("ngModel",s.UserToEdit.Role),t.xp6(9),t.Q6J("ngModel",s.changepassword),t.xp6(1),t.Q6J("disabled",!s.changepassword),t.xp6(2),t.Q6J("ngModel",s.UserToEdit.Disabled),t.xp6(2),t.Q6J("disabled",e.invalid)}}let he=(()=>{class i{constructor(e,s,o,r){this.AdminServ=e,this.activatedroute=s,this.router=o,this.datastore=r}ngOnDestroy(){this.DataLoading.unsubscribe(),this.RecivedErrorSub.unsubscribe(),this.DatabaseUpdated.unsubscribe()}ngOnInit(){this.activatedroute.params.subscribe(e=>{this.editmode=null!=e.id,this.editmode?(this.index=+e.id,this.UserToEdit=this.AdminServ.GetUserById(this.index)):(this.changepassword=!0,this.UserToEdit=new Me.n("guest_role_read_only","","","")),this.AdminServ.CurrentSelectedItem=this.UserToEdit}),this.DatabaseUpdated=this.datastore.UserUpdateInsert.subscribe(e=>{this.editmode?(this.UserToEdit=e,this.AdminServ.UpdateExistingUser(this.UserToEdit,this.index)):(this.UserToEdit=e,this.AdminServ.AddNewUser(this.UserToEdit)),setTimeout(()=>this.router.navigate(["../"],{relativeTo:this.activatedroute,queryParamsHandling:"merge"}),1e3)}),this.RecivedErrorSub=this.datastore.RecivedError.subscribe(e=>{this.ShowMessage=!0,this.ResponseFromBackend=e,setTimeout(()=>this.ShowMessage=!1,5e3),e&&(this.MessageType=200===e.Error.Code?"success":"danger")}),this.DataLoading=this.datastore.LoadingData.subscribe(e=>{this.IsLoading=e})}OnSaveClick(e){if(e.valid){if(e.value.changepassword&&0===e.value.newpassword.length)return;this.UserToEdit.Email=e.value.useremail,this.UserToEdit.Name=e.value.username,this.UserToEdit.Phone=e.value.userphone,this.UserToEdit.Role=e.value.roles,this.datastore.SaveUser(this.UserToEdit,e.value.changepassword,e.value.newpassword)}}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(z.f),t.Y36(u.gz),t.Y36(u.F0),t.Y36(b.Z))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-user-edit"]],decls:4,vars:3,consts:[[1,"text-center"],["class","spinner-border","role","status",4,"ngIf"],[3,"type","close",4,"ngIf"],[3,"ngSubmit",4,"ngIf"],["role","status",1,"spinner-border"],[1,"visually-hidden-focusable"],[3,"type","close"],[3,"ngSubmit"],["UserEditForm","ngForm"],[1,"form-group"],[2,"margin","3px"],[4,"ngIf"],["for","name"],["type","text","id","name","placeholder","example","name","username","required","",1,"form-control","mb-1",3,"ngModel"],["for","email"],["type","email","id","email","placeholder","exampe@example.com","name","useremail","required","","email","",1,"form-control","mb-1",3,"ngModel"],["for","phone"],["type","tel","id","phone","placeholder","+7 (965) 777-77-77","name","userphone","pattern","^((8|\\+7)[\\- ]?)?(\\(?\\d{3,4}\\)?[\\- ]?)?[\\d\\- ]{5,10}$",1,"form-control","mb-1",3,"ngModel"],["for","roles"],["name","roles","id","roles","required","",1,"form-control",3,"ngModel"],["value","guest_role_read_only"],["value","admin_role_CRUD"],["for","newpassword"],[1,"input-group","mb-3"],[1,"input-group-text"],["type","checkbox","id","changepassword","name","changepassword",3,"ngModel","ngModelChange"],["type","password","id","newpassword","name","newpassword","placeholder","Enter new password","ngModel","",1,"form-control",3,"disabled"],["color","primary","name","disabled",1,"mat-margin",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-outline-primary",3,"disabled"],["type","button","routerLink","..",1,"btn","btn-outline-danger",2,"margin-left","3px"]],template:function(e,s){1&e&&(t.TgZ(0,"div",0),t.YNc(1,Lt,3,0,"div",1),t.qZA(),t.YNc(2,Rt,2,2,"ngb-alert",2),t.YNc(3,Pt,39,10,"form",3)),2&e&&(t.xp6(1),t.Q6J("ngIf",s.IsLoading),t.xp6(1),t.Q6J("ngIf",s.ShowMessage),t.xp6(1),t.Q6J("ngIf",s.UserToEdit))},directives:[p.O5,_.xm,l._Y,l.JL,l.F,l.Fj,l.Q7,l.JJ,l.On,l.on,l.c5,l.EJ,l.YN,l.Kr,l.Wl,de,u.rH],styles:["input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:#ff0a1d!important;box-shadow:none!important}input.ng-invalid.ng-touched[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem #ff0a1d40!important}input.ng-valid.ng-touched[_ngcontent-%COMP%]{border-color:#67c07b!important;box-shadow:none!important}input.ng-valid.ng-touched[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem #34b30d40!important}select.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:#ff0a1d!important;box-shadow:none!important}select.ng-invalid.ng-touched[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem #ff0a1d40!important}select.ng-valid.ng-touched[_ngcontent-%COMP%]{border-color:#67c07b!important;box-shadow:none!important}select.ng-valid.ng-touched[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem #34b30d40!important}.image-placeholder[_ngcontent-%COMP%]{background-color:#eee;display:flex;height:333px;margin:5px;border-radius:3px;max-width:592px}.image-placeholder[_ngcontent-%COMP%] > h4[_ngcontent-%COMP%]{align-self:center;text-align:center;width:100%}.mat-header-h2[_ngcontent-%COMP%]{margin:10px}.mat-section[_ngcontent-%COMP%]{display:flex;align-content:center;align-items:center;height:60px}.mat-margin[_ngcontent-%COMP%]{margin:10px}"]}),i})();function Zt(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"ngb-alert",12),t.NdJ("close",function(){return t.CHM(e),t.oxw(2).ShowMessage=!1}),t._uU(1),t.qZA()}if(2&i){const e=t.oxw(2);t.Q6J("type",e.MessageType),t.xp6(1),t.hij(" ",e.ResponseFromBackend.Error.Message,"")}}function Bt(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"li",13),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw(2).AdminServ.SelectItemUsersList(r)}),t.TgZ(1,"div",14)(2,"p",15),t._uU(3),t.qZA(),t.TgZ(4,"div",16)(5,"button",17),t._uU(6,"Edit"),t.qZA(),t.TgZ(7,"button",18),t.NdJ("click",function(){const o=t.CHM(e),r=o.$implicit,a=o.index;return t.oxw(2).OnDeleteUser(r,a)}),t._uU(8,"Delete"),t.qZA()()()()}if(2&i){const e=n.$implicit,s=n.index,o=t.oxw(2);t.Q6J("ngClass",o.AdminServ.IsCurrentSelected(e)?"active":""),t.xp6(3),t.hij(" ",e.Email,""),t.xp6(2),t.Q6J("routerLink",s)}}function jt(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"ngb-pagination",19),t.NdJ("pageChange",function(o){return t.CHM(e),t.oxw(2).OnPageChanged(o)}),t.qZA()}if(2&i){const e=t.oxw(2);t.Q6J("collectionSize",e.usCollectionSize)("pageSize",e.usPageSize)("page",e.usCurrentPage)("rotate",!0)("boundaryLinks",!0)("maxSize",11)}}const qt=function(i){return["/admin/users",i,"new"]};function Yt(i,n){if(1&i&&(t.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"button",7),t._uU(5,"Add"),t.qZA()()(),t.YNc(6,Zt,2,2,"ngb-alert",8),t.TgZ(7,"ul",9),t.YNc(8,Bt,9,3,"li",10),t.qZA(),t.YNc(9,jt,1,6,"ngb-pagination",11),t.qZA()()),2&i){const e=t.oxw();t.xp6(4),t.Q6J("routerLink",t.VKq(4,qt,e.usCurrentPage)),t.xp6(2),t.Q6J("ngIf",e.ShowMessage),t.xp6(2),t.Q6J("ngForOf",e.Users),t.xp6(1),t.Q6J("ngIf",e.usCollectionSize>e.usPageSize)}}function Jt(i,n){1&i&&(t.TgZ(0,"div",20)(1,"span",21),t._uU(2,"Loading..."),t.qZA()())}let zt=(()=>{class i{constructor(e,s,o,r){this.ActiveRoute=e,this.DataServ=s,this.AdminServ=o,this.router=r}ngOnDestroy(){this.RecivedErrorSub.unsubscribe(),this.PageChanged.unsubscribe(),this.DataLoading.unsubscribe(),this.FetchOnInint.unsubscribe()}ngOnInit(){this.usPageSize=f.N.AdminUserListPageSize,this.RecivedErrorSub=this.DataServ.RecivedError.subscribe(e=>{this.ShowMessage=!0,this.ResponseFromBackend=e,setTimeout(()=>this.ShowMessage=!1,5e3),e&&(this.MessageType=200===e.Error.Code?"success":"danger")}),this.PageChanged=this.ActiveRoute.params.subscribe(e=>{this.usCurrentPage=+e.pn,this.FetchOnInint=this.DataServ.FetchUsersList(this.usCurrentPage,f.N.AdminUserListPageSize).subscribe(s=>{this.Users=this.AdminServ.GetUsers(),this.usCollectionSize=this.AdminServ.Total},s=>{this.Users=[]})}),this.DataLoading=this.DataServ.LoadingData.subscribe(e=>{this.IsLoading=e})}OnPageChanged(e){this.usCurrentPage=e,this.router.navigate(["../",e.toString()],{relativeTo:this.ActiveRoute})}OnDeleteUser(e,s){this.AdminServ.DeleteUser(s),this.DataServ.DeleteUser(e),this.Users=this.AdminServ.GetUsers()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(u.gz),t.Y36(b.Z),t.Y36(z.f),t.Y36(u.F0))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-user-list"]],decls:3,vars:2,consts:[["class","row",4,"ngIf"],[1,"text-center"],["class","spinner-border","role","status",4,"ngIf"],[1,"row"],[1,"col"],[1,"input-group","mb-1"],[1,"input-group-prepend","mt-1"],["queryParamsHandling","merge",1,"btn","btn-outline-primary",3,"routerLink"],[3,"type","close",4,"ngIf"],[1,"list-group","mb-1"],["style","cursor: pointer;","class","list-group-item list-group-item-action d-flex justify-content-between align-items-center",3,"ngClass","click",4,"ngFor","ngForOf"],[3,"collectionSize","pageSize","page","rotate","boundaryLinks","maxSize","pageChange",4,"ngIf"],[3,"type","close"],[1,"list-group-item","list-group-item-action","d-flex","justify-content-between","align-items-center",2,"cursor","pointer",3,"ngClass","click"],[1,"input-group"],[1,"p-2","m-0","flex-grow-1",2,"place-items","center"],[1,"input-group-append"],["type","button",1,"btn","btn-outline-success","me-1",3,"routerLink"],["type","button",1,"btn","btn-outline-danger",3,"click"],[3,"collectionSize","pageSize","page","rotate","boundaryLinks","maxSize","pageChange"],["role","status",1,"spinner-border"],[1,"visually-hidden-focusable"]],template:function(e,s){1&e&&(t.YNc(0,Yt,10,6,"div",0),t.TgZ(1,"div",1),t.YNc(2,Jt,3,0,"div",2),t.qZA()),2&e&&(t.Q6J("ngIf",!s.IsLoading),t.xp6(2),t.Q6J("ngIf",s.IsLoading))},directives:[p.O5,u.rH,_.xm,p.sg,p.mk,_.N9],styles:[""]}),i})();var pe=c(2245);function Vt(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"ngb-alert",11),t.NdJ("close",function(){return t.CHM(e),t.oxw(2).ShowMessage=!1}),t._uU(1),t.qZA()}if(2&i){const e=t.oxw(2);t.Q6J("type",e.MessageType),t.xp6(1),t.hij(" ",e.ResponseFromBackend.Error.Message,"")}}function Ht(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div",12)(1,"a",13),t._UZ(2,"img",14),t.qZA(),t.TgZ(3,"div",15)(4,"button",16),t._uU(5,"Edit"),t.qZA(),t.TgZ(6,"button",17),t.NdJ("click",function(){const o=t.CHM(e),r=o.$implicit,a=o.index;return t.oxw(2).OnDeleteFile(r,a)}),t._uU(7,"Delete"),t.qZA()()()}if(2&i){const e=n.$implicit,s=n.index;t.xp6(1),t.Q6J("href",e.FileID,t.LSH),t.xp6(1),t.Q6J("src",e.PreviewID,t.LSH)("alt",e.Filename),t.xp6(2),t.Q6J("routerLink",s)}}function Qt(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"ngb-pagination",18),t.NdJ("pageChange",function(o){return t.CHM(e),t.oxw(2).OnPageChanged(o)}),t.qZA()}if(2&i){const e=t.oxw(2);t.Q6J("collectionSize",e.meCollectionSize)("pageSize",e.mePageSize)("page",e.meCurrentPage)("rotate",!0)("boundaryLinks",!0)("maxSize",11)}}const Gt=function(i){return["/admin/media",i,"new"]};function Kt(i,n){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,Vt,2,2,"ngb-alert",3),t.TgZ(2,"div",4)(3,"div",5)(4,"button",6),t._uU(5,"Add"),t.qZA()()(),t.TgZ(6,"div",7),t.YNc(7,Ht,8,4,"div",8),t.qZA(),t.TgZ(8,"div",9),t.YNc(9,Qt,1,6,"ngb-pagination",10),t.qZA()()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.ShowMessage),t.xp6(3),t.Q6J("routerLink",t.VKq(4,Gt,e.meCurrentPage)),t.xp6(3),t.Q6J("ngForOf",e.Files),t.xp6(2),t.Q6J("ngIf",e.meCollectionSize>e.mePageSize)}}function $t(i,n){1&i&&(t.TgZ(0,"div",19)(1,"span",20),t._uU(2,"Loading..."),t.qZA()())}let Wt=(()=>{class i{constructor(e,s,o,r){this.ActiveRoute=e,this.DataServ=s,this.MediaServ=o,this.router=r}ngOnDestroy(){this.RecivedErrorSub.unsubscribe(),this.PageChanged.unsubscribe(),this.DataLoading.unsubscribe(),this.FetchOnInint.unsubscribe()}ngOnInit(){this.mePageSize=f.N.MediaListPageSize,this.RecivedErrorSub=this.DataServ.RecivedError.subscribe(e=>{this.ShowMessage=!0,this.ResponseFromBackend=e,setTimeout(()=>this.ShowMessage=!1,5e3),e&&(this.MessageType=200===e.Error.Code?"success":"danger")}),this.PageChanged=this.ActiveRoute.params.subscribe(e=>{this.meCurrentPage=+e.pn,this.FetchOnInint=this.DataServ.FetchFilesList(this.meCurrentPage,f.N.MediaListPageSize).subscribe(s=>{this.Files=this.MediaServ.GetFiles(),this.meCollectionSize=this.MediaServ.Total},s=>{this.Files=[]})}),this.DataLoading=this.DataServ.LoadingData.subscribe(e=>{this.IsLoading=e})}OnPageChanged(e){this.meCurrentPage=e,this.router.navigate(["../",e.toString()],{relativeTo:this.ActiveRoute})}OnDeleteFile(e,s){this.MediaServ.DeleteFile(s),this.DataServ.DeleteFile(e.ID,!1),this.Files=this.MediaServ.GetFiles()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(u.gz),t.Y36(b.Z),t.Y36(pe.y),t.Y36(u.F0))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-media-list"]],decls:3,vars:2,consts:[[4,"ngIf"],[1,"text-center"],["class","spinner-border","role","status",4,"ngIf"],[3,"type","close",4,"ngIf"],[1,"input-group","ml-3"],[1,"input-group-prepend","mt-2"],["queryParamsHandling","merge",1,"btn","btn-outline-primary",3,"routerLink"],[1,"parent-media-box"],["class","media-box",4,"ngFor","ngForOf"],[1,"ml-3"],[3,"collectionSize","pageSize","page","rotate","boundaryLinks","maxSize","pageChange",4,"ngIf"],[3,"type","close"],[1,"media-box"],[3,"href"],[3,"src","alt"],[1,"media-box-overlay"],["type","button",1,"btn","btn-outline-success","me-1",3,"routerLink"],["type","button",1,"btn","btn-outline-danger",3,"click"],[3,"collectionSize","pageSize","page","rotate","boundaryLinks","maxSize","pageChange"],["role","status",1,"spinner-border"],[1,"visually-hidden-focusable"]],template:function(e,s){1&e&&(t.YNc(0,Kt,10,6,"div",0),t.TgZ(1,"div",1),t.YNc(2,$t,3,0,"div",2),t.qZA()),2&e&&(t.Q6J("ngIf",!s.IsLoading),t.xp6(2),t.Q6J("ngIf",s.IsLoading))},directives:[p.O5,_.xm,u.rH,p.sg,_.N9],styles:[".parent-media-box[_ngcontent-%COMP%]{display:grid;grid-gap:1rem;grid-template-columns:repeat(auto-fill,minmax(370px,1fr));grid-auto-rows:minmax(200px,auto);padding:.3rem}.media-box[_ngcontent-%COMP%]{font-size:2rem;padding:.3rem;border-radius:5px;display:inline-block;position:relative;border:1px solid rgba(0,0,0,.125);color:#495057;width:100%;height:100%;-o-object-fit:cover;object-fit:cover}.media-box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%;border-radius:5px;display:block}.media-box-overlay[_ngcontent-%COMP%]{position:absolute;bottom:.5rem;right:.5rem}"]}),i})();var Xt=c(162);function ei(i,n){1&i&&(t.TgZ(0,"div",4)(1,"span",5),t._uU(2,"Loading..."),t.qZA()())}function ti(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"ngb-alert",6),t.NdJ("close",function(){return t.CHM(e),t.oxw().ShowMessage=!1}),t._uU(1),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("type",e.MessageType),t.xp6(1),t.hij(" ",e.ResponseFromBackend.Error.Message,"")}}function ii(i,n){1&i&&(t.TgZ(0,"h2"),t._uU(1,"Edit"),t.qZA())}function ni(i,n){1&i&&(t.TgZ(0,"h2"),t._uU(1,"Create"),t.qZA())}function si(i,n){1&i&&(t.TgZ(0,"div",24)(1,"h4"),t._uU(2,"592x333"),t.qZA()())}function oi(i,n){if(1&i&&t._UZ(0,"img",25),2&i){const e=t.oxw(2);t.Q6J("src",e.FileToEdit.FileID,t.LSH)("alt",e.FileToEdit.Filename)}}function ri(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"form",null,7)(2,"div",8)(3,"div",9),t.YNc(4,ii,2,0,"h2",3),t.YNc(5,ni,2,0,"h2",3),t.YNc(6,si,3,0,"div",10),t.TgZ(7,"a",11),t.YNc(8,oi,1,2,"img",12),t.qZA(),t.TgZ(9,"button",13),t.NdJ("click",function(){return t.CHM(e),t.MAs(13).click()}),t.TgZ(10,"span"),t._uU(11,"Upload image"),t.qZA(),t.TgZ(12,"input",14,15),t.NdJ("change",function(o){return t.CHM(e),t.oxw().onFileInput(o)}),t.qZA()(),t.TgZ(14,"div",16),t._UZ(15,"div",17),t.qZA(),t.TgZ(16,"div",8)(17,"label",18),t._uU(18,"File name"),t.qZA(),t._UZ(19,"input",19),t.qZA(),t.TgZ(20,"div",8)(21,"label",18),t._uU(22,"File size"),t.qZA(),t._UZ(23,"input",20),t.qZA(),t.TgZ(24,"div",8)(25,"label",18),t._uU(26,"File type"),t.qZA(),t._UZ(27,"input",21),t.qZA(),t.TgZ(28,"div",8)(29,"label",18),t._uU(30,"File link"),t.qZA(),t._UZ(31,"input",22),t.qZA(),t.TgZ(32,"button",23),t._uU(33,"Cancel"),t.qZA()()()()}if(2&i){const e=t.oxw();t.xp6(4),t.Q6J("ngIf",e.editmode),t.xp6(1),t.Q6J("ngIf",!e.editmode),t.xp6(1),t.Q6J("ngIf",!e.FileToEdit.FileID),t.xp6(1),t.Q6J("href",e.FileToEdit.FileID,t.LSH),t.xp6(1),t.Q6J("ngIf",e.FileToEdit.FileID),t.xp6(1),t.Q6J("disabled",e.editmode),t.xp6(6),t.Akn(e.CurPercentStyle),t.xp6(4),t.Q6J("ngModel",e.FileToEdit.Filename)("disabled",!0),t.xp6(4),t.Q6J("ngModel",e.FileToEdit.Filesize)("disabled",!0),t.xp6(4),t.Q6J("ngModel",e.FileToEdit.Filetype)("disabled",!0),t.xp6(4),t.Q6J("ngModel",e.FileToEdit.FileID)("disabled",!0)}}let ge=(()=>{class i{constructor(e,s,o){this.MediaServ=e,this.activatedroute=s,this.datastore=o,this.CurPercentStyle="width: 0%"}ngOnDestroy(){this.DataLoading.unsubscribe(),this.RecivedErrorSub.unsubscribe(),this.FileProgress.unsubscribe(),this.FileUploaded.unsubscribe()}ngOnInit(){this.activatedroute.params.subscribe(e=>{this.editmode=null!=e.id,this.editmode?(this.index=+e.id,this.FileToEdit=this.MediaServ.GetFileById(this.index)):this.FileToEdit=new Xt.P("",0,"","","",0),this.MediaServ.CurrentSelectedItem=this.FileToEdit}),this.RecivedErrorSub=this.datastore.RecivedError.subscribe(e=>{this.ShowMessage=!0,this.ResponseFromBackend=e,setTimeout(()=>this.ShowMessage=!1,5e3),e&&(this.MessageType=200===e.Error.Code?"success":"danger")}),this.DataLoading=this.datastore.LoadingData.subscribe(e=>{this.IsLoading=e}),this.FileProgress=this.datastore.FileUploadProgress.subscribe(e=>{this.CurPercentStyle="width: "+e+"%"}),this.FileUploaded=this.datastore.FileUploaded.subscribe(e=>{this.FileToEdit=e,this.editmode=!0})}onFileInput(e){this.CurPercentStyle="width: 0%",this.datastore.FileUpload(e.target.files[0])}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(pe.y),t.Y36(u.gz),t.Y36(b.Z))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-media-edit"]],decls:4,vars:3,consts:[[1,"text-center"],["class","spinner-border","role","status",4,"ngIf"],[3,"type","close",4,"ngIf"],[4,"ngIf"],["role","status",1,"spinner-border"],[1,"visually-hidden-focusable"],[3,"type","close"],["FileEditForm","ngForm"],[1,"form-group"],[2,"margin","3px"],["class","image-placeholder mx-auto",4,"ngIf"],[3,"href"],["class","rounded d-block mx-auto","style","margin: 3px; max-width: 500px; max-height: 333px; max-width: 100%;",3,"src","alt",4,"ngIf"],["type","button",1,"btn","btn-outline-primary",2,"margin","3px",3,"disabled","click"],["type","file","accept","image/*",1,"form-control-file",2,"display","none",3,"change"],["fileInput",""],[1,"progress","mb-1"],["role","progressbar",1,"progress-bar","progress-bar-striped","progress-bar-animated"],["for","name"],["type","text","id","fname","placeholder","placeholder.jpg","name","filename","required","",1,"form-control","mb-1",3,"ngModel","disabled"],["type","text","id","fsize","placeholder","0","name","filesize","required","",1,"form-control","mb-1",3,"ngModel","disabled"],["type","text","id","ftype","placeholder","jpg","name","filetype","required","",1,"form-control","mb-1",3,"ngModel","disabled"],["type","text","id","flink","placeholder","/uploads/placeholder.jpg","name","filelink","required","",1,"form-control","mb-1",3,"ngModel","disabled"],["type","button","routerLink","..",1,"btn","btn-outline-danger",2,"margin-left","3px"],[1,"image-placeholder","mx-auto"],[1,"rounded","d-block","mx-auto",2,"margin","3px","max-width","500px","max-height","333px","max-width","100%",3,"src","alt"]],template:function(e,s){1&e&&(t.TgZ(0,"div",0),t.YNc(1,ei,3,0,"div",1),t.qZA(),t.YNc(2,ti,2,2,"ngb-alert",2),t.YNc(3,ri,34,16,"form",3)),2&e&&(t.xp6(1),t.Q6J("ngIf",s.IsLoading),t.xp6(1),t.Q6J("ngIf",s.ShowMessage),t.xp6(1),t.Q6J("ngIf",s.FileToEdit))},directives:[p.O5,_.xm,l._Y,l.JL,l.F,l.Fj,l.Q7,l.JJ,l.On,u.rH],styles:["input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:#ff0a1d!important;box-shadow:none!important}input.ng-invalid.ng-touched[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem #ff0a1d40!important}input.ng-valid.ng-touched[_ngcontent-%COMP%]{border-color:#67c07b!important;box-shadow:none!important}input.ng-valid.ng-touched[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem #34b30d40!important}.image-placeholder[_ngcontent-%COMP%]{background-color:#eee;display:flex;height:333px;margin:5px;border-radius:3px;max-width:592px}.image-placeholder[_ngcontent-%COMP%] > h4[_ngcontent-%COMP%]{align-self:center;text-align:center;width:100%}"]}),i})();var me=c(9101);function ai(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"ngb-alert",15),t.NdJ("close",function(){return t.CHM(e),t.oxw(2).ShowMessage=!1}),t._uU(1),t.qZA()}if(2&i){const e=t.oxw(2);t.Q6J("type",e.MessageType),t.xp6(1),t.hij(" ",e.ResponseFromBackend.Error.Message,"")}}function li(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"li",16),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw(2).SessServ.SelectItemSessionsList(r)}),t.TgZ(1,"div",17)(2,"p",18),t._uU(3),t.qZA(),t.TgZ(4,"div",19)(5,"button",20),t._uU(6,"Edit"),t.qZA(),t.TgZ(7,"button",21),t.NdJ("click",function(){const o=t.CHM(e),r=o.$implicit,a=o.index;return t.oxw(2).OnDeleteSession(r,a)}),t._uU(8,"Delete"),t.qZA()()()()}if(2&i){const e=n.$implicit,s=n.index,o=t.oxw(2);t.Q6J("ngClass",o.SessServ.IsCurrentSelected(e)?"active":""),t.xp6(3),t.hij(" ",e.Email+" "+e.IP,""),t.xp6(2),t.Q6J("routerLink",s)}}function ci(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"ngb-pagination",22),t.NdJ("pageChange",function(o){return t.CHM(e),t.oxw(2).OnPageChanged(o)}),t.qZA()}if(2&i){const e=t.oxw(2);t.Q6J("collectionSize",e.sesCollectionSize)("pageSize",e.sesPageSize)("page",e.sesCurrentPage)("rotate",!0)("boundaryLinks",!0)("maxSize",11)}}function di(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div",3)(1,"div",4),t.YNc(2,ai,2,2,"ngb-alert",5),t.TgZ(3,"form",6,7),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.MAs(4);return t.oxw().OnDeleteSessionByEmail(o)}),t.TgZ(5,"div",8)(6,"label",9),t._uU(7,"Email"),t.qZA(),t._UZ(8,"input",10),t.TgZ(9,"button",11),t._uU(10,"Delete"),t.qZA()()(),t.TgZ(11,"ul",12),t.YNc(12,li,9,3,"li",13),t.qZA(),t.YNc(13,ci,1,6,"ngb-pagination",14),t.qZA()()}if(2&i){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",e.ShowMessage),t.xp6(10),t.Q6J("ngForOf",e.Sessions),t.xp6(1),t.Q6J("ngIf",e.sesCollectionSize>e.sesPageSize)}}function ui(i,n){1&i&&(t.TgZ(0,"div",23)(1,"span",24),t._uU(2,"Loading..."),t.qZA()())}let hi=(()=>{class i{constructor(e,s,o,r){this.ActiveRoute=e,this.DataServ=s,this.SessServ=o,this.router=r}ngOnDestroy(){this.RecivedErrorSub.unsubscribe(),this.PageChanged.unsubscribe(),this.DataLoading.unsubscribe(),this.FetchOnInint.unsubscribe()}ngOnInit(){this.sesPageSize=f.N.SessionsListPageSize,this.RecivedErrorSub=this.DataServ.RecivedError.subscribe(e=>{this.ShowMessage=!0,this.ResponseFromBackend=e,setTimeout(()=>this.ShowMessage=!1,5e3),e&&(this.MessageType=200===e.Error.Code?"success":"danger")}),this.PageChanged=this.ActiveRoute.params.subscribe(e=>{this.sesCurrentPage=+e.pn,this.GetRecentData()}),this.DataLoading=this.DataServ.LoadingData.subscribe(e=>{this.IsLoading=e})}GetRecentData(){this.FetchOnInint=this.DataServ.FetchSessionsList(this.sesCurrentPage,f.N.SessionsListPageSize).subscribe(e=>{this.Sessions=this.SessServ.GetSessions(),this.sesCollectionSize=this.SessServ.Total},e=>{this.Sessions=[]})}OnPageChanged(e){this.sesCurrentPage=e,this.router.navigate(["../",e.toString()],{relativeTo:this.ActiveRoute})}OnDeleteSession(e,s){this.SessServ.DeleteSession(s),this.DataServ.DeleteSessionByToken(e.Token),this.Sessions=this.SessServ.GetSessions()}OnDeleteSessionByEmail(e){e.valid&&(this.DataServ.DeleteSessionByEmail(e.value.useremail),this.GetRecentData())}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(u.gz),t.Y36(b.Z),t.Y36(me.j),t.Y36(u.F0))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-sessions-list"]],decls:3,vars:2,consts:[["class","row",4,"ngIf"],[1,"text-center"],["class","spinner-border","role","status",4,"ngIf"],[1,"row"],[1,"col"],[3,"type","close",4,"ngIf"],[1,"mt-1","mb-1",3,"ngSubmit"],["DelSesByEmailForm","ngForm"],[1,"form-group"],["for","email"],["type","email","id","email","placeholder","exampe@example.com","name","useremail","ngModel","","required","","email","",1,"form-control","mb-1"],["type","submit",1,"btn","btn-outline-danger"],[1,"list-group","mb-1"],["style","cursor: pointer;","class","list-group-item list-group-item-action d-flex justify-content-between align-items-center",3,"ngClass","click",4,"ngFor","ngForOf"],[3,"collectionSize","pageSize","page","rotate","boundaryLinks","maxSize","pageChange",4,"ngIf"],[3,"type","close"],[1,"list-group-item","list-group-item-action","d-flex","justify-content-between","align-items-center",2,"cursor","pointer",3,"ngClass","click"],[1,"input-group"],[1,"p-2","m-0","flex-grow-1",2,"place-items","center"],[1,"input-group-append"],["type","button",1,"btn","btn-outline-success","me-1",3,"routerLink"],["type","button",1,"btn","btn-outline-danger",3,"click"],[3,"collectionSize","pageSize","page","rotate","boundaryLinks","maxSize","pageChange"],["role","status",1,"spinner-border"],[1,"visually-hidden-focusable"]],template:function(e,s){1&e&&(t.YNc(0,di,14,3,"div",0),t.TgZ(1,"div",1),t.YNc(2,ui,3,0,"div",2),t.qZA()),2&e&&(t.Q6J("ngIf",!s.IsLoading),t.xp6(2),t.Q6J("ngIf",s.IsLoading))},directives:[p.O5,_.xm,l._Y,l.JL,l.F,l.Fj,l.JJ,l.On,l.Q7,l.on,p.sg,p.mk,u.rH,_.N9],styles:[""]}),i})();function pi(i,n){1&i&&(t.TgZ(0,"div",4)(1,"span",5),t._uU(2,"Loading..."),t.qZA()())}function gi(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"ngb-alert",6),t.NdJ("close",function(){return t.CHM(e),t.oxw().ShowMessage=!1}),t._uU(1),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("type",e.MessageType),t.xp6(1),t.hij(" ",e.ResponseFromBackend.Error.Message,"")}}function mi(i,n){1&i&&(t.TgZ(0,"h2"),t._uU(1,"Edit"),t.qZA())}function _i(i,n){1&i&&(t.TgZ(0,"h2"),t._uU(1,"Create"),t.qZA())}function fi(i,n){if(1&i&&(t.TgZ(0,"form",null,7)(2,"div",8)(3,"div",9),t.YNc(4,mi,2,0,"h2",3),t.YNc(5,_i,2,0,"h2",3),t.TgZ(6,"div",8)(7,"label",10),t._uU(8,"Email"),t.qZA(),t._UZ(9,"input",11),t.qZA(),t.TgZ(10,"div",8)(11,"label",12),t._uU(12,"IP"),t.qZA(),t._UZ(13,"input",13),t.qZA(),t.TgZ(14,"div",8)(15,"label",12),t._uU(16,"User agent"),t.qZA(),t._UZ(17,"input",14),t.qZA(),t.TgZ(18,"div",8)(19,"label",15),t._uU(20,"Select role:"),t.qZA(),t.TgZ(21,"select",16)(22,"option",17),t._uU(23,"Guest"),t.qZA(),t.TgZ(24,"option",18),t._uU(25,"Admin"),t.qZA()()(),t.TgZ(26,"div",8)(27,"label",12),t._uU(28,"Token"),t.qZA(),t._UZ(29,"input",19),t.qZA(),t.TgZ(30,"div",8)(31,"label",12),t._uU(32,"Session"),t.qZA(),t._UZ(33,"input",20),t.qZA(),t.TgZ(34,"div",8)(35,"label",12),t._uU(36,"Issued"),t.qZA(),t._UZ(37,"input",21),t.qZA(),t.TgZ(38,"div",8)(39,"label",12),t._uU(40,"Expires"),t.qZA(),t._UZ(41,"input",22),t.qZA(),t.TgZ(42,"button",23),t._uU(43,"Cancel"),t.qZA()()()()),2&i){const e=t.oxw();t.xp6(4),t.Q6J("ngIf",e.editmode),t.xp6(1),t.Q6J("ngIf",!e.editmode),t.xp6(4),t.Q6J("ngModel",e.SessionToEdit.Email)("disabled",!0),t.xp6(4),t.Q6J("ngModel",e.SessionToEdit.IP)("disabled",!0),t.xp6(4),t.Q6J("ngModel",e.SessionToEdit.UserAgent)("disabled",!0),t.xp6(4),t.Q6J("ngModel",e.SessionToEdit.Role)("disabled",!0),t.xp6(8),t.Q6J("ngModel",e.SessionToEdit.Token)("disabled",!0),t.xp6(4),t.Q6J("ngModel",e.SessionToEdit.Session)("disabled",!0),t.xp6(4),t.Q6J("ngModel",e.SessionToEdit.IssDate)("disabled",!0),t.xp6(4),t.Q6J("ngModel",e.SessionToEdit.ExpDate)("disabled",!0)}}let _e=(()=>{class i{constructor(e,s,o){this.SessServ=e,this.activatedroute=s,this.datastore=o}ngOnDestroy(){this.DataLoading.unsubscribe(),this.RecivedErrorSub.unsubscribe()}ngOnInit(){this.activatedroute.params.subscribe(e=>{this.editmode=null!=e.id,this.editmode&&(this.index=+e.id,this.SessionToEdit=this.SessServ.GetSessionById(this.index)),this.SessServ.CurrentSelectedItem=this.SessionToEdit}),this.RecivedErrorSub=this.datastore.RecivedError.subscribe(e=>{this.ShowMessage=!0,this.ResponseFromBackend=e,setTimeout(()=>this.ShowMessage=!1,5e3),e&&(this.MessageType=200===e.Error.Code?"success":"danger")}),this.DataLoading=this.datastore.LoadingData.subscribe(e=>{this.IsLoading=e})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(me.j),t.Y36(u.gz),t.Y36(b.Z))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-sessions-edit"]],decls:4,vars:3,consts:[[1,"text-center"],["class","spinner-border","role","status",4,"ngIf"],[3,"type","close",4,"ngIf"],[4,"ngIf"],["role","status",1,"spinner-border"],[1,"visually-hidden-focusable"],[3,"type","close"],["SessionEditForm","ngForm"],[1,"form-group"],[2,"margin","3px"],["for","email"],["type","email","id","email","placeholder","exampe@example.com","name","sessionemail","required","","email","",1,"form-control","mb-1",3,"ngModel","disabled"],["for","name"],["type","text","id","ip","placeholder","example","name","sessionip","required","",1,"form-control","mb-1",3,"ngModel","disabled"],["type","text","id","useragent","placeholder","example","name","sessionuseragent","required","",1,"form-control","mb-1",3,"ngModel","disabled"],["for","roles"],["name","sessionrole","id","roles","required","",1,"form-control",3,"ngModel","disabled"],["value","guest_role_read_only"],["value","admin_role_CRUD"],["type","text","id","token","placeholder","example","name","sessiontoken","required","",1,"form-control","mb-1",3,"ngModel","disabled"],["type","text","id","session","placeholder","example","name","sessionsession","required","",1,"form-control","mb-1",3,"ngModel","disabled"],["type","text","id","issued","placeholder","example","name","sessionissued","required","",1,"form-control","mb-1",3,"ngModel","disabled"],["type","text","id","expires","placeholder","example","name","sessionexpires","required","",1,"form-control","mb-1",3,"ngModel","disabled"],["type","button","routerLink","..",1,"btn","btn-outline-danger",2,"margin-left","3px"]],template:function(e,s){1&e&&(t.TgZ(0,"div",0),t.YNc(1,pi,3,0,"div",1),t.qZA(),t.YNc(2,gi,2,2,"ngb-alert",2),t.YNc(3,fi,44,18,"form",3)),2&e&&(t.xp6(1),t.Q6J("ngIf",s.IsLoading),t.xp6(1),t.Q6J("ngIf",s.ShowMessage),t.xp6(1),t.Q6J("ngIf",s.SessionToEdit))},directives:[p.O5,_.xm,l._Y,l.JL,l.F,l.Fj,l.Q7,l.on,l.JJ,l.On,l.EJ,l.YN,l.Kr,u.rH],styles:[""]}),i})();const bi=[{path:"",redirectTo:"users",pathMatch:"full"},{path:"users",component:N,canActivate:[F.a],children:[{path:"",redirectTo:"1",pathMatch:"full"},{path:":pn",component:zt,canActivate:[L.p],data:{expectedRole:"admin_role_CRUD"}},{path:":pn/new",component:he},{path:":pn/:id",component:he,resolve:[fe]}]},{path:"sessions",component:N,canActivate:[F.a],children:[{path:"",redirectTo:"1",pathMatch:"full"},{path:":pn",component:hi,canActivate:[L.p],data:{expectedRole:"admin_role_CRUD"}},{path:":pn/new",component:_e},{path:":pn/:id",component:_e,resolve:[ve]}]},{path:"media",component:N,canActivate:[F.a],children:[{path:"",redirectTo:"1",pathMatch:"full"},{path:":pn",component:Wt,canActivate:[L.p],data:{expectedRole:"admin_role_CRUD"}},{path:":pn/new",component:ge},{path:":pn/:id",component:ge,resolve:[be]}]}];let vi=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[u.Bz.forChild(bi)],u.Bz]}),i})(),Mi=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[p.ez,l.u5,_._A,_.jF,vi,Ft]]}),i})()}}]);