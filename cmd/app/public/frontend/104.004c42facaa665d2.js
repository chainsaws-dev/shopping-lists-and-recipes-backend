"use strict";(self.webpackChunkshopping_lists_and_recipes=self.webpackChunkshopping_lists_and_recipes||[]).push([[104],{9104:(T,l,s)=>{s.r(l),s.d(l,{ConfirmEmailModule:()=>w});var c=s(9808),m=s(5909),e=s(5e3),p=s(3649),r=s(2382),d=s(8986);function u(n,o){1&n&&e._UZ(0,"input",18)}function g(n,o){1&n&&e._UZ(0,"input",19)}function f(n,o){if(1&n&&(e.TgZ(0,"div",20)(1,"div",21)(2,"button",22),e._uU(3),e.qZA()()()),2&n){e.oxw();const t=e.MAs(2),i=e.oxw(2);e.xp6(2),e.Q6J("disabled",t.invalid),e.xp6(1),e.Oqu(i.ResetPasswordMode&&i.Token?"Save":"Send")}}function h(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",11)(1,"form",12,13),e.NdJ("ngSubmit",function(){e.CHM(t);const a=e.MAs(2);return e.oxw(2).OnSubmitForm(a)}),e.TgZ(3,"div",14),e.YNc(4,u,1,0,"input",15),e.YNc(5,g,1,0,"input",16),e.qZA(),e.YNc(6,f,4,2,"div",17),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(4),e.Q6J("ngIf",!t.Token),e.xp6(1),e.Q6J("ngIf",t.ResetPasswordMode&&t.Token),e.xp6(1),e.Q6J("ngIf",!t.Token||t.ResetPasswordMode)}}function _(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"ngb-alert",25),e.NdJ("close",function(){return e.CHM(t),e.oxw(3).ShowMessage=!1}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw(3);e.Q6J("type",t.MessageType),e.xp6(1),e.Oqu(t.ResponseFromBackend.Error.Message)}}function v(n,o){if(1&n&&(e.TgZ(0,"div",23),e.YNc(1,_,2,2,"ngb-alert",24),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.ShowMessage)}}function b(n,o){if(1&n&&(e.TgZ(0,"div",4)(1,"div",5)(2,"h3"),e._uU(3),e.qZA()(),e.YNc(4,h,7,3,"div",6),e.TgZ(5,"div",7)(6,"div",8)(7,"a",9),e._uU(8,"Back"),e.qZA()()(),e.YNc(9,v,2,1,"div",10),e.qZA()),2&n){const t=e.oxw();e.xp6(3),e.Oqu(t.ResetPasswordMode?"Reset password":"Confirm email"),e.xp6(1),e.Q6J("ngIf",!t.Token||t.ResetPasswordMode),e.xp6(5),e.Q6J("ngIf",t.ShowMessage)}}function x(n,o){1&n&&(e.TgZ(0,"div",26)(1,"span",27),e._uU(2,"Loading..."),e.qZA()())}const C=[{path:"",component:(()=>{class n{constructor(t,i,a){this.DataServ=t,this.activeroute=i,this.router=a,this.IsLoading=!1}ngOnDestroy(){this.RecivedErrorSub.unsubscribe(),this.RecivedResponseSub.unsubscribe(),this.DataServiceSub.unsubscribe()}ngOnInit(){this.DataServiceSub=this.DataServ.LoadingData.subscribe(t=>{this.IsLoading=t}),this.RecivedErrorSub=this.DataServ.RecivedError.subscribe(t=>{this.ShowMessage=!0,this.ResponseFromBackend=t,setTimeout(()=>this.ShowMessage=!1,5e3),t&&(this.MessageType=200===t.Error.Code?"success":"danger")}),this.activeroute.queryParams.subscribe(t=>{this.Token=t.Token;const i=this.getUrlWithoutParams();this.ResetPasswordMode="/reset-password"===i,this.ResetPasswordMode||this.Token&&this.DataServ.ConfirmEmail(this.Token)})}getUrlWithoutParams(){const t=this.router.parseUrl(this.router.url);return t.queryParams={},t.toString()}OnSubmitForm(t){t.valid&&(this.IsLoading=!0,this.ResetPasswordMode&&this.Token?this.DataServ.SubmitNewPassword(this.Token,t.value.newpassword):this.ResetPasswordMode?this.DataServ.SendEmailResetPassword(t.value.email):this.DataServ.SendEmailConfirmEmail(t.value.email),t.reset())}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(p.Z),e.Y36(m.gz),e.Y36(m.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-confirm-email"]],decls:4,vars:2,consts:[[1,"main-parent-login"],["class","card mx-auto","style","margin-top: 3px;",4,"ngIf"],[1,"text-center"],["class","spinner-border","role","status",4,"ngIf"],[1,"card","mx-auto",2,"margin-top","3px"],[1,"card-header"],["class","card-body",4,"ngIf"],[1,"card-footer"],[1,"d-flex","justify-content-center"],["href","/"],["style","padding: 3px",4,"ngIf"],[1,"card-body"],[3,"ngSubmit"],["ResendConfEmailForm","ngForm"],[1,"input-group","form-group"],["type","email","name","email","class","form-control mb-3","placeholder","E-mail","placement","right","ngbTooltip","Registered email required","ngModel","","email","","required","",4,"ngIf"],["type","password","name","newpassword","class","form-control mb-3","placeholder","New password","ngModel","","minlength","6","placement","right","ngbTooltip","Minimum 6 chars","required","",4,"ngIf"],["class","form-group float-right",4,"ngIf"],["type","email","name","email","placeholder","E-mail","placement","right","ngbTooltip","Registered email required","ngModel","","email","","required","",1,"form-control","mb-3"],["type","password","name","newpassword","placeholder","New password","ngModel","","minlength","6","placement","right","ngbTooltip","Minimum 6 chars","required","",1,"form-control","mb-3"],[1,"form-group","float-right"],[1,"input-group"],["type","submit",1,"btn","btn","btn-outline-primary",3,"disabled"],[2,"padding","3px"],[3,"type","close",4,"ngIf"],[3,"type","close"],["role","status",1,"spinner-border"],[1,"visually-hidden-focusable"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.YNc(1,b,10,3,"div",1),e.TgZ(2,"div",2),e.YNc(3,x,3,0,"div",3),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("ngIf",!i.IsLoading),e.xp6(2),e.Q6J("ngIf",i.IsLoading))},directives:[c.O5,r._Y,r.JL,r.F,r.Fj,d._L,r.JJ,r.On,r.on,r.Q7,r.wO,d.xm],styles:[".main-parent-login[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.card[_ngcontent-%COMP%]{width:300px}.remember[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:20px;height:20px;margin-left:15px;margin-right:5px}input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:#ff0a1d!important;box-shadow:none!important}input.ng-invalid.ng-touched[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem #ff0a1d40!important}input.ng-valid.ng-touched[_ngcontent-%COMP%]{border-color:#67c07b!important;box-shadow:none!important}input.ng-valid.ng-touched[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem #34b30d40!important}"]}),n})()}];let w=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[c.ez,r.u5,d._A,m.Bz.forChild(C),d.HK]]}),n})()}}]);