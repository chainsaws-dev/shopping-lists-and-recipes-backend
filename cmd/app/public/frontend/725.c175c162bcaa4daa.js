"use strict";(self.webpackChunkshopping_lists_and_recipes=self.webpackChunkshopping_lists_and_recipes||[]).push([[725],{6725:(Oi,Q,u)=>{u.r(Q),u.d(Q,{AdminModule:()=>Si,httpTranslateLoader:()=>ye});var p=u(1048),c=u(1659),f=u(2719),h=u(1404),U=u(3870),P=u(9805),d=u(2340),q=u(7969),e=u(9724),v=u(3649);let Te=(()=>{class i{constructor(t){this.datastorageservice=t}resolve(t,n){const r=t.params.id;return this.datastorageservice.FetchUsersList(t.params.pn,d.N.AdminUserListPageSize).pipe((0,q.U)(a=>a.Users[r]))}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(v.Z))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Ee=(()=>{class i{constructor(t){this.datastorageservice=t}resolve(t,n){const r=t.params.id;return this.datastorageservice.FetchFilesList(t.params.pn,d.N.MediaListPageSize).pipe((0,q.U)(a=>a.Files[r]))}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(v.Z))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),xe=(()=>{class i{constructor(t){this.datastorageservice=t}resolve(t,n){const r=t.params.id;return this.datastorageservice.FetchSessionsList(t.params.pn,d.N.SessionsListPageSize).pipe((0,q.U)(a=>a.Sessions[r]))}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(v.Z))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var _=u(4190),M=u(4800);let B=(()=>{class i{constructor(t,n){this.translate=t,this.sitetitle=n,t.addLangs(d.N.SupportedLangs),t.setDefaultLang(d.N.DefaultLocale)}ngOnInit(){const t=localStorage.getItem("userLang");this.SwitchLanguage(null!==t?t:d.N.DefaultLocale)}SwitchLanguage(t){this.translate.use(t),localStorage.setItem("userLang",t),this.translate.get("WebsiteTitleText",t).subscribe({next:n=>{this.sitetitle.setTitle(n)},error:n=>{console.log(n)}})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(_.sK),e.Y36(M.Dx))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-admin"]],decls:14,vars:9,consts:[[1,"nav","nav-tabs"],[1,"active"],["routerLink","/admin/users","routerLinkActive","active",1,"nav-link"],["routerLink","/admin/sessions","routerLinkActive","active",1,"nav-link"],["routerLink","/admin/media","routerLinkActive","active",1,"nav-link"]],template:function(t,n){1&t&&(e.TgZ(0,"ul",0)(1,"li",1)(2,"a",2),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.TgZ(5,"li")(6,"a",3),e._uU(7),e.ALo(8,"translate"),e.qZA()(),e.TgZ(9,"li")(10,"a",4),e._uU(11),e.ALo(12,"translate"),e.qZA()()(),e._UZ(13,"router-outlet")),2&t&&(e.xp6(3),e.Oqu(e.lcZ(4,3,"Users")),e.xp6(4),e.Oqu(e.lcZ(8,5,"Sessions")),e.xp6(4),e.Oqu(e.lcZ(12,7,"Media")))},directives:[h.yS,h.Od,h.lC],pipes:[_.X$],styles:[""]}),i})();var Ce=u(1203),G=u(9112),E=u(384);function S(i){return null!=i&&"false"!=`${i}`}function K(i,s=0){return function Ae(i){return!isNaN(parseFloat(i))&&!isNaN(Number(i))}(i)?Number(i):s}function x(i){return i instanceof e.SBq?i.nativeElement:i}var De=u(818),j=u(8023),Ie=u(2844),Se=u(2085),Le=u(8499);let Y,$=(()=>{class i{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),we=(()=>{class i{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,n)=>this._cleanupObserver(n))}observe(t){const n=x(t);return new De.y(o=>{const a=this._observeElement(n).subscribe(o);return()=>{a.unsubscribe(),this._unobserveElement(n)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const n=new j.x,o=this._mutationObserverFactory.create(r=>n.next(r));o&&o.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:o,stream:n,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:n,stream:o}=this._observedElements.get(t);n&&n.disconnect(),o.complete(),this._observedElements.delete(t)}}}return i.\u0275fac=function(t){return new(t||i)(e.LFG($))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Fe=(()=>{class i{constructor(t,n,o){this._contentObserver=t,this._elementRef=n,this._ngZone=o,this.event=new e.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=S(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=K(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(function Oe(i,s=Ie.z){return(0,Se.e)((t,n)=>{let o=null,r=null,a=null;const l=()=>{if(o){o.unsubscribe(),o=null;const b=r;r=null,n.next(b)}};function g(){const b=a+i,m=s.now();if(m<b)return o=this.schedule(void 0,b-m),void n.add(o);l()}t.subscribe((0,Le.x)(n,b=>{r=b,a=s.now(),o||(o=s.schedule(g,i),n.add(o))},()=>{l(),n.complete()},void 0,()=>{r=o=null}))})}(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(we),e.Y36(e.SBq),e.Y36(e.R0b))},i.\u0275dir=e.lG2({type:i,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),i})(),ke=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[$]}),i})(),W=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({}),i})();try{Y="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(i){Y=!1}let L,z,F=(()=>{class i{constructor(t){this._platformId=t,this.isBrowser=this._platformId?(0,p.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Y)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(e.Lbi))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function J(i){return function Ze(){if(null==L&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>L=!0}))}finally{L=L||!1}return L}()?i:!!i.capture}function O(i){return i.composedPath?i.composedPath()[0]:i.target}var Be=u(4121),je=u(4945),Qe=u(1588),Ge=u(2147),Ke=u(3528);function se(i){return 0===i.buttons||0===i.offsetX&&0===i.offsetY}function oe(i){const s=i.touches&&i.touches[0]||i.changedTouches&&i.changedTouches[0];return!(!s||-1!==s.identifier||null!=s.radiusX&&1!==s.radiusX||null!=s.radiusY&&1!==s.radiusY)}const st=new e.OlP("cdk-input-modality-detector-options"),ot={ignoreKeys:[18,17,224,91,16]},D=J({passive:!0,capture:!0});let rt=(()=>{class i{constructor(t,n,o,r){this._platform=t,this._mostRecentTarget=null,this._modality=new Be.X(null),this._lastTouchMs=0,this._onKeydown=a=>{var l,g;(null===(g=null===(l=this._options)||void 0===l?void 0:l.ignoreKeys)||void 0===g?void 0:g.some(b=>b===a.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=O(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<650||(this._modality.next(se(a)?"keyboard":"mouse"),this._mostRecentTarget=O(a))},this._onTouchstart=a=>{oe(a)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=O(a))},this._options=Object.assign(Object.assign({},ot),r),this.modalityDetected=this._modality.pipe((0,Qe.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,Ge.x)()),t.isBrowser&&n.runOutsideAngular(()=>{o.addEventListener("keydown",this._onKeydown,D),o.addEventListener("mousedown",this._onMousedown,D),o.addEventListener("touchstart",this._onTouchstart,D)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,D),document.removeEventListener("mousedown",this._onMousedown,D),document.removeEventListener("touchstart",this._onTouchstart,D))}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(F),e.LFG(e.R0b),e.LFG(p.K0),e.LFG(st,8))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const lt=new e.OlP("cdk-focus-monitor-default-options"),R=J({passive:!0,capture:!0});let ct=(()=>{class i{constructor(t,n,o,r,a){this._ngZone=t,this._platform=n,this._inputModalityDetector=o,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new j.x,this._rootNodeFocusAndBlurListener=l=>{const g=O(l),b="focus"===l.type?this._onFocus:this._onBlur;for(let m=g;m;m=m.parentElement)b.call(this,l,m)},this._document=r,this._detectionMode=(null==a?void 0:a.detectionMode)||0}monitor(t,n=!1){const o=x(t);if(!this._platform.isBrowser||1!==o.nodeType)return(0,je.of)(null);const r=function Pe(i){if(function Ue(){if(null==z){const i="undefined"!=typeof document?document.head:null;z=!(!i||!i.createShadowRoot&&!i.attachShadow)}return z}()){const s=i.getRootNode?i.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&s instanceof ShadowRoot)return s}return null}(o)||this._getDocument(),a=this._elementInfo.get(o);if(a)return n&&(a.checkChildren=!0),a.subject;const l={checkChildren:n,subject:new j.x,rootNode:r};return this._elementInfo.set(o,l),this._registerGlobalListeners(l),l.subject}stopMonitoring(t){const n=x(t),o=this._elementInfo.get(n);o&&(o.subject.complete(),this._setClasses(n),this._elementInfo.delete(n),this._removeGlobalListeners(o))}focusVia(t,n,o){const r=x(t);r===this._getDocument().activeElement?this._getClosestElementsInfo(r).forEach(([l,g])=>this._originChanged(l,n,g)):(this._setOrigin(n),"function"==typeof r.focus&&r.focus(o))}ngOnDestroy(){this._elementInfo.forEach((t,n)=>this.stopMonitoring(n))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!(null==t?void 0:t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,n){t.classList.toggle("cdk-focused",!!n),t.classList.toggle("cdk-touch-focused","touch"===n),t.classList.toggle("cdk-keyboard-focused","keyboard"===n),t.classList.toggle("cdk-mouse-focused","mouse"===n),t.classList.toggle("cdk-program-focused","program"===n)}_setOrigin(t,n=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&n,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,n){const o=this._elementInfo.get(n),r=O(t);!o||!o.checkChildren&&n!==r||this._originChanged(n,this._getFocusOrigin(r),o)}_onBlur(t,n){const o=this._elementInfo.get(n);!o||o.checkChildren&&t.relatedTarget instanceof Node&&n.contains(t.relatedTarget)||(this._setClasses(n),this._emitOrigin(o.subject,null))}_emitOrigin(t,n){this._ngZone.run(()=>t.next(n))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const n=t.rootNode,o=this._rootNodeFocusListenerCount.get(n)||0;o||this._ngZone.runOutsideAngular(()=>{n.addEventListener("focus",this._rootNodeFocusAndBlurListener,R),n.addEventListener("blur",this._rootNodeFocusAndBlurListener,R)}),this._rootNodeFocusListenerCount.set(n,o+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,Ke.R)(this._stopInputModalityDetector)).subscribe(r=>{this._setOrigin(r,!0)}))}_removeGlobalListeners(t){const n=t.rootNode;if(this._rootNodeFocusListenerCount.has(n)){const o=this._rootNodeFocusListenerCount.get(n);o>1?this._rootNodeFocusListenerCount.set(n,o-1):(n.removeEventListener("focus",this._rootNodeFocusAndBlurListener,R),n.removeEventListener("blur",this._rootNodeFocusAndBlurListener,R),this._rootNodeFocusListenerCount.delete(n))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,n,o){this._setClasses(t,n),this._emitOrigin(o.subject,n),this._lastFocusOrigin=n}_getClosestElementsInfo(t){const n=[];return this._elementInfo.forEach((o,r)=>{(r===t||o.checkChildren&&r.contains(t))&&n.push([r,o])}),n}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(e.R0b),e.LFG(F),e.LFG(rt),e.LFG(p.K0,8),e.LFG(lt,8))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const ae="cdk-high-contrast-black-on-white",le="cdk-high-contrast-white-on-black",V="cdk-high-contrast-active";let dt=(()=>{class i{constructor(t,n){this._platform=t,this._document=n}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const n=this._document.defaultView||window,o=n&&n.getComputedStyle?n.getComputedStyle(t):null,r=(o&&o.backgroundColor||"").replace(/ /g,"");switch(t.remove(),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(V),t.remove(ae),t.remove(le),this._hasCheckedHighContrastMode=!0;const n=this.getHighContrastMode();1===n?(t.add(V),t.add(ae)):2===n&&(t.add(V),t.add(le))}}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(F),e.LFG(p.K0))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var ce=u(3258);const ht=new e.OlP("mat-sanity-checks",{providedIn:"root",factory:function ut(){return!0}});let N=(()=>{class i{constructor(t,n,o){this._sanityChecks=n,this._document=o,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!function qe(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(dt),e.LFG(ht,8),e.LFG(p.K0))},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[W],W]}),i})();function gt(i){return class extends i{constructor(...s){super(...s),this._disabled=!1}get disabled(){return this._disabled}set disabled(s){this._disabled=S(s)}}}function pt(i,s){return class extends i{constructor(...t){super(...t),this.defaultColor=s,this.color=s}get color(){return this._color}set color(t){const n=t||this.defaultColor;n!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),n&&this._elementRef.nativeElement.classList.add(`mat-${n}`),this._color=n)}}}function mt(i){return class extends i{constructor(...s){super(...s),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(s){this._disableRipple=S(s)}}}function _t(i,s=0){return class extends i{constructor(...t){super(...t),this._tabIndex=s,this.defaultTabIndex=s}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?K(t):this.defaultTabIndex}}}class bt{constructor(s,t,n){this._renderer=s,this.element=t,this.config=n,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const ue={enterDuration:225,exitDuration:150},H=J({passive:!0}),he=["mousedown","touchstart"],ge=["mouseup","mouseleave","touchend","touchcancel"];class Mt{constructor(s,t,n,o){this._target=s,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,o.isBrowser&&(this._containerElement=x(n))}fadeInRipple(s,t,n={}){const o=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),r=Object.assign(Object.assign({},ue),n.animation);n.centered&&(s=o.left+o.width/2,t=o.top+o.height/2);const a=n.radius||function Tt(i,s,t){const n=Math.max(Math.abs(i-t.left),Math.abs(i-t.right)),o=Math.max(Math.abs(s-t.top),Math.abs(s-t.bottom));return Math.sqrt(n*n+o*o)}(s,t,o),l=s-o.left,g=t-o.top,b=r.enterDuration,m=document.createElement("div");m.classList.add("mat-ripple-element"),m.style.left=l-a+"px",m.style.top=g-a+"px",m.style.height=2*a+"px",m.style.width=2*a+"px",null!=n.color&&(m.style.backgroundColor=n.color),m.style.transitionDuration=`${b}ms`,this._containerElement.appendChild(m),function yt(i){window.getComputedStyle(i).getPropertyValue("opacity")}(m),m.style.transform="scale(1)";const T=new bt(this,m,n);return T.state=0,this._activeRipples.add(T),n.persistent||(this._mostRecentTransientRipple=T),this._runTimeoutOutsideZone(()=>{const Li=T===this._mostRecentTransientRipple;T.state=1,!n.persistent&&(!Li||!this._isPointerDown)&&T.fadeOut()},b),T}fadeOutRipple(s){const t=this._activeRipples.delete(s);if(s===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const n=s.element,o=Object.assign(Object.assign({},ue),s.config.animation);n.style.transitionDuration=`${o.exitDuration}ms`,n.style.opacity="0",s.state=2,this._runTimeoutOutsideZone(()=>{s.state=3,n.remove()},o.exitDuration)}fadeOutAll(){this._activeRipples.forEach(s=>s.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(s=>{s.config.persistent||s.fadeOut()})}setupTriggerEvents(s){const t=x(s);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(he))}handleEvent(s){"mousedown"===s.type?this._onMousedown(s):"touchstart"===s.type?this._onTouchStart(s):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(ge),this._pointerUpEventsRegistered=!0)}_onMousedown(s){const t=se(s),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!n&&(this._isPointerDown=!0,this.fadeInRipple(s.clientX,s.clientY,this._target.rippleConfig))}_onTouchStart(s){if(!this._target.rippleDisabled&&!oe(s)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=s.changedTouches;for(let n=0;n<t.length;n++)this.fadeInRipple(t[n].clientX,t[n].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(s=>{!s.config.persistent&&(1===s.state||s.config.terminateOnPointerUp&&0===s.state)&&s.fadeOut()}))}_runTimeoutOutsideZone(s,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(s,t))}_registerEvents(s){this._ngZone.runOutsideAngular(()=>{s.forEach(t=>{this._triggerElement.addEventListener(t,this,H)})})}_removeTriggerEvents(){this._triggerElement&&(he.forEach(s=>{this._triggerElement.removeEventListener(s,this,H)}),this._pointerUpEventsRegistered&&ge.forEach(s=>{this._triggerElement.removeEventListener(s,this,H)}))}}const Et=new e.OlP("mat-ripple-global-options");let xt=(()=>{class i{constructor(t,n,o,r,a){this._elementRef=t,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new Mt(this,n,t,o)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,n=0,o){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,n,Object.assign(Object.assign({},this.rippleConfig),o)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(F),e.Y36(Et,8),e.Y36(ce.Qb,8))},i.\u0275dir=e.lG2({type:i,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,n){2&t&&e.ekj("mat-ripple-unbounded",n.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),i})(),Ct=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[N],N]}),i})();const At=["thumbContainer"],Dt=["toggleBar"],It=["input"],St=function(i){return{enterDuration:i}},Lt=["*"],Ot=new e.OlP("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1})});let wt=0;const Ft={provide:c.JU,useExisting:(0,e.Gpc)(()=>pe),multi:!0};class kt{constructor(s,t){this.source=s,this.checked=t}}const Rt=_t(pt(mt(gt(class{constructor(i){this._elementRef=i}}))));let pe=(()=>{class i extends Rt{constructor(t,n,o,r,a,l){super(t),this._focusMonitor=n,this._changeDetectorRef=o,this.defaults=a,this._onChange=g=>{},this._onTouched=()=>{},this._uniqueId="mat-slide-toggle-"+ ++wt,this._required=!1,this._checked=!1,this.name=null,this.id=this._uniqueId,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.change=new e.vpe,this.toggleChange=new e.vpe,this.tabIndex=parseInt(r)||0,this.color=this.defaultColor=a.color||"accent",this._noopAnimations="NoopAnimations"===l}get required(){return this._required}set required(t){this._required=S(t)}get checked(){return this._checked}set checked(t){this._checked=S(t),this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{t||Promise.resolve().then(()=>this._onTouched())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}_onChangeEvent(t){t.stopPropagation(),this.toggleChange.emit(),this.defaults.disableToggleValue?this._inputElement.nativeElement.checked=this.checked:(this.checked=this._inputElement.nativeElement.checked,this._emitChangeEvent())}_onInputClick(t){t.stopPropagation()}writeValue(t){this.checked=!!t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck()}focus(t,n){n?this._focusMonitor.focusVia(this._inputElement,n,t):this._inputElement.nativeElement.focus(t)}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(new kt(this,this.checked))}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.SBq),e.Y36(ct),e.Y36(e.sBO),e.$8M("tabindex"),e.Y36(Ot),e.Y36(ce.Qb,8))},i.\u0275cmp=e.Xpm({type:i,selectors:[["mat-slide-toggle"]],viewQuery:function(t,n){if(1&t&&(e.Gf(At,5),e.Gf(Dt,5),e.Gf(It,5)),2&t){let o;e.iGM(o=e.CRH())&&(n._thumbEl=o.first),e.iGM(o=e.CRH())&&(n._thumbBarEl=o.first),e.iGM(o=e.CRH())&&(n._inputElement=o.first)}},hostAttrs:[1,"mat-slide-toggle"],hostVars:13,hostBindings:function(t,n){2&t&&(e.Ikx("id",n.id),e.uIk("tabindex",null)("aria-label",null)("aria-labelledby",null)("name",null),e.ekj("mat-checked",n.checked)("mat-disabled",n.disabled)("mat-slide-toggle-label-before","before"==n.labelPosition)("_mat-animation-noopable",n._noopAnimations))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],required:"required",checked:"checked"},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],features:[e._Bn([Ft]),e.qOj],ngContentSelectors:Lt,decls:16,vars:20,consts:[[1,"mat-slide-toggle-label"],["label",""],[1,"mat-slide-toggle-bar"],["toggleBar",""],["type","checkbox","role","switch",1,"mat-slide-toggle-input","cdk-visually-hidden",3,"id","required","tabIndex","checked","disabled","change","click"],["input",""],[1,"mat-slide-toggle-thumb-container"],["thumbContainer",""],[1,"mat-slide-toggle-thumb"],["mat-ripple","",1,"mat-slide-toggle-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-slide-toggle-persistent-ripple"],[1,"mat-slide-toggle-content",3,"cdkObserveContent"],["labelContent",""],[2,"display","none"]],template:function(t,n){if(1&t&&(e.F$t(),e.TgZ(0,"label",0,1)(2,"span",2,3)(4,"input",4,5),e.NdJ("change",function(r){return n._onChangeEvent(r)})("click",function(r){return n._onInputClick(r)}),e.qZA(),e.TgZ(6,"span",6,7),e._UZ(8,"span",8),e.TgZ(9,"span",9),e._UZ(10,"span",10),e.qZA()()(),e.TgZ(11,"span",11,12),e.NdJ("cdkObserveContent",function(){return n._onLabelTextChange()}),e.TgZ(13,"span",13),e._uU(14,"\xa0"),e.qZA(),e.Hsn(15),e.qZA()()),2&t){const o=e.MAs(1),r=e.MAs(12);e.uIk("for",n.inputId),e.xp6(2),e.ekj("mat-slide-toggle-bar-no-side-margin",!r.textContent||!r.textContent.trim()),e.xp6(2),e.Q6J("id",n.inputId)("required",n.required)("tabIndex",n.tabIndex)("checked",n.checked)("disabled",n.disabled),e.uIk("name",n.name)("aria-checked",n.checked)("aria-label",n.ariaLabel)("aria-labelledby",n.ariaLabelledby)("aria-describedby",n.ariaDescribedby),e.xp6(5),e.Q6J("matRippleTrigger",o)("matRippleDisabled",n.disableRipple||n.disabled)("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",e.VKq(18,St,n._noopAnimations?0:150))}},directives:[xt,Fe],styles:[".mat-slide-toggle{display:inline-block;height:24px;max-width:100%;line-height:24px;white-space:nowrap;outline:none;-webkit-tap-highlight-color:transparent}.mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(16px, 0, 0)}[dir=rtl] .mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(-16px, 0, 0)}.mat-slide-toggle.mat-disabled{opacity:.38}.mat-slide-toggle.mat-disabled .mat-slide-toggle-label,.mat-slide-toggle.mat-disabled .mat-slide-toggle-thumb-container{cursor:default}.mat-slide-toggle-label{-webkit-user-select:none;-moz-user-select:none;user-select:none;display:flex;flex:1;flex-direction:row;align-items:center;height:inherit;cursor:pointer}.mat-slide-toggle-content{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-slide-toggle-label-before .mat-slide-toggle-label{order:1}.mat-slide-toggle-label-before .mat-slide-toggle-bar{order:2}[dir=rtl] .mat-slide-toggle-label-before .mat-slide-toggle-bar,.mat-slide-toggle-bar{margin-right:8px;margin-left:0}[dir=rtl] .mat-slide-toggle-bar,.mat-slide-toggle-label-before .mat-slide-toggle-bar{margin-left:8px;margin-right:0}.mat-slide-toggle-bar-no-side-margin{margin-left:0;margin-right:0}.mat-slide-toggle-thumb-container{position:absolute;z-index:1;width:20px;height:20px;top:-3px;left:0;transform:translate3d(0, 0, 0);transition:all 80ms linear;transition-property:transform}._mat-animation-noopable .mat-slide-toggle-thumb-container{transition:none}[dir=rtl] .mat-slide-toggle-thumb-container{left:auto;right:0}.mat-slide-toggle-thumb{height:20px;width:20px;border-radius:50%;display:block}.mat-slide-toggle-bar{position:relative;width:36px;height:14px;flex-shrink:0;border-radius:8px}.mat-slide-toggle-input{bottom:0;left:10px}[dir=rtl] .mat-slide-toggle-input{left:auto;right:10px}.mat-slide-toggle-bar,.mat-slide-toggle-thumb{transition:all 80ms linear;transition-property:background-color;transition-delay:50ms}._mat-animation-noopable .mat-slide-toggle-bar,._mat-animation-noopable .mat-slide-toggle-thumb{transition:none}.mat-slide-toggle .mat-slide-toggle-ripple{position:absolute;top:calc(50% - 20px);left:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-slide-toggle .mat-slide-toggle-ripple .mat-ripple-element:not(.mat-slide-toggle-persistent-ripple){opacity:.12}.mat-slide-toggle-persistent-ripple{width:100%;height:100%;transform:none}.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:.04}.mat-slide-toggle:not(.mat-disabled).cdk-keyboard-focused .mat-slide-toggle-persistent-ripple{opacity:.12}.mat-slide-toggle-persistent-ripple,.mat-slide-toggle.mat-disabled .mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:0}@media(hover: none){.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{display:none}}.cdk-high-contrast-active .mat-slide-toggle-thumb,.cdk-high-contrast-active .mat-slide-toggle-bar{border:1px solid}.cdk-high-contrast-active .mat-slide-toggle.cdk-keyboard-focused .mat-slide-toggle-bar{outline:2px dotted;outline-offset:5px}\n"],encapsulation:2,changeDetection:0}),i})(),me=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({}),i})(),Ut=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[me,Ct,N,ke],me,N]}),i})();var I=u(8177);function Pt(i,s){1&i&&(e.TgZ(0,"div",4)(1,"span",5),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"Loading")))}function qt(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"ngb-alert",6),e.NdJ("close",function(){return e.CHM(t),e.oxw().ShowMessage=!1}),e._uU(1),e.ALo(2,"FirstLetterUpperPipe"),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("type",t.MessageType),e.xp6(1),e.hij(" ",e.lcZ(2,2,t.ResponseFromBackend.Error.Message),"")}}function Bt(i,s){1&i&&(e.TgZ(0,"h2"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Edit")))}function jt(i,s){1&i&&(e.TgZ(0,"h2"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Create")))}function Yt(i,s){if(1&i&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&i){const t=s.$implicit,n=e.oxw(2);e.Q6J("value",t)("selected",t===n.translate.currentLang),e.xp6(1),e.hij(" ",t," ")}}function Jt(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"form",7,8),e.NdJ("ngSubmit",function(){e.CHM(t);const o=e.MAs(1);return e.oxw().OnSaveClick(o)}),e.TgZ(2,"div",9)(3,"div",10),e.YNc(4,Bt,3,3,"h2",11),e.YNc(5,jt,3,3,"h2",11),e.TgZ(6,"div",9)(7,"label",12),e._uU(8),e.ALo(9,"translate"),e.qZA(),e._UZ(10,"input",13),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"div",9)(13,"label",14),e._uU(14),e.ALo(15,"translate"),e.qZA(),e._UZ(16,"input",15),e.qZA(),e.TgZ(17,"div",9)(18,"label",16),e._uU(19),e.ALo(20,"translate"),e.qZA(),e._UZ(21,"input",17),e.qZA(),e.TgZ(22,"div",9)(23,"label",18),e._uU(24),e.ALo(25,"translate"),e.qZA(),e.TgZ(26,"select",19,20),e.NdJ("change",function(){e.CHM(t);const o=e.MAs(27);return e.oxw().ChangeLanguageIfCurrentUser(o.value)}),e.ALo(28,"translate"),e.YNc(29,Yt,2,3,"option",21),e.qZA()(),e.TgZ(30,"div",9)(31,"label",22),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"select",23)(35,"option",24),e._uU(36,"Guest"),e.qZA(),e.TgZ(37,"option",25),e._uU(38,"Admin"),e.qZA()()(),e.TgZ(39,"label",26),e._uU(40),e.ALo(41,"translate"),e.qZA(),e.TgZ(42,"div",27)(43,"div",28)(44,"input",29),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw().changepassword=o}),e.qZA()(),e._UZ(45,"input",30),e.ALo(46,"translate"),e.qZA(),e.TgZ(47,"div",9)(48,"mat-slide-toggle",31),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw().UserToEdit.Disabled=o}),e._uU(49),e.ALo(50,"translate"),e.qZA()(),e.TgZ(51,"button",32),e._uU(52),e.ALo(53,"translate"),e.qZA(),e.TgZ(54,"button",33),e._uU(55),e.ALo(56,"translate"),e.qZA()()()()}if(2&i){const t=e.MAs(1),n=e.oxw();e.xp6(4),e.Q6J("ngIf",n.editmode),e.xp6(1),e.Q6J("ngIf",!n.editmode),e.xp6(3),e.Oqu(e.lcZ(9,24,"Name")),e.xp6(2),e.Q6J("placeholder",e.lcZ(11,26,"NameExample"))("ngModel",n.UserToEdit.Name),e.xp6(4),e.Oqu(e.lcZ(15,28,"Email")),e.xp6(2),e.Q6J("ngModel",n.UserToEdit.Email),e.xp6(3),e.Oqu(e.lcZ(20,30,"Phone")),e.xp6(2),e.Q6J("ngModel",n.UserToEdit.Phone),e.xp6(3),e.Oqu(e.lcZ(25,32,"Language")),e.xp6(2),e.Q6J("ngbTooltip",e.lcZ(28,34,"LangSelector"))("ngModel",n.UserToEdit.Lang),e.xp6(3),e.Q6J("ngForOf",n.translate.getLangs()),e.xp6(3),e.Oqu(e.lcZ(33,36,"SelectRole")),e.xp6(2),e.Q6J("ngModel",n.UserToEdit.Role),e.xp6(6),e.Oqu(e.lcZ(41,38,"Password")),e.xp6(4),e.Q6J("ngModel",n.changepassword),e.xp6(1),e.Q6J("placeholder",e.lcZ(46,40,"EnterNewPassword"))("disabled",!n.changepassword),e.xp6(3),e.Q6J("ngModel",n.UserToEdit.Disabled),e.xp6(1),e.hij(" ",e.lcZ(50,42,"Disabled")," "),e.xp6(2),e.Q6J("disabled",t.invalid),e.xp6(1),e.Oqu(e.lcZ(53,44,"Save")),e.xp6(3),e.Oqu(e.lcZ(56,46,"Cancel"))}}let _e=(()=>{class i{constructor(t,n,o,r,a,l,g){this.AdminServ=t,this.auth=n,this.activatedroute=o,this.router=r,this.datastore=a,this.translate=l,this.sitetitle=g,l.addLangs(d.N.SupportedLangs),l.setDefaultLang(d.N.DefaultLocale)}ngOnDestroy(){this.DataLoading.unsubscribe(),this.RecivedErrorSub.unsubscribe(),this.DatabaseUpdated.unsubscribe()}ngOnInit(){const t=localStorage.getItem("userLang");this.SwitchLanguage(null!==t?t:d.N.DefaultLocale),this.activatedroute.params.subscribe(n=>{this.editmode=null!=n.id,this.editmode?(this.index=+n.id,this.UserToEdit=this.AdminServ.GetUserById(this.index)):(this.changepassword=!0,this.UserToEdit=new Ce.n("guest_role_read_only","","","","ru")),this.AdminServ.CurrentSelectedItem=this.UserToEdit}),this.DatabaseUpdated=this.datastore.UserUpdateInsert.subscribe(n=>{this.editmode?(this.UserToEdit=n,this.AdminServ.UpdateExistingUser(this.UserToEdit,this.index)):(this.UserToEdit=n,this.AdminServ.AddNewUser(this.UserToEdit)),setTimeout(()=>this.router.navigate(["../"],{relativeTo:this.activatedroute,queryParamsHandling:"merge"}),1e3)}),this.RecivedErrorSub=this.datastore.RecivedError.subscribe(n=>{this.ShowMessage=!0,this.ResponseFromBackend=n,setTimeout(()=>{this.ShowMessage=!1,(401===n.Error.Code||403===n.Error.Code||407===n.Error.Code)&&this.auth.SignOut()},d.N.MessageTimeout),n&&(this.MessageType=200===n.Error.Code?"success":"danger")}),this.DataLoading=this.datastore.LoadingData.subscribe(n=>{this.IsLoading=n})}ChangeLanguageIfCurrentUser(t){this.UserToEdit.Email===this.auth.GetUserEmail()&&this.SwitchLanguage(t)}SwitchLanguage(t){this.translate.use(t),localStorage.setItem("userLang",t),this.auth.ChangeLocale(t),this.translate.get("WebsiteTitleText",t).subscribe({next:n=>{this.sitetitle.setTitle(n)},error:n=>{console.log(n)}})}OnSaveClick(t){if(t.valid){if(t.value.changepassword&&0===t.value.newpassword.length)return;this.UserToEdit.Email=t.value.useremail,this.UserToEdit.Name=t.value.username,this.UserToEdit.Phone=t.value.userphone,this.UserToEdit.Role=t.value.roles,this.UserToEdit.Lang=t.value.userlanguage,this.datastore.SaveUser(this.UserToEdit,t.value.changepassword,t.value.newpassword)}}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(G.f),e.Y36(E.e),e.Y36(h.gz),e.Y36(h.F0),e.Y36(v.Z),e.Y36(_.sK),e.Y36(M.Dx))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-user-edit"]],decls:4,vars:3,consts:[[1,"text-center"],["class","spinner-border","role","status",4,"ngIf"],[3,"type","close",4,"ngIf"],[3,"ngSubmit",4,"ngIf"],["role","status",1,"spinner-border"],[1,"visually-hidden-focusable"],[3,"type","close"],[3,"ngSubmit"],["UserEditForm","ngForm"],[1,"form-group"],[2,"margin","3px"],[4,"ngIf"],["for","name"],["type","text","id","name","name","username","required","",1,"form-control","mb-1",3,"placeholder","ngModel"],["for","email"],["type","email","id","email","placeholder","exampe@example.com","name","useremail","required","","email","",1,"form-control","mb-1",3,"ngModel"],["for","phone"],["type","tel","id","phone","placeholder","+7 (965) 777-77-77","name","userphone","pattern","^((8|\\+7)[\\- ]?)?(\\(?\\d{3,4}\\)?[\\- ]?)?[\\d\\- ]{5,10}$",1,"form-control","mb-1",3,"ngModel"],["for","lang"],["id","lang","name","userlanguage","required","",1,"form-select","mb-1",3,"ngbTooltip","ngModel","change"],["selectedLang",""],[3,"value","selected",4,"ngFor","ngForOf"],["for","roles"],["name","roles","id","roles","required","",1,"form-control",3,"ngModel"],["value","guest_role_read_only"],["value","admin_role_CRUD"],["for","newpassword"],[1,"input-group","mb-3"],[1,"input-group-text"],["type","checkbox","id","changepassword","name","changepassword",3,"ngModel","ngModelChange"],["type","password","id","newpassword","name","newpassword","ngModel","",1,"form-control",3,"placeholder","disabled"],["color","primary","name","disabled",1,"mat-margin",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-outline-primary",3,"disabled"],["type","button","routerLink","..",1,"btn","btn-outline-danger",2,"margin-left","3px"],[3,"value","selected"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,Pt,4,3,"div",1),e.qZA(),e.YNc(2,qt,3,4,"ngb-alert",2),e.YNc(3,Jt,57,48,"form",3)),2&t&&(e.xp6(1),e.Q6J("ngIf",n.IsLoading),e.xp6(1),e.Q6J("ngIf",n.ShowMessage),e.xp6(1),e.Q6J("ngIf",n.UserToEdit))},directives:[p.O5,f.xm,c._Y,c.JL,c.F,c.Fj,c.Q7,c.JJ,c.On,c.on,c.c5,c.EJ,f._L,p.sg,c.YN,c.Kr,c.Wl,pe,h.rH],pipes:[_.X$,I.J],styles:["input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:#ff0a1d!important;box-shadow:none!important}input.ng-invalid.ng-touched[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem #ff0a1d40!important}input.ng-valid.ng-touched[_ngcontent-%COMP%]{border-color:#67c07b!important;box-shadow:none!important}input.ng-valid.ng-touched[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem #34b30d40!important}select.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:#ff0a1d!important;box-shadow:none!important}select.ng-invalid.ng-touched[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem #ff0a1d40!important}select.ng-valid.ng-touched[_ngcontent-%COMP%]{border-color:#67c07b!important;box-shadow:none!important}select.ng-valid.ng-touched[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem #34b30d40!important}.image-placeholder[_ngcontent-%COMP%]{background-color:#eee;display:flex;height:333px;margin:5px;border-radius:3px;max-width:592px}.image-placeholder[_ngcontent-%COMP%] > h4[_ngcontent-%COMP%]{align-self:center;text-align:center;width:100%}.mat-header-h2[_ngcontent-%COMP%]{margin:10px}.mat-section[_ngcontent-%COMP%]{display:flex;align-content:center;align-items:center;height:60px}.mat-margin[_ngcontent-%COMP%]{margin:10px}"]}),i})();function zt(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"ngb-alert",12),e.NdJ("close",function(){return e.CHM(t),e.oxw(2).ShowMessage=!1}),e._uU(1),e.ALo(2,"FirstLetterUpperPipe"),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("type",t.MessageType),e.xp6(1),e.hij(" ",e.lcZ(2,2,t.ResponseFromBackend.Error.Message),"")}}function Vt(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"li",13),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw(2).AdminServ.SelectItemUsersList(r)}),e.TgZ(1,"div",14)(2,"p",15),e._uU(3),e.qZA(),e.TgZ(4,"div",16)(5,"button",17),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"button",18),e.NdJ("click",function(){const o=e.CHM(t),r=o.$implicit,a=o.index;return e.oxw(2).OnDeleteUser(r,a)}),e._uU(9),e.ALo(10,"translate"),e.qZA()()()()}if(2&i){const t=s.$implicit,n=s.index,o=e.oxw(2);e.Q6J("ngClass",o.AdminServ.IsCurrentSelected(t)?"active":""),e.xp6(3),e.hij(" ",t.Email,""),e.xp6(2),e.Q6J("routerLink",n),e.xp6(1),e.Oqu(e.lcZ(7,5,"Edit")),e.xp6(3),e.Oqu(e.lcZ(10,7,"Delete"))}}function Ht(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"ngb-pagination",19),e.NdJ("pageChange",function(o){return e.CHM(t),e.oxw(2).OnPageChanged(o)}),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("collectionSize",t.usCollectionSize)("pageSize",t.usPageSize)("page",t.usCurrentPage)("rotate",!0)("boundaryLinks",!0)("maxSize",11)}}const Qt=function(i){return["/admin/users",i,"new"]};function Gt(i,s){if(1&i&&(e.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"button",7),e._uU(5),e.ALo(6,"translate"),e.qZA()()(),e.YNc(7,zt,3,4,"ngb-alert",8),e.TgZ(8,"ul",9),e.YNc(9,Vt,11,9,"li",10),e.qZA(),e.YNc(10,Ht,1,6,"ngb-pagination",11),e.qZA()()),2&i){const t=e.oxw();e.xp6(4),e.Q6J("routerLink",e.VKq(7,Qt,t.usCurrentPage)),e.xp6(1),e.Oqu(e.lcZ(6,5,"Add")),e.xp6(2),e.Q6J("ngIf",t.ShowMessage),e.xp6(2),e.Q6J("ngForOf",t.Users),e.xp6(1),e.Q6J("ngIf",t.usCollectionSize>t.usPageSize)}}function Kt(i,s){1&i&&(e.TgZ(0,"div",20)(1,"span",21),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"Loading")))}let $t=(()=>{class i{constructor(t,n,o,r,a,l,g){this.ActiveRoute=t,this.DataServ=n,this.AdminServ=o,this.router=r,this.auth=a,this.translate=l,this.sitetitle=g,l.addLangs(d.N.SupportedLangs),l.setDefaultLang(d.N.DefaultLocale)}ngOnDestroy(){this.RecivedErrorSub.unsubscribe(),this.PageChanged.unsubscribe(),this.DataLoading.unsubscribe(),this.FetchOnInint.unsubscribe()}ngOnInit(){const t=localStorage.getItem("userLang");this.SwitchLanguage(null!==t?t:d.N.DefaultLocale),this.usPageSize=d.N.AdminUserListPageSize,this.RecivedErrorSub=this.DataServ.RecivedError.subscribe(n=>{this.ShowMessage=!0,this.ResponseFromBackend=n,setTimeout(()=>{this.ShowMessage=!1,(401===n.Error.Code||403===n.Error.Code||407===n.Error.Code)&&this.auth.SignOut()},d.N.MessageTimeout),n&&(this.MessageType=200===n.Error.Code?"success":"danger")}),this.PageChanged=this.ActiveRoute.params.subscribe(n=>{this.usCurrentPage=+n.pn,this.FetchOnInint=this.DataServ.FetchUsersList(this.usCurrentPage,d.N.AdminUserListPageSize).subscribe(o=>{this.Users=this.AdminServ.GetUsers(),this.usCollectionSize=this.AdminServ.Total},o=>{this.Users=[]})}),this.DataLoading=this.DataServ.LoadingData.subscribe(n=>{this.IsLoading=n})}SwitchLanguage(t){this.translate.use(t),localStorage.setItem("userLang",t),this.translate.get("WebsiteTitleText",t).subscribe({next:n=>{this.sitetitle.setTitle(n)},error:n=>{console.log(n)}})}OnPageChanged(t){this.usCurrentPage=t,this.router.navigate(["../",t.toString()],{relativeTo:this.ActiveRoute})}OnDeleteUser(t,n){this.AdminServ.DeleteUser(n),this.DataServ.DeleteUser(t),this.Users=this.AdminServ.GetUsers()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(h.gz),e.Y36(v.Z),e.Y36(G.f),e.Y36(h.F0),e.Y36(E.e),e.Y36(_.sK),e.Y36(M.Dx))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-user-list"]],decls:3,vars:2,consts:[["class","row",4,"ngIf"],[1,"text-center"],["class","spinner-border","role","status",4,"ngIf"],[1,"row"],[1,"col"],[1,"input-group","mb-1"],[1,"input-group-prepend","mt-1"],["queryParamsHandling","merge",1,"btn","btn-outline-primary",3,"routerLink"],[3,"type","close",4,"ngIf"],[1,"list-group","mb-1"],["style","cursor: pointer;","class","list-group-item list-group-item-action d-flex justify-content-between align-items-center",3,"ngClass","click",4,"ngFor","ngForOf"],[3,"collectionSize","pageSize","page","rotate","boundaryLinks","maxSize","pageChange",4,"ngIf"],[3,"type","close"],[1,"list-group-item","list-group-item-action","d-flex","justify-content-between","align-items-center",2,"cursor","pointer",3,"ngClass","click"],[1,"input-group"],[1,"p-2","m-0","flex-grow-1",2,"place-items","center"],[1,"input-group-append"],["type","button",1,"btn","btn-outline-success","me-1",3,"routerLink"],["type","button",1,"btn","btn-outline-danger",3,"click"],[3,"collectionSize","pageSize","page","rotate","boundaryLinks","maxSize","pageChange"],["role","status",1,"spinner-border"],[1,"visually-hidden-focusable"]],template:function(t,n){1&t&&(e.YNc(0,Gt,11,9,"div",0),e.TgZ(1,"div",1),e.YNc(2,Kt,4,3,"div",2),e.qZA()),2&t&&(e.Q6J("ngIf",!n.IsLoading),e.xp6(2),e.Q6J("ngIf",n.IsLoading))},directives:[p.O5,h.rH,f.xm,p.sg,p.mk,f.N9],pipes:[_.X$,I.J],styles:[""]}),i})();var fe=u(2245);function Wt(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"ngb-alert",11),e.NdJ("close",function(){return e.CHM(t),e.oxw(2).ShowMessage=!1}),e._uU(1),e.ALo(2,"FirstLetterUpperPipe"),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("type",t.MessageType),e.xp6(1),e.hij(" ",e.lcZ(2,2,t.ResponseFromBackend.Error.Message),"")}}function Xt(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",12)(1,"a",13),e._UZ(2,"img",14),e.qZA(),e.TgZ(3,"div",15)(4,"button",16),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"button",17),e.NdJ("click",function(){const o=e.CHM(t),r=o.$implicit,a=o.index;return e.oxw(2).OnDeleteFile(r,a)}),e._uU(8),e.ALo(9,"translate"),e.qZA()()()}if(2&i){const t=s.$implicit,n=s.index;e.xp6(1),e.Q6J("href",t.FileID,e.LSH),e.xp6(1),e.Q6J("src",t.PreviewID,e.LSH)("alt",t.Filename),e.xp6(2),e.Q6J("routerLink",n),e.xp6(1),e.Oqu(e.lcZ(6,6,"Edit")),e.xp6(3),e.Oqu(e.lcZ(9,8,"Delete"))}}function ei(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"ngb-pagination",18),e.NdJ("pageChange",function(o){return e.CHM(t),e.oxw(2).OnPageChanged(o)}),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("collectionSize",t.meCollectionSize)("pageSize",t.mePageSize)("page",t.meCurrentPage)("rotate",!0)("boundaryLinks",!0)("maxSize",11)}}const ti=function(i){return["/admin/media",i,"new"]};function ii(i,s){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,Wt,3,4,"ngb-alert",3),e.TgZ(2,"div",4)(3,"div",5)(4,"button",6),e._uU(5),e.ALo(6,"translate"),e.qZA()()(),e.TgZ(7,"div",7),e.YNc(8,Xt,10,10,"div",8),e.qZA(),e.TgZ(9,"div",9),e.YNc(10,ei,1,6,"ngb-pagination",10),e.qZA()()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.ShowMessage),e.xp6(3),e.Q6J("routerLink",e.VKq(7,ti,t.meCurrentPage)),e.xp6(1),e.Oqu(e.lcZ(6,5,"Add")),e.xp6(3),e.Q6J("ngForOf",t.Files),e.xp6(2),e.Q6J("ngIf",t.meCollectionSize>t.mePageSize)}}function ni(i,s){1&i&&(e.TgZ(0,"div",19)(1,"span",20),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"Loading")))}let si=(()=>{class i{constructor(t,n,o,r,a,l,g){this.ActiveRoute=t,this.DataServ=n,this.MediaServ=o,this.router=r,this.auth=a,this.translate=l,this.sitetitle=g,l.addLangs(d.N.SupportedLangs),l.setDefaultLang(d.N.DefaultLocale)}ngOnDestroy(){this.RecivedErrorSub.unsubscribe(),this.PageChanged.unsubscribe(),this.DataLoading.unsubscribe(),this.FetchOnInint.unsubscribe()}ngOnInit(){const t=localStorage.getItem("userLang");this.SwitchLanguage(null!==t?t:d.N.DefaultLocale),this.mePageSize=d.N.MediaListPageSize,this.RecivedErrorSub=this.DataServ.RecivedError.subscribe(n=>{this.ShowMessage=!0,this.ResponseFromBackend=n,setTimeout(()=>{this.ShowMessage=!1,(401===n.Error.Code||403===n.Error.Code||407===n.Error.Code)&&this.auth.SignOut()},d.N.MessageTimeout),n&&(this.MessageType=200===n.Error.Code?"success":"danger")}),this.PageChanged=this.ActiveRoute.params.subscribe(n=>{this.meCurrentPage=+n.pn,this.FetchOnInint=this.DataServ.FetchFilesList(this.meCurrentPage,d.N.MediaListPageSize).subscribe(o=>{this.Files=this.MediaServ.GetFiles(),this.meCollectionSize=this.MediaServ.Total},o=>{this.Files=[]})}),this.DataLoading=this.DataServ.LoadingData.subscribe(n=>{this.IsLoading=n})}OnPageChanged(t){this.meCurrentPage=t,this.router.navigate(["../",t.toString()],{relativeTo:this.ActiveRoute})}OnDeleteFile(t,n){this.MediaServ.DeleteFile(n),this.DataServ.DeleteFile(t.ID,!1),this.Files=this.MediaServ.GetFiles()}SwitchLanguage(t){this.translate.use(t),localStorage.setItem("userLang",t),this.translate.get("WebsiteTitleText",t).subscribe({next:n=>{this.sitetitle.setTitle(n)},error:n=>{console.log(n)}})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(h.gz),e.Y36(v.Z),e.Y36(fe.y),e.Y36(h.F0),e.Y36(E.e),e.Y36(_.sK),e.Y36(M.Dx))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-media-list"]],decls:3,vars:2,consts:[[4,"ngIf"],[1,"text-center"],["class","spinner-border","role","status",4,"ngIf"],[3,"type","close",4,"ngIf"],[1,"input-group","ml-3"],[1,"input-group-prepend","mt-2"],["queryParamsHandling","merge",1,"btn","btn-outline-primary",3,"routerLink"],[1,"parent-media-box"],["class","media-box",4,"ngFor","ngForOf"],[1,"ml-3"],[3,"collectionSize","pageSize","page","rotate","boundaryLinks","maxSize","pageChange",4,"ngIf"],[3,"type","close"],[1,"media-box"],[3,"href"],[3,"src","alt"],[1,"media-box-overlay"],["type","button",1,"btn","btn-outline-success","me-1",3,"routerLink"],["type","button",1,"btn","btn-outline-danger",3,"click"],[3,"collectionSize","pageSize","page","rotate","boundaryLinks","maxSize","pageChange"],["role","status",1,"spinner-border"],[1,"visually-hidden-focusable"]],template:function(t,n){1&t&&(e.YNc(0,ii,11,9,"div",0),e.TgZ(1,"div",1),e.YNc(2,ni,4,3,"div",2),e.qZA()),2&t&&(e.Q6J("ngIf",!n.IsLoading),e.xp6(2),e.Q6J("ngIf",n.IsLoading))},directives:[p.O5,f.xm,h.rH,p.sg,f.N9],pipes:[I.J,_.X$],styles:[".parent-media-box[_ngcontent-%COMP%]{display:grid;grid-gap:1rem;grid-template-columns:repeat(auto-fill,minmax(370px,1fr));grid-auto-rows:minmax(200px,auto);padding:.3rem}.media-box[_ngcontent-%COMP%]{font-size:2rem;padding:.3rem;border-radius:5px;display:inline-block;position:relative;border:1px solid rgba(0,0,0,.125);color:#495057;width:100%;height:100%;-o-object-fit:cover;object-fit:cover}.media-box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%;border-radius:5px;display:block}.media-box-overlay[_ngcontent-%COMP%]{position:absolute;bottom:.5rem;right:.5rem}"]}),i})();var oi=u(162);function ri(i,s){1&i&&(e.TgZ(0,"div",4)(1,"span",5),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"Loading")))}function ai(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"ngb-alert",6),e.NdJ("close",function(){return e.CHM(t),e.oxw().ShowMessage=!1}),e._uU(1),e.ALo(2,"FirstLetterUpperPipe"),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("type",t.MessageType),e.xp6(1),e.hij(" ",e.lcZ(2,2,t.ResponseFromBackend.Error.Message),"")}}function li(i,s){1&i&&(e.TgZ(0,"h2"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Edit")))}function ci(i,s){1&i&&(e.TgZ(0,"h2"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Create")))}function di(i,s){1&i&&(e.TgZ(0,"div",24)(1,"h4"),e._uU(2,"592x333"),e.qZA()())}function ui(i,s){if(1&i&&e._UZ(0,"img",25),2&i){const t=e.oxw(2);e.Q6J("src",t.FileToEdit.FileID,e.LSH)("alt",t.FileToEdit.Filename)}}function hi(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"form",null,7)(2,"div",8)(3,"div",9),e.YNc(4,li,3,3,"h2",3),e.YNc(5,ci,3,3,"h2",3),e.YNc(6,di,3,0,"div",10),e.TgZ(7,"a",11),e.YNc(8,ui,1,2,"img",12),e.qZA(),e.TgZ(9,"button",13),e.NdJ("click",function(){return e.CHM(t),e.MAs(14).click()}),e.TgZ(10,"span"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"input",14,15),e.NdJ("change",function(o){return e.CHM(t),e.oxw().onFileInput(o)}),e.qZA()(),e.TgZ(15,"div",16),e._UZ(16,"div",17),e.qZA(),e.TgZ(17,"div",8)(18,"label",18),e._uU(19),e.ALo(20,"translate"),e.qZA(),e._UZ(21,"input",19),e.qZA(),e.TgZ(22,"div",8)(23,"label",18),e._uU(24),e.ALo(25,"translate"),e.qZA(),e._UZ(26,"input",20),e.qZA(),e.TgZ(27,"div",8)(28,"label",18),e._uU(29),e.ALo(30,"translate"),e.qZA(),e._UZ(31,"input",21),e.qZA(),e.TgZ(32,"div",8)(33,"label",18),e._uU(34),e.ALo(35,"translate"),e.qZA(),e._UZ(36,"input",22),e.qZA(),e.TgZ(37,"button",23),e._uU(38),e.ALo(39,"translate"),e.qZA()()()()}if(2&i){const t=e.oxw();e.xp6(4),e.Q6J("ngIf",t.editmode),e.xp6(1),e.Q6J("ngIf",!t.editmode),e.xp6(1),e.Q6J("ngIf",!t.FileToEdit.FileID),e.xp6(1),e.Q6J("href",t.FileToEdit.FileID,e.LSH),e.xp6(1),e.Q6J("ngIf",t.FileToEdit.FileID),e.xp6(1),e.Q6J("disabled",t.editmode),e.xp6(2),e.Oqu(e.lcZ(12,22,"UploadImage")),e.xp6(5),e.Akn(t.CurPercentStyle),e.xp6(3),e.Oqu(e.lcZ(20,24,"FileName")),e.xp6(2),e.Q6J("ngModel",t.FileToEdit.Filename)("disabled",!0),e.xp6(3),e.Oqu(e.lcZ(25,26,"FileSize")),e.xp6(2),e.Q6J("ngModel",t.FileToEdit.Filesize)("disabled",!0),e.xp6(3),e.Oqu(e.lcZ(30,28,"FileType")),e.xp6(2),e.Q6J("ngModel",t.FileToEdit.Filetype)("disabled",!0),e.xp6(3),e.Oqu(e.lcZ(35,30,"FileLink")),e.xp6(2),e.Q6J("ngModel",t.FileToEdit.FileID)("disabled",!0),e.xp6(2),e.Oqu(e.lcZ(39,32,"Cancel"))}}let be=(()=>{class i{constructor(t,n,o,r,a,l){this.MediaServ=t,this.activatedroute=n,this.datastore=o,this.translate=r,this.auth=a,this.sitetitle=l,this.CurPercentStyle="width: 0%",r.addLangs(d.N.SupportedLangs),r.setDefaultLang(d.N.DefaultLocale)}ngOnDestroy(){this.DataLoading.unsubscribe(),this.RecivedErrorSub.unsubscribe(),this.FileProgress.unsubscribe(),this.FileUploaded.unsubscribe()}ngOnInit(){const t=localStorage.getItem("userLang");this.SwitchLanguage(null!==t?t:d.N.DefaultLocale),this.activatedroute.params.subscribe(n=>{this.editmode=null!=n.id,this.editmode?(this.index=+n.id,this.FileToEdit=this.MediaServ.GetFileById(this.index)):this.FileToEdit=new oi.P("",0,"","","",0),this.MediaServ.CurrentSelectedItem=this.FileToEdit}),this.RecivedErrorSub=this.datastore.RecivedError.subscribe(n=>{this.ShowMessage=!0,this.ResponseFromBackend=n,setTimeout(()=>{this.ShowMessage=!1,(401===n.Error.Code||403===n.Error.Code||407===n.Error.Code)&&this.auth.SignOut()},d.N.MessageTimeout),n&&(this.MessageType=200===n.Error.Code?"success":"danger")}),this.DataLoading=this.datastore.LoadingData.subscribe(n=>{this.IsLoading=n}),this.FileProgress=this.datastore.FileUploadProgress.subscribe(n=>{this.CurPercentStyle="width: "+n+"%"}),this.FileUploaded=this.datastore.FileUploaded.subscribe(n=>{this.FileToEdit=n,this.editmode=!0})}onFileInput(t){this.CurPercentStyle="width: 0%",this.datastore.FileUpload(t.target.files[0])}SwitchLanguage(t){this.translate.use(t),localStorage.setItem("userLang",t),this.translate.get("WebsiteTitleText",t).subscribe({next:n=>{this.sitetitle.setTitle(n)},error:n=>{console.log(n)}})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(fe.y),e.Y36(h.gz),e.Y36(v.Z),e.Y36(_.sK),e.Y36(E.e),e.Y36(M.Dx))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-media-edit"]],decls:4,vars:3,consts:[[1,"text-center"],["class","spinner-border","role","status",4,"ngIf"],[3,"type","close",4,"ngIf"],[4,"ngIf"],["role","status",1,"spinner-border"],[1,"visually-hidden-focusable"],[3,"type","close"],["FileEditForm","ngForm"],[1,"form-group"],[2,"margin","3px"],["class","image-placeholder mx-auto",4,"ngIf"],[3,"href"],["class","rounded d-block mx-auto","style","margin: 3px; max-width: 500px; max-height: 333px; max-width: 100%;",3,"src","alt",4,"ngIf"],["type","button",1,"btn","btn-outline-primary",2,"margin","3px",3,"disabled","click"],["type","file","accept","image/*",1,"form-control-file",2,"display","none",3,"change"],["fileInput",""],[1,"progress","mb-1"],["role","progressbar",1,"progress-bar","progress-bar-striped","progress-bar-animated"],["for","name"],["type","text","id","fname","placeholder","placeholder.jpg","name","filename","required","",1,"form-control","mb-1",3,"ngModel","disabled"],["type","text","id","fsize","placeholder","0","name","filesize","required","",1,"form-control","mb-1",3,"ngModel","disabled"],["type","text","id","ftype","placeholder","jpg","name","filetype","required","",1,"form-control","mb-1",3,"ngModel","disabled"],["type","text","id","flink","placeholder","/uploads/placeholder.jpg","name","filelink","required","",1,"form-control","mb-1",3,"ngModel","disabled"],["type","button","routerLink","..",1,"btn","btn-outline-danger",2,"margin-left","3px"],[1,"image-placeholder","mx-auto"],[1,"rounded","d-block","mx-auto",2,"margin","3px","max-width","500px","max-height","333px","max-width","100%",3,"src","alt"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,ri,4,3,"div",1),e.qZA(),e.YNc(2,ai,3,4,"ngb-alert",2),e.YNc(3,hi,40,34,"form",3)),2&t&&(e.xp6(1),e.Q6J("ngIf",n.IsLoading),e.xp6(1),e.Q6J("ngIf",n.ShowMessage),e.xp6(1),e.Q6J("ngIf",n.FileToEdit))},directives:[p.O5,f.xm,c._Y,c.JL,c.F,c.Fj,c.Q7,c.JJ,c.On,h.rH],pipes:[_.X$,I.J],styles:["input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:#ff0a1d!important;box-shadow:none!important}input.ng-invalid.ng-touched[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem #ff0a1d40!important}input.ng-valid.ng-touched[_ngcontent-%COMP%]{border-color:#67c07b!important;box-shadow:none!important}input.ng-valid.ng-touched[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem #34b30d40!important}.image-placeholder[_ngcontent-%COMP%]{background-color:#eee;display:flex;height:333px;margin:5px;border-radius:3px;max-width:592px}.image-placeholder[_ngcontent-%COMP%] > h4[_ngcontent-%COMP%]{align-self:center;text-align:center;width:100%}"]}),i})();var ve=u(9101);function gi(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"ngb-alert",15),e.NdJ("close",function(){return e.CHM(t),e.oxw(2).ShowMessage=!1}),e._uU(1),e.ALo(2,"FirstLetterUpperPipe"),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("type",t.MessageType),e.xp6(1),e.hij(" ",e.lcZ(2,2,t.ResponseFromBackend.Error.Message),"")}}function pi(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"li",16),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw(2).SessServ.SelectItemSessionsList(r)}),e.TgZ(1,"div",17)(2,"p",18),e._uU(3),e.qZA(),e.TgZ(4,"div",19)(5,"button",20),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"button",21),e.NdJ("click",function(){const o=e.CHM(t),r=o.$implicit,a=o.index;return e.oxw(2).OnDeleteSession(r,a)}),e._uU(9),e.ALo(10,"translate"),e.qZA()()()()}if(2&i){const t=s.$implicit,n=s.index,o=e.oxw(2);e.Q6J("ngClass",o.SessServ.IsCurrentSelected(t)?"active":""),e.xp6(3),e.hij(" ",t.Email+" "+t.IP,""),e.xp6(2),e.Q6J("routerLink",n),e.xp6(1),e.Oqu(e.lcZ(7,5,"Edit")),e.xp6(3),e.Oqu(e.lcZ(10,7,"Delete"))}}function mi(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"ngb-pagination",22),e.NdJ("pageChange",function(o){return e.CHM(t),e.oxw(2).OnPageChanged(o)}),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("collectionSize",t.sesCollectionSize)("pageSize",t.sesPageSize)("page",t.sesCurrentPage)("rotate",!0)("boundaryLinks",!0)("maxSize",11)}}function _i(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",3)(1,"div",4),e.YNc(2,gi,3,4,"ngb-alert",5),e.TgZ(3,"form",6,7),e.NdJ("ngSubmit",function(){e.CHM(t);const o=e.MAs(4);return e.oxw().OnDeleteSessionByEmail(o)}),e.TgZ(5,"div",8)(6,"label",9),e._uU(7),e.ALo(8,"translate"),e.qZA(),e._UZ(9,"input",10),e.TgZ(10,"button",11),e._uU(11),e.ALo(12,"translate"),e.qZA()()(),e.TgZ(13,"ul",12),e.YNc(14,pi,11,9,"li",13),e.qZA(),e.YNc(15,mi,1,6,"ngb-pagination",14),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",t.ShowMessage),e.xp6(5),e.Oqu(e.lcZ(8,5,"Email")),e.xp6(4),e.Oqu(e.lcZ(12,7,"Delete")),e.xp6(3),e.Q6J("ngForOf",t.Sessions),e.xp6(1),e.Q6J("ngIf",t.sesCollectionSize>t.sesPageSize)}}function fi(i,s){1&i&&(e.TgZ(0,"div",23)(1,"span",24),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"Loading")))}let bi=(()=>{class i{constructor(t,n,o,r,a,l,g){this.ActiveRoute=t,this.DataServ=n,this.SessServ=o,this.router=r,this.auth=a,this.translate=l,this.sitetitle=g,l.addLangs(d.N.SupportedLangs),l.setDefaultLang(d.N.DefaultLocale)}ngOnDestroy(){this.RecivedErrorSub.unsubscribe(),this.PageChanged.unsubscribe(),this.DataLoading.unsubscribe(),this.FetchOnInint.unsubscribe()}ngOnInit(){const t=localStorage.getItem("userLang");this.SwitchLanguage(null!==t?t:d.N.DefaultLocale),this.sesPageSize=d.N.SessionsListPageSize,this.RecivedErrorSub=this.DataServ.RecivedError.subscribe(n=>{this.ShowMessage=!0,this.ResponseFromBackend=n,setTimeout(()=>{this.ShowMessage=!1,(401===n.Error.Code||403===n.Error.Code||407===n.Error.Code)&&this.auth.SignOut()},d.N.MessageTimeout),n&&(this.MessageType=200===n.Error.Code?"success":"danger")}),this.PageChanged=this.ActiveRoute.params.subscribe(n=>{this.sesCurrentPage=+n.pn,this.GetRecentData()}),this.DataLoading=this.DataServ.LoadingData.subscribe(n=>{this.IsLoading=n})}SwitchLanguage(t){this.translate.use(t),localStorage.setItem("userLang",t),this.translate.get("WebsiteTitleText",t).subscribe({next:n=>{this.sitetitle.setTitle(n)},error:n=>{console.log(n)}})}GetRecentData(){this.FetchOnInint=this.DataServ.FetchSessionsList(this.sesCurrentPage,d.N.SessionsListPageSize).subscribe(t=>{this.Sessions=this.SessServ.GetSessions(),this.sesCollectionSize=this.SessServ.Total},t=>{this.Sessions=[]})}OnPageChanged(t){this.sesCurrentPage=t,this.router.navigate(["../",t.toString()],{relativeTo:this.ActiveRoute})}OnDeleteSession(t,n){this.SessServ.DeleteSession(n),this.DataServ.DeleteSessionByToken(t.Token),this.Sessions=this.SessServ.GetSessions()}OnDeleteSessionByEmail(t){t.valid&&(this.DataServ.DeleteSessionByEmail(t.value.useremail),this.GetRecentData())}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(h.gz),e.Y36(v.Z),e.Y36(ve.j),e.Y36(h.F0),e.Y36(E.e),e.Y36(_.sK),e.Y36(M.Dx))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-sessions-list"]],decls:3,vars:2,consts:[["class","row",4,"ngIf"],[1,"text-center"],["class","spinner-border","role","status",4,"ngIf"],[1,"row"],[1,"col"],[3,"type","close",4,"ngIf"],[1,"mt-1","mb-1",3,"ngSubmit"],["DelSesByEmailForm","ngForm"],[1,"form-group"],["for","email"],["type","email","id","email","placeholder","example@example.com","name","useremail","ngModel","","required","","email","",1,"form-control","mb-1"],["type","submit",1,"btn","btn-outline-danger"],[1,"list-group","mb-1"],["style","cursor: pointer;","class","list-group-item list-group-item-action d-flex justify-content-between align-items-center",3,"ngClass","click",4,"ngFor","ngForOf"],[3,"collectionSize","pageSize","page","rotate","boundaryLinks","maxSize","pageChange",4,"ngIf"],[3,"type","close"],[1,"list-group-item","list-group-item-action","d-flex","justify-content-between","align-items-center",2,"cursor","pointer",3,"ngClass","click"],[1,"input-group"],[1,"p-2","m-0","flex-grow-1",2,"place-items","center"],[1,"input-group-append"],["type","button",1,"btn","btn-outline-success","me-1",3,"routerLink"],["type","button",1,"btn","btn-outline-danger",3,"click"],[3,"collectionSize","pageSize","page","rotate","boundaryLinks","maxSize","pageChange"],["role","status",1,"spinner-border"],[1,"visually-hidden-focusable"]],template:function(t,n){1&t&&(e.YNc(0,_i,16,9,"div",0),e.TgZ(1,"div",1),e.YNc(2,fi,4,3,"div",2),e.qZA()),2&t&&(e.Q6J("ngIf",!n.IsLoading),e.xp6(2),e.Q6J("ngIf",n.IsLoading))},directives:[p.O5,f.xm,c._Y,c.JL,c.F,c.Fj,c.JJ,c.On,c.Q7,c.on,p.sg,p.mk,h.rH,f.N9],pipes:[I.J,_.X$],styles:[""]}),i})();function vi(i,s){1&i&&(e.TgZ(0,"div",4)(1,"span",5),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"Loading")))}function Mi(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"ngb-alert",6),e.NdJ("close",function(){return e.CHM(t),e.oxw().ShowMessage=!1}),e._uU(1),e.ALo(2,"FirstLetterUpperPipe"),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("type",t.MessageType),e.xp6(1),e.hij(" ",e.lcZ(2,2,t.ResponseFromBackend.Error.Message),"")}}function yi(i,s){1&i&&(e.TgZ(0,"h2"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Edit")))}function Ti(i,s){1&i&&(e.TgZ(0,"h2"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Create")))}function Ei(i,s){if(1&i&&(e.TgZ(0,"form",null,7)(2,"div",8)(3,"div",9),e.YNc(4,yi,3,3,"h2",3),e.YNc(5,Ti,3,3,"h2",3),e.TgZ(6,"div",8)(7,"label",10),e._uU(8),e.ALo(9,"translate"),e.qZA(),e._UZ(10,"input",11),e.qZA(),e.TgZ(11,"div",8)(12,"label",12),e._uU(13),e.ALo(14,"translate"),e.qZA(),e._UZ(15,"input",13),e.qZA(),e.TgZ(16,"div",8)(17,"label",12),e._uU(18),e.ALo(19,"translate"),e.qZA(),e._UZ(20,"input",14),e.qZA(),e.TgZ(21,"div",8)(22,"label",15),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"select",16)(26,"option",17),e._uU(27,"Guest"),e.qZA(),e.TgZ(28,"option",18),e._uU(29,"Admin"),e.qZA()()(),e.TgZ(30,"div",8)(31,"label",12),e._uU(32),e.ALo(33,"translate"),e.qZA(),e._UZ(34,"input",19),e.qZA(),e.TgZ(35,"div",8)(36,"label",12),e._uU(37),e.ALo(38,"translate"),e.qZA(),e._UZ(39,"input",20),e.qZA(),e.TgZ(40,"div",8)(41,"label",12),e._uU(42),e.ALo(43,"translate"),e.qZA(),e._UZ(44,"input",21),e.qZA(),e.TgZ(45,"div",8)(46,"label",12),e._uU(47),e.ALo(48,"translate"),e.qZA(),e._UZ(49,"input",22),e.qZA(),e.TgZ(50,"button",23),e._uU(51),e.ALo(52,"translate"),e.qZA()()()()),2&i){const t=e.oxw();e.xp6(4),e.Q6J("ngIf",t.editmode),e.xp6(1),e.Q6J("ngIf",!t.editmode),e.xp6(3),e.Oqu(e.lcZ(9,27,"Email")),e.xp6(2),e.Q6J("ngModel",t.SessionToEdit.Email)("disabled",!0),e.xp6(3),e.Oqu(e.lcZ(14,29,"IPv4")),e.xp6(2),e.Q6J("ngModel",t.SessionToEdit.IP)("disabled",!0),e.xp6(3),e.Oqu(e.lcZ(19,31,"UserAgent")),e.xp6(2),e.Q6J("ngModel",t.SessionToEdit.UserAgent)("disabled",!0),e.xp6(3),e.Oqu(e.lcZ(24,33,"SelectRole")),e.xp6(2),e.Q6J("ngModel",t.SessionToEdit.Role)("disabled",!0),e.xp6(7),e.Oqu(e.lcZ(33,35,"Token")),e.xp6(2),e.Q6J("ngModel",t.SessionToEdit.Token)("disabled",!0),e.xp6(3),e.Oqu(e.lcZ(38,37,"Session")),e.xp6(2),e.Q6J("ngModel",t.SessionToEdit.Session)("disabled",!0),e.xp6(3),e.Oqu(e.lcZ(43,39,"Issued")),e.xp6(2),e.Q6J("ngModel",t.SessionToEdit.IssDate)("disabled",!0),e.xp6(3),e.Oqu(e.lcZ(48,41,"Expires")),e.xp6(2),e.Q6J("ngModel",t.SessionToEdit.ExpDate)("disabled",!0),e.xp6(2),e.Oqu(e.lcZ(52,43,"Cancel"))}}let Me=(()=>{class i{constructor(t,n,o,r,a,l){this.SessServ=t,this.activatedroute=n,this.datastore=o,this.auth=r,this.translate=a,this.sitetitle=l,a.addLangs(d.N.SupportedLangs),a.setDefaultLang(d.N.DefaultLocale)}ngOnDestroy(){this.DataLoading.unsubscribe(),this.RecivedErrorSub.unsubscribe()}ngOnInit(){const t=localStorage.getItem("userLang");this.SwitchLanguage(null!==t?t:d.N.DefaultLocale),this.activatedroute.params.subscribe(n=>{this.editmode=null!=n.id,this.editmode&&(this.index=+n.id,this.SessionToEdit=this.SessServ.GetSessionById(this.index)),this.SessServ.CurrentSelectedItem=this.SessionToEdit}),this.RecivedErrorSub=this.datastore.RecivedError.subscribe(n=>{this.ShowMessage=!0,this.ResponseFromBackend=n,setTimeout(()=>{this.ShowMessage=!1,(401===n.Error.Code||403===n.Error.Code||407===n.Error.Code)&&this.auth.SignOut()},d.N.MessageTimeout),n&&(this.MessageType=200===n.Error.Code?"success":"danger")}),this.DataLoading=this.datastore.LoadingData.subscribe(n=>{this.IsLoading=n})}SwitchLanguage(t){this.translate.use(t),localStorage.setItem("userLang",t),this.translate.get("WebsiteTitleText",t).subscribe({next:n=>{this.sitetitle.setTitle(n)},error:n=>{console.log(n)}})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(ve.j),e.Y36(h.gz),e.Y36(v.Z),e.Y36(E.e),e.Y36(_.sK),e.Y36(M.Dx))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-sessions-edit"]],decls:4,vars:3,consts:[[1,"text-center"],["class","spinner-border","role","status",4,"ngIf"],[3,"type","close",4,"ngIf"],[4,"ngIf"],["role","status",1,"spinner-border"],[1,"visually-hidden-focusable"],[3,"type","close"],["SessionEditForm","ngForm"],[1,"form-group"],[2,"margin","3px"],["for","email"],["type","email","id","email","placeholder","exampe@example.com","name","sessionemail","required","","email","",1,"form-control","mb-1",3,"ngModel","disabled"],["for","name"],["type","text","id","ip","placeholder","example","name","sessionip","required","",1,"form-control","mb-1",3,"ngModel","disabled"],["type","text","id","useragent","placeholder","example","name","sessionuseragent","required","",1,"form-control","mb-1",3,"ngModel","disabled"],["for","roles"],["name","sessionrole","id","roles","required","",1,"form-control",3,"ngModel","disabled"],["value","guest_role_read_only"],["value","admin_role_CRUD"],["type","text","id","token","placeholder","example","name","sessiontoken","required","",1,"form-control","mb-1",3,"ngModel","disabled"],["type","text","id","session","placeholder","example","name","sessionsession","required","",1,"form-control","mb-1",3,"ngModel","disabled"],["type","text","id","issued","placeholder","example","name","sessionissued","required","",1,"form-control","mb-1",3,"ngModel","disabled"],["type","text","id","expires","placeholder","example","name","sessionexpires","required","",1,"form-control","mb-1",3,"ngModel","disabled"],["type","button","routerLink","..",1,"btn","btn-outline-danger",2,"margin-left","3px"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,vi,4,3,"div",1),e.qZA(),e.YNc(2,Mi,3,4,"ngb-alert",2),e.YNc(3,Ei,53,45,"form",3)),2&t&&(e.xp6(1),e.Q6J("ngIf",n.IsLoading),e.xp6(1),e.Q6J("ngIf",n.ShowMessage),e.xp6(1),e.Q6J("ngIf",n.SessionToEdit))},directives:[p.O5,f.xm,c._Y,c.JL,c.F,c.Fj,c.Q7,c.on,c.JJ,c.On,c.EJ,c.YN,c.Kr,h.rH],pipes:[_.X$,I.J],styles:[""]}),i})();const xi=[{path:"",redirectTo:"users",pathMatch:"full"},{path:"users",component:B,canActivate:[U.a],children:[{path:"",redirectTo:"1",pathMatch:"full"},{path:":pn",component:$t,canActivate:[P.p],data:{expectedRole:"admin_role_CRUD"}},{path:":pn/new",component:_e},{path:":pn/:id",component:_e,resolve:[Te]}]},{path:"sessions",component:B,canActivate:[U.a],children:[{path:"",redirectTo:"1",pathMatch:"full"},{path:":pn",component:bi,canActivate:[P.p],data:{expectedRole:"admin_role_CRUD"}},{path:":pn/new",component:Me},{path:":pn/:id",component:Me,resolve:[xe]}]},{path:"media",component:B,canActivate:[U.a],children:[{path:"",redirectTo:"1",pathMatch:"full"},{path:":pn",component:si,canActivate:[P.p],data:{expectedRole:"admin_role_CRUD"}},{path:":pn/new",component:be},{path:":pn/:id",component:be,resolve:[Ee]}]}];let Ci=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[h.Bz.forChild(xi)],h.Bz]}),i})();var Ai=u(319),Di=u(9725),Ii=u(4466);let Si=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[Ii.m,p.ez,_.aw.forRoot({loader:{provide:_.Zw,useFactory:ye,deps:[Di.eN]}}),c.u5,f._A,f.jF,f.HK,Ci,Ut]]}),i})();function ye(i){return new Ai.w(i)}}}]);