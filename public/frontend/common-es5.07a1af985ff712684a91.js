function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{EiSp:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function e(t,n){_classCallCheck(this,e),this.Name=t,this.Amount=n}},GXvH:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("tk/3"),r=n("qc5x"),s=n("lJxs"),a=n("vkgz"),c=n("AytR"),o=n("XNiG"),u=n("fXoL"),d=n("ceC1"),h=n("ozzT"),l=function(){var e=function(){function e(t,n,i){_classCallCheck(this,e),this.http=t,this.recipes=n,this.shoppinglist=i,this.LoadingData=new o.a,this.RecipesUpdateInsert=new o.a,this.RecivedError=new o.a}return _createClass(e,[{key:"DeleteRecipe",value:function(e){var t=this;this.LoadingData.next(!0);var n={headers:new i.d({RecipeID:e.ID.toString()})};this.http.delete(c.a.GetSetRecipesUrl,n).subscribe((function(e){t.RecivedError.next(e),t.LoadingData.next(!1)}),(function(e){t.RecivedError.next(e.error),t.LoadingData.next(!1)}))}},{key:"SaveRecipe",value:function(e){var t=this;this.LoadingData.next(!0),this.http.post(c.a.GetSetRecipesUrl,e).subscribe((function(e){t.RecipesUpdateInsert.next(e),t.RecivedError.next(new r.a(200,"\u0414\u0430\u043d\u043d\u044b\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u044b")),t.LoadingData.next(!1)}),(function(e){t.RecivedError.next(e.error),t.LoadingData.next(!1)}))}},{key:"FetchRecipes",value:function(e,t){var n=this;this.LoadingData.next(!0);var r={headers:new i.d({Page:e.toString(),Limit:t.toString()})};return this.http.get(c.a.GetSetRecipesUrl,r).pipe(Object(s.a)((function(e){return e.Recipes=e.Recipes.map((function(e){return Object.assign(Object.assign({},e),{Ingredients:e.Ingredients?e.Ingredients:[]})})),e})),Object(a.a)((function(e){n.recipes.SetRecipes(e.Recipes),n.recipes.SetPagination(e.Total,e.Limit,e.Offset),n.LoadingData.next(!1)}),(function(e){n.RecivedError.next(e.error),n.LoadingData.next(!1)})))}},{key:"SearchRecipes",value:function(e,t,n){var r=this;this.LoadingData.next(!0);var o={headers:new i.d({Page:e.toString(),Limit:t.toString(),Search:n})};return this.http.get(c.a.SearchRecipesUrl,o).pipe(Object(s.a)((function(e){return e.Recipes=e.Recipes.map((function(e){return Object.assign(Object.assign({},e),{Ingredients:e.Ingredients?e.Ingredients:[]})})),e})),Object(a.a)((function(e){r.recipes.SetRecipes(e.Recipes),r.recipes.SetPagination(e.Total,e.Limit,e.Offset),r.LoadingData.next(!1)}),(function(e){r.RecivedError.next(e.error),r.LoadingData.next(!1)})))}},{key:"FetchShoppingList",value:function(e,t){var n=this;this.LoadingData.next(!0);var r={headers:new i.d({Page:e.toString(),Limit:t.toString()})};return this.http.get(c.a.GetSetShoppingListUrl,r).pipe(Object(a.a)((function(e){n.shoppinglist.SetIngredients(e.Items),n.shoppinglist.SetPagination(e.Total,e.Limit,e.Offset),n.LoadingData.next(!1)}),(function(e){n.RecivedError.next(e.error),n.LoadingData.next(!1)})))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(u.Xb(i.a),u.Xb(d.a),u.Xb(h.a))},e.\u0275prov=u.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},ceC1:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("qc5x"),r=n("EiSp"),s=n("XNiG"),a=n("AytR"),c=n("fXoL"),o=n("ozzT"),u=function(){var e=function(){function e(t){_classCallCheck(this,e),this.ShopList=t,this.IngredientSelected=new s.a,this.RecipeChanged=new s.a,this.RecipesUpdated=new s.a,this.RecipesInserted=new s.a,this.RecipesDeleted=new s.a,this.recipes=[]}return _createClass(e,[{key:"GetRecipes",value:function(){return this.recipes.slice(0,a.a.RecipePageSize)}},{key:"GetRecipesLen",value:function(){return this.recipes.length}},{key:"GetRecipeById",value:function(e){return e<this.recipes.length&&e>0?this.recipes[e]:this.recipes[0]}},{key:"GetRecipeId",value:function(e){return this.recipes.indexOf(e)}},{key:"SendToShoppingList",value:function(e){var t=this;e.forEach((function(e){t.ShopList.AddNewItem(e)}))}},{key:"AddNewRecipe",value:function(e){var t=new i.b(e.Name,e.Description,e.ImagePath,e.Ingredients,e.ImageDbID,e.ID);this.recipes.length<=a.a.RecipePageSize&&this.recipes.push(t),this.RecipeChanged.next(t),this.RecipesInserted.next()}},{key:"UpdateExistingRecipe",value:function(e,t){this.recipes[t]=e,this.RecipeChanged.next(e)}},{key:"SetRecipes",value:function(e){this.recipes=e,this.RecipesUpdated.next()}},{key:"SetPagination",value:function(e,t,n){this.Total=e}},{key:"DeleteRecipe",value:function(e){this.recipes.splice(e,1),this.RecipesDeleted.next()}},{key:"AddNewIngredient",value:function(e){var t=this.RecipeToEdit.Ingredients.find((function(t){return t.Name===e.Name}));t?t.Amount=t.Amount+e.Amount:this.RecipeToEdit.Ingredients.push(new r.a(e.Name,e.Amount))}},{key:"UpdateSelectedIngredient",value:function(e){var t=this,n=this.RecipeToEdit.Ingredients.find((function(e){return e===t.CurrentSelectedItem}));n&&(n.Name=e.Name,n.Amount=e.Amount),this.CurrentSelectedItem=null,this.IngredientSelected.next(this.CurrentSelectedItem)}},{key:"DeleteSelectedIngredient",value:function(){var e=this.RecipeToEdit.Ingredients.indexOf(this.CurrentSelectedItem);-1!==e&&this.RecipeToEdit.Ingredients.splice(e,1),this.CurrentSelectedItem=null}},{key:"ClearAllIngredients",value:function(){this.RecipeToEdit.Ingredients=[],this.CurrentSelectedItem=null}},{key:"GetIngredientsLength",value:function(){return this.RecipeToEdit.Ingredients.length}},{key:"IngredientSelect",value:function(e){this.CurrentSelectedItem=e,this.IngredientSelected.next(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Xb(o.a))},e.\u0275prov=c.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},ozzT:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("EiSp"),r=n("XNiG"),s=n("AytR"),a=n("fXoL"),c=function(){var e=function(){function e(){_classCallCheck(this,e),this.IngredientSelected=new r.a,this.IngredientChanged=new r.a,this.IngredientsUpdated=new r.a,this.ingredients=[]}return _createClass(e,[{key:"GetIngredients",value:function(){return this.ingredients.slice()}},{key:"GetIngredientsLength",value:function(){return this.ingredients.length}},{key:"SetIngredients",value:function(e){this.ingredients=e,this.IngredientsUpdated.next()}},{key:"SetPagination",value:function(e,t,n){this.Total=e}},{key:"AddNewItem",value:function(e){var t=this.ingredients.find((function(t){return t.Name===e.Name}));t?t.Amount=t.Amount+e.Amount:this.ingredients.length<=s.a.ShoppingListPageSize&&this.ingredients.push(new i.a(e.Name,e.Amount)),this.IngredientChanged.next(this.ingredients.slice())}},{key:"UpdateSelectedItem",value:function(e){var t=this.ingredients.indexOf(this.CurrentSelectedItem);-1!==t&&(this.ingredients[t]=e,this.IngredientChanged.next(this.ingredients.slice())),this.CurrentSelectedItem=null}},{key:"DeleteSelectedItem",value:function(){var e=this.ingredients.indexOf(this.CurrentSelectedItem);-1!==e&&this.ingredients.splice(e,1),this.CurrentSelectedItem=null,this.IngredientChanged.next(this.ingredients.slice())}},{key:"ClearAll",value:function(){this.ingredients=[],this.CurrentSelectedItem=null,this.IngredientChanged.next(this.ingredients.slice())}},{key:"SelectItemShopList",value:function(e){this.CurrentSelectedItem=e,this.IngredientSelected.next(e)}},{key:"IsCurrentSelected",value:function(e){return this.CurrentSelectedItem===e}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=a.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},qc5x:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r}));var i=function e(t,n,i,r,s,a){_classCallCheck(this,e),this.Name=t,this.Description=n,this.ImagePath=i,this.Ingredients=r,this.ImageDbID=s,this.ID=a},r=function e(t,n){_classCallCheck(this,e),this.Error=new s(t,n)},s=function e(t,n){_classCallCheck(this,e),this.Code=t,this.Message=n}}}]);