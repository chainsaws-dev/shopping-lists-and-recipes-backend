!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{CXQP:function(t,i,r){"use strict";r.r(i),r.d(i,"ShoppingListModule",(function(){return R}));var s=r("ofXK"),a=r("AytR"),o=r("fXoL"),c=r("ozzT"),u=r("tyNb"),d=r("GXvH"),h=r("EiSp"),l=r("3Pt+"),p=["f"];function g(e,t){if(1&e){var n=o.Qb();o.Pb(0,"button",14),o.ac("click",(function(){return o.oc(n),o.cc().DeleteSelectedItem()})),o.xc(1,"Delete"),o.Ob()}}function f(e,t){if(1&e){var n=o.Qb();o.Pb(0,"button",15),o.ac("click",(function(){return o.oc(n),o.cc().ClearAllItems()})),o.xc(1,"Clear"),o.Ob()}}var v,b=((v=function(){function t(n,i){e(this,t),this.ShopListServ=n,this.DataServ=i,this.editmode=!1}return n(t,[{key:"ngOnInit",value:function(){var e=this;this.ingselected=this.ShopListServ.IngredientSelected.subscribe((function(t){e.selectedingredient=t,e.editmode=!0,e.slEditForm.setValue({name:e.selectedingredient.Name,amount:e.selectedingredient.Amount})})),this.IngAdd=this.ShopListServ.IngredientAdded.subscribe((function(t){e.DataServ.SaveShoppingList(t)})),this.IngUpd=this.ShopListServ.IngredientUpdated.subscribe((function(t){e.DataServ.SaveShoppingList(t)})),this.IngDel=this.ShopListServ.IngredientDeleted.subscribe((function(t){e.DataServ.DeleteShoppingList(t)})),this.IngCle=this.ShopListServ.IngredientClear.subscribe((function(){e.DataServ.DeleteAllShoppingList()}))}},{key:"ngOnDestroy",value:function(){this.ingselected.unsubscribe(),this.IngAdd.unsubscribe(),this.IngUpd.unsubscribe(),this.IngDel.unsubscribe(),this.IngCle.unsubscribe()}},{key:"AddNewItem",value:function(e){if(e.valid){var t=e.value;this.ShopListServ.AddNewItem(new h.a(t.name,parseInt(t.amount,10)),!1)}}},{key:"UpdateItem",value:function(e){if(e.valid){var t=e.value;this.ShopListServ.UpdateSelectedItem(new h.a(t.name,parseInt(t.amount,10))),this.editmode=!1,this.slEditForm.reset()}}},{key:"DeleteSelectedItem",value:function(){this.ShopListServ.DeleteSelectedItem()}},{key:"ClearAllItems",value:function(){this.ShopListServ.ClearAll()}}]),t}()).\u0275fac=function(e){return new(e||v)(o.Kb(c.a),o.Kb(d.a))},v.\u0275cmp=o.Eb({type:v,selectors:[["app-shopping-edit"]],viewQuery:function(e,t){var n;1&e&&o.Bc(p,!0),2&e&&o.mc(n=o.bc())&&(t.slEditForm=n.first)},decls:18,vars:4,consts:[[1,"row"],[1,"col"],[3,"ngSubmit"],["f","ngForm"],[1,"input-group","mt-3"],[1,"col-sm-9","form-group"],["type","text","id","name","placeholder","Name","name","name","ngModel","","required","",1,"form-control"],[1,"col","form-group"],["type","number","id","amount","placeholder","Amount","name","amount","ngModel","","required","","pattern","^[1-9]+[0-9]*$",1,"form-control"],[1,"input-group"],[1,"input-group-prepend"],["type","submit",1,"btn","btn-outline-primary",3,"disabled"],["class","btn btn-outline-danger","type","button",3,"click",4,"ngIf"],["class","btn btn-outline-secondary","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","btn-outline-danger",3,"click"],["type","button",1,"btn","btn-outline-secondary",3,"click"]],template:function(e,t){if(1&e){var n=o.Qb();o.Pb(0,"div",0),o.Pb(1,"div",1),o.Pb(2,"form",2,3),o.ac("ngSubmit",(function(){o.oc(n);var e=o.nc(3);return t.editmode?t.UpdateItem(e):t.AddNewItem(e)})),o.Pb(4,"div",0),o.Pb(5,"div",4),o.Pb(6,"div",5),o.Lb(7,"input",6),o.Ob(),o.Pb(8,"div",7),o.Lb(9,"input",8),o.Ob(),o.Ob(),o.Ob(),o.Pb(10,"div",0),o.Pb(11,"div",1),o.Pb(12,"div",9),o.Pb(13,"div",10),o.Pb(14,"button",11),o.xc(15),o.Ob(),o.vc(16,g,2,0,"button",12),o.vc(17,f,2,0,"button",13),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Ob()}if(2&e){var i=o.nc(3);o.xb(14),o.fc("disabled",i.invalid),o.xb(1),o.yc(t.editmode?"Update":"Add"),o.xb(1),o.fc("ngIf",t.ShopListServ.CurrentSelectedItem),o.xb(1),o.fc("ngIf",0!==t.ShopListServ.GetIngredientsLength())}},directives:[l.r,l.i,l.j,l.b,l.h,l.k,l.o,l.m,l.n,s.k],styles:["input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:#ff0a1d!important;box-shadow:none!important}input.ng-invalid.ng-touched[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem rgba(255,10,29,.25)!important}input.ng-valid.ng-touched[_ngcontent-%COMP%]{border-color:#67c07b!important;box-shadow:none!important}input.ng-valid.ng-touched[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem rgba(52,179,13,.25)!important}"]}),v),S=r("1kSV");function m(e,t){if(1&e){var n=o.Qb();o.Pb(0,"ngb-alert",9),o.ac("close",(function(){return o.oc(n),o.cc(2).ShowMessage=!1})),o.xc(1),o.Ob()}if(2&e){var i=o.cc(2);o.fc("type",i.MessageType),o.xb(1),o.yc(i.ResponseFromBackend.Error.Message)}}function I(e,t){if(1&e){var n=o.Qb();o.Pb(0,"a",10),o.ac("click",(function(){o.oc(n);var e=t.$implicit;return o.cc(2).ShopListServ.SelectItemShopList(e)})),o.xc(1),o.Pb(2,"span",11),o.xc(3),o.Ob(),o.Ob()}if(2&e){var i=t.$implicit,r=o.cc(2);o.fc("ngClass",r.ShopListServ.IsCurrentSelected(i)?"active":""),o.xb(1),o.zc("",i.Name," "),o.xb(2),o.yc(i.Amount)}}function y(e,t){if(1&e){var n=o.Qb();o.Pb(0,"ngb-pagination",12),o.ac("pageChange",(function(e){return o.oc(n),o.cc(2).OnPageChanged(e)})),o.Ob()}if(2&e){var i=o.cc(2);o.fc("collectionSize",i.slcollectionSize)("pageSize",i.slPageSize)("page",i.slCurrentPage)("rotate",!0)("boundaryLinks",!0)("maxSize",11)}}function x(e,t){if(1&e&&(o.Pb(0,"div",3),o.Pb(1,"div",4),o.Lb(2,"app-shopping-edit"),o.Lb(3,"hr"),o.vc(4,m,2,2,"ngb-alert",5),o.Pb(5,"ul",6),o.vc(6,I,4,3,"a",7),o.Ob(),o.vc(7,y,1,6,"ngb-pagination",8),o.Ob(),o.Ob()),2&e){var n=o.cc();o.xb(4),o.fc("ngIf",n.ShowMessage),o.xb(2),o.fc("ngForOf",n.ingredients),o.xb(1),o.fc("ngIf",n.slcollectionSize>n.slPageSize)}}function L(e,t){1&e&&(o.Pb(0,"div",13),o.Pb(1,"span",14),o.xc(2,"Loading..."),o.Ob(),o.Ob())}var D,U,w=[{path:"",redirectTo:"1",pathMatch:"full"},{path:":pn",component:(D=function(){function t(n,i,r,s){e(this,t),this.ShopListServ=n,this.activeroute=i,this.DataServ=r,this.router=s}return n(t,[{key:"ngOnDestroy",value:function(){this.IngChanged.unsubscribe(),this.PageChanged.unsubscribe(),this.FetchOnInint.unsubscribe(),this.DataLoading.unsubscribe(),this.RecivedErrorSub.unsubscribe(),this.WatchIngAdd.unsubscribe(),this.WatchIngDel.unsubscribe(),this.WatchIngCle.unsubscribe()}},{key:"ngOnInit",value:function(){var e=this;this.slPageSize=a.a.ShoppingListPageSize,this.RecivedErrorSub=this.DataServ.RecivedError.subscribe((function(t){switch(e.ShowMessage=!0,e.ResponseFromBackend=t,setTimeout((function(){return e.ShowMessage=!1}),5e3),t.Error.Code){case 200:e.MessageType="success";break;default:e.MessageType="danger"}})),this.IngChanged=this.ShopListServ.IngredientChanged.subscribe((function(t){e.ingredients=t})),this.PageChanged=this.activeroute.params.subscribe((function(t){e.slCurrentPage=+t.pn})),this.DataLoading=this.DataServ.LoadingData.subscribe((function(t){e.IsLoading=t})),this.FetchOnInint=this.DataServ.FetchShoppingList(this.slCurrentPage,a.a.ShoppingListPageSize).subscribe((function(t){e.ingredients=e.ShopListServ.GetIngredients(),e.slcollectionSize=e.ShopListServ.Total}),(function(t){e.ingredients=[]})),this.WatchIngAdd=this.ShopListServ.IngredientAdded.subscribe((function(t){e.slcollectionSize+=1,e.ingredients=e.ShopListServ.GetIngredients()})),this.WatchIngDel=this.ShopListServ.IngredientDeleted.subscribe((function(t){e.slcollectionSize-=1,e.ingredients=e.ShopListServ.GetIngredients(),0===e.ingredients.length&&(e.slCurrentPage=e.GetPreviousPage(e.slCurrentPage),e.ShopListServ.Total=e.slcollectionSize,0!==e.slcollectionSize&&e.OnPageChanged(e.slCurrentPage))})),this.WatchIngCle=this.ShopListServ.IngredientClear.subscribe((function(){e.slcollectionSize=0,e.ShopListServ.Total=e.slcollectionSize}))}},{key:"GetPreviousPage",value:function(e){return e>1?e-1:1}},{key:"OnPageChanged",value:function(e){var t=this;this.slCurrentPage=e,this.FetchOnInint=this.DataServ.FetchShoppingList(e,a.a.ShoppingListPageSize).subscribe((function(){t.ingredients=t.ShopListServ.GetIngredients(),t.router.navigate(["../",e.toString()],{relativeTo:t.activeroute})}))}}]),t}(),D.\u0275fac=function(e){return new(e||D)(o.Kb(c.a),o.Kb(u.a),o.Kb(d.a),o.Kb(u.c))},D.\u0275cmp=o.Eb({type:D,selectors:[["app-shopping-list"]],decls:3,vars:2,consts:[["class","row",4,"ngIf"],[1,"text-center"],["class","spinner-border","role","status",4,"ngIf"],[1,"row"],[1,"col"],[3,"type","close",4,"ngIf"],[1,"list-group","mb-1"],["style","cursor: pointer;","class","list-group-item list-group-item-action d-flex justify-content-between align-items-center",3,"ngClass","click",4,"ngFor","ngForOf"],[3,"collectionSize","pageSize","page","rotate","boundaryLinks","maxSize","pageChange",4,"ngIf"],[3,"type","close"],[1,"list-group-item","list-group-item-action","d-flex","justify-content-between","align-items-center",2,"cursor","pointer",3,"ngClass","click"],[1,"badge","badge-success","badge-pill"],[3,"collectionSize","pageSize","page","rotate","boundaryLinks","maxSize","pageChange"],["role","status",1,"spinner-border"],[1,"sr-only"]],template:function(e,t){1&e&&(o.vc(0,x,8,3,"div",0),o.Pb(1,"div",1),o.vc(2,L,3,0,"div",2),o.Ob()),2&e&&(o.fc("ngIf",!t.IsLoading),o.xb(2),o.fc("ngIf",t.IsLoading))},directives:[s.k,b,s.j,S.a,s.i,S.i],styles:[""]}),D),canActivate:[r("dxYa").a],data:{expectedRole:"admin_role_CRUD"}}],R=((U=function t(){e(this,t)}).\u0275mod=o.Ib({type:U}),U.\u0275inj=o.Hb({factory:function(e){return new(e||U)},imports:[[s.b,l.d,S.b,S.j,u.g.forChild(w)]]}),U)},EiSp:function(t,n,i){"use strict";i.d(n,"a",(function(){return r}));var r=function t(n,i){e(this,t),this.Name=n,this.Amount=i}},GXvH:function(t,i,r){"use strict";r.d(i,"a",(function(){return f}));var s=r("tk/3"),a=r("qc5x"),o=r("lJxs"),c=r("vkgz"),u=r("AytR"),d=r("XNiG"),h=r("fXoL"),l=r("ceC1"),p=r("ozzT"),g=r("l3fW"),f=function(){var t=function(){function t(n,i,r,s){e(this,t),this.http=n,this.recipes=i,this.shoppinglist=r,this.users=s,this.LoadingData=new d.a,this.RecipesUpdateInsert=new d.a,this.RecivedError=new d.a,this.PaginationSet=new d.a,this.FileUploadProgress=new d.a,this.FileUploaded=new d.a,this.UserUpdateInsert=new d.a}return n(t,[{key:"FetchRecipes",value:function(e,t){var n=this;this.LoadingData.next(!0);var i={headers:new s.e({Page:e.toString(),Limit:t.toString(),ApiKey:u.a.ApiKey})};return this.http.get(u.a.GetSetRecipesUrl,i).pipe(Object(o.a)((function(e){return e.Recipes=e.Recipes.map((function(e){return Object.assign(Object.assign({},e),{Ingredients:e.Ingredients?e.Ingredients:[]})})),e})),Object(c.a)((function(e){n.recipes.SetRecipes(e.Recipes),n.PaginationSet.next(new a.b(e.Total,e.Limit,e.Offset)),n.LoadingData.next(!1)}),(function(e){n.RecivedError.next(e.error),n.LoadingData.next(!1)})))}},{key:"SearchRecipes",value:function(e,t,n){var i=this;this.LoadingData.next(!0);var r={headers:new s.e({Page:e.toString(),Limit:t.toString(),Search:n,ApiKey:u.a.ApiKey})};return this.http.get(u.a.SearchRecipesUrl,r).pipe(Object(o.a)((function(e){return e.Recipes=e.Recipes.map((function(e){return Object.assign(Object.assign({},e),{Ingredients:e.Ingredients?e.Ingredients:[]})})),e})),Object(c.a)((function(e){i.recipes.SetRecipes(e.Recipes),i.PaginationSet.next(new a.b(e.Total,e.Limit,e.Offset)),i.LoadingData.next(!1)}),(function(e){i.RecivedError.next(e.error),i.LoadingData.next(!1)})))}},{key:"SaveRecipe",value:function(e){var t=this;this.LoadingData.next(!0);var n={headers:new s.e({ApiKey:u.a.ApiKey})};this.http.post(u.a.GetSetRecipesUrl,e,n).subscribe((function(e){t.RecipesUpdateInsert.next(e),t.RecivedError.next(new a.a(200,"\u0414\u0430\u043d\u043d\u044b\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u044b")),t.LoadingData.next(!1)}),(function(e){t.RecivedError.next(e.error),t.LoadingData.next(!1)}))}},{key:"FileUpload",value:function(e){var t=this,n=new FormData;n.append("file",e,e.name),this.http.post(u.a.UploadFileUrl,n,{headers:new s.e({ApiKey:u.a.ApiKey}),reportProgress:!0,observe:"events"}).subscribe((function(e){e.type===s.d.UploadProgress?t.FileUploadProgress.next(String(e.loaded/e.total*100)):e.type===s.d.Response&&e.ok&&t.FileUploaded.next(e.body)}),(function(e){t.RecivedError.next(e.error),t.LoadingData.next(!1)}))}},{key:"DeleteFile",value:function(e,t){var n=this;this.LoadingData.next(!0);var i={headers:new s.e({FileID:e.toString(),ApiKey:u.a.ApiKey})};this.http.delete(u.a.UploadFileUrl,i).subscribe((function(e){t||n.RecivedError.next(e),n.LoadingData.next(!1)}),(function(e){n.RecivedError.next(e.error),n.LoadingData.next(!1)}))}},{key:"DeleteRecipe",value:function(e){var t=this;this.LoadingData.next(!0);var n={headers:new s.e({RecipeID:e.ID.toString(),ApiKey:u.a.ApiKey})};this.http.delete(u.a.GetSetRecipesUrl,n).subscribe((function(n){t.RecivedError.next(n),t.LoadingData.next(!1),t.DeleteFile(e.ImageDbID,!0)}),(function(e){t.RecivedError.next(e.error),t.LoadingData.next(!1)}))}},{key:"FetchShoppingList",value:function(e,t){var n=this;this.LoadingData.next(!0);var i={headers:new s.e({Page:e.toString(),Limit:t.toString(),ApiKey:u.a.ApiKey})};return this.http.get(u.a.GetSetShoppingListUrl,i).pipe(Object(c.a)((function(e){n.shoppinglist.SetIngredients(e.Items),n.shoppinglist.SetPagination(e.Total,e.Limit,e.Offset),n.LoadingData.next(!1)}),(function(e){n.RecivedError.next(e.error),n.LoadingData.next(!1)})))}},{key:"SaveShoppingList",value:function(e){var t=this;this.LoadingData.next(!0);var n={headers:new s.e({ApiKey:u.a.ApiKey})};this.http.post(u.a.GetSetShoppingListUrl,e,n).subscribe((function(e){t.RecipesUpdateInsert.next(e),t.RecivedError.next(new a.a(200,"\u0414\u0430\u043d\u043d\u044b\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u044b")),t.LoadingData.next(!1)}),(function(e){t.RecivedError.next(e.error),t.LoadingData.next(!1)}))}},{key:"DeleteShoppingList",value:function(e){var t=this;this.LoadingData.next(!0);var n={headers:new s.e({IngName:encodeURI(e.Name),ApiKey:u.a.ApiKey})};this.http.delete(u.a.GetSetShoppingListUrl,n).subscribe((function(e){t.RecivedError.next(e),t.LoadingData.next(!1)}),(function(e){t.RecivedError.next(e.error),t.LoadingData.next(!1)}))}},{key:"DeleteAllShoppingList",value:function(){var e=this,t={headers:new s.e({ApiKey:u.a.ApiKey})};this.http.delete(u.a.GetSetShoppingListUrl,t).subscribe((function(t){e.RecivedError.next(t),e.LoadingData.next(!1)}),(function(t){e.RecivedError.next(t.error),e.LoadingData.next(!1)}))}},{key:"FetchUsersList",value:function(e,t){var n=this;this.LoadingData.next(!0);var i={headers:new s.e({Page:e.toString(),Limit:t.toString(),ApiKey:u.a.ApiKey})};return this.http.get(u.a.GetSetUsersUrl,i).pipe(Object(c.a)((function(e){n.users.SetUsers(e.Users),n.users.SetPagination(e.Total,e.Limit,e.Offset),n.LoadingData.next(!1)}),(function(e){n.RecivedError.next(e.error),n.LoadingData.next(!1)})))}},{key:"SaveUser",value:function(e,t,n){var i=this;this.LoadingData.next(!0),0===e.GUID.length&&(e.GUID="00000000-0000-0000-0000-000000000000"),this.GetObsForSaveUser(e,t,n).subscribe((function(e){i.UserUpdateInsert.next(e),i.RecivedError.next(new a.a(200,"\u0414\u0430\u043d\u043d\u044b\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u044b")),i.LoadingData.next(!1)}),(function(e){i.RecivedError.next(e.error),i.LoadingData.next(!1)}))}},{key:"GetObsForSaveUser",value:function(e,t,n){if(t){var i={headers:new s.e({NewPassword:btoa(encodeURI(n)),ApiKey:u.a.ApiKey})};return this.http.post(u.a.GetSetUsersUrl,e,i)}var r={headers:new s.e({ApiKey:u.a.ApiKey})};return this.http.post(u.a.GetSetUsersUrl,e,r)}},{key:"DeleteUser",value:function(e){var t=this;this.LoadingData.next(!0);var n={headers:new s.e({UserID:btoa(encodeURI(e.GUID)),ApiKey:u.a.ApiKey})};this.http.delete(u.a.GetSetUsersUrl,n).subscribe((function(e){t.RecivedError.next(e),t.LoadingData.next(!1)}),(function(e){t.RecivedError.next(e.error),t.LoadingData.next(!1)}))}},{key:"ConfirmEmail",value:function(e){var t=this;this.LoadingData.next(!0);var n={headers:new s.e({Token:e,ApiKey:u.a.ApiKey})};this.http.post(u.a.ConfirmEmailUrl,null,n).subscribe((function(e){t.RecivedError.next(e),t.LoadingData.next(!1)}),(function(e){t.RecivedError.next(e.error),t.LoadingData.next(!1)}))}},{key:"SendEmailConfirmEmail",value:function(e){var t=this;this.LoadingData.next(!0);var n={headers:new s.e({Email:e,ApiKey:u.a.ApiKey})};this.http.post(u.a.ResendEmailUrl,null,n).subscribe((function(e){t.RecivedError.next(e),t.LoadingData.next(!1)}),(function(e){t.RecivedError.next(e.error),t.LoadingData.next(!1)}))}},{key:"SendEmailResetPassword",value:function(e){var t=this;this.LoadingData.next(!0);var n={headers:new s.e({Email:e,ApiKey:u.a.ApiKey})};this.http.post(u.a.SendEmailResetPassUrl,null,n).subscribe((function(e){t.RecivedError.next(e),t.LoadingData.next(!1)}),(function(e){t.RecivedError.next(e.error),t.LoadingData.next(!1)}))}},{key:"SubmitNewPassword",value:function(e,t){var n=this;this.LoadingData.next(!0);var i={headers:new s.e({Token:e,NewPassword:btoa(encodeURI(t)),ApiKey:u.a.ApiKey})};this.http.post(u.a.ResetPasswordUrl,null,i).subscribe((function(e){n.RecivedError.next(e),n.LoadingData.next(!1)}),(function(e){n.RecivedError.next(e.error),n.LoadingData.next(!1)}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(h.Xb(s.b),h.Xb(l.a),h.Xb(p.a),h.Xb(g.a))},t.\u0275prov=h.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},Y93L:function(t,n,i){"use strict";i.d(n,"a",(function(){return r}));var r=function t(n,i,r,s){e(this,t),this.GUID="",this.Role=n,this.Email=i,this.Phone=r,this.Name=s,this.IsAdmin=!1,this.Confirmed=!1}},ceC1:function(t,i,r){"use strict";r.d(i,"a",(function(){return h}));var s=r("qc5x"),a=r("EiSp"),o=r("XNiG"),c=r("AytR"),u=r("fXoL"),d=r("ozzT"),h=function(){var t=function(){function t(n){e(this,t),this.ShopList=n,this.IngredientSelected=new o.a,this.RecipeChanged=new o.a,this.RecipesUpdated=new o.a,this.RecipesInserted=new o.a,this.RecipesDeleted=new o.a,this.recipes=[]}return n(t,[{key:"GetRecipes",value:function(){return this.recipes.slice(0,c.a.RecipePageSize)}},{key:"GetRecipesLen",value:function(){return this.recipes.length}},{key:"GetRecipeById",value:function(e){return e<this.recipes.length&&e>0?this.recipes[e]:this.recipes[0]}},{key:"GetRecipeId",value:function(e){return this.recipes.indexOf(e)}},{key:"SendToShoppingList",value:function(e){var t=this;e.forEach((function(e){t.ShopList.AddNewItem(e,!0)}))}},{key:"GetShoppingList",value:function(){return this.ShopList.GetIngredients()}},{key:"AddNewRecipe",value:function(e){var t=new s.c(e.Name,e.Description,e.ImagePath,e.Ingredients,e.ImageDbID,e.ID);this.recipes.length<c.a.RecipePageSize&&this.recipes.push(t),this.RecipeChanged.next(t),this.RecipesInserted.next()}},{key:"UpdateExistingRecipe",value:function(e,t){this.recipes[t]=e,this.RecipeChanged.next(e)}},{key:"SetRecipes",value:function(e){this.recipes=e,this.RecipesUpdated.next()}},{key:"DeleteRecipe",value:function(e){this.recipes.splice(e,1),this.RecipesDeleted.next()}},{key:"AddNewIngredient",value:function(e){var t=this.RecipeToEdit.Ingredients.find((function(t){return t.Name===e.Name}));t?t.Amount=t.Amount+e.Amount:this.RecipeToEdit.Ingredients.push(new a.a(e.Name,e.Amount))}},{key:"UpdateSelectedIngredient",value:function(e){var t=this,n=this.RecipeToEdit.Ingredients.find((function(t){return t.Name===e.Name}));if(n&&n!==this.CurrentSelectedItem)n.Name=e.Name,n.Amount=n.Amount+e.Amount,this.DeleteSelectedIngredient();else{var i=this.RecipeToEdit.Ingredients.find((function(e){return e===t.CurrentSelectedItem}));i&&(i.Name=e.Name,i.Amount=e.Amount)}this.CurrentSelectedItem=null,this.IngredientSelected.next(this.CurrentSelectedItem)}},{key:"DeleteSelectedIngredient",value:function(){var e=this.RecipeToEdit.Ingredients.indexOf(this.CurrentSelectedItem);-1!==e&&this.RecipeToEdit.Ingredients.splice(e,1),this.CurrentSelectedItem=null}},{key:"ClearAllIngredients",value:function(){this.RecipeToEdit.Ingredients=[],this.CurrentSelectedItem=null}},{key:"GetIngredientsLength",value:function(){return this.RecipeToEdit.Ingredients.length}},{key:"IngredientSelect",value:function(e){this.CurrentSelectedItem=e,this.IngredientSelected.next(e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.Xb(d.a))},t.\u0275prov=u.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},dxYa:function(t,i,r){"use strict";r.d(i,"a",(function(){return c}));var s=r("fXoL"),a=r("qXBG"),o=r("tyNb"),c=function(){var t=function(){function t(n,i){e(this,t),this.auth=n,this.router=i}return n(t,[{key:"canActivate",value:function(e,t){return e.data.expectedRole===this.auth.GetUserRole()||this.router.createUrlTree(["/"])}}]),t}();return t.\u0275fac=function(e){return new(e||t)(s.Xb(a.a),s.Xb(o.c))},t.\u0275prov=s.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},l3fW:function(t,i,r){"use strict";r.d(i,"a",(function(){return u}));var s=r("Y93L"),a=r("XNiG"),o=r("AytR"),c=r("fXoL"),u=function(){var t=function(){function t(){e(this,t),this.UserSelected=new a.a,this.UsersUpdated=new a.a,this.UsersInserted=new a.a,this.UsersDeleted=new a.a,this.UsersChanged=new a.a,this.Users=[]}return n(t,[{key:"GetUsers",value:function(){return this.Users.slice()}},{key:"SetUsers",value:function(e){this.Users=e,this.UsersUpdated.next()}},{key:"SetPagination",value:function(e,t,n){this.Total=e}},{key:"SelectItemUsersList",value:function(e){this.CurrentSelectedItem=e,this.UserSelected.next(e)}},{key:"IsCurrentSelected",value:function(e){return this.CurrentSelectedItem===e}},{key:"GetUserById",value:function(e){return e<this.Users.length&&e>0?this.Users[e]:this.Users[0]}},{key:"UpdateExistingUser",value:function(e,t){this.Users[t]=e,this.UsersChanged.next(e)}},{key:"AddNewUser",value:function(e){var t=new s.a(e.Role,e.Email,e.Phone,e.Name);this.Users.length<o.a.AdminUserListPageSize&&this.Users.push(t),this.UsersChanged.next(t),this.UsersInserted.next()}},{key:"DeleteUser",value:function(e){this.Users.splice(e,1),this.UsersDeleted.next()}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=c.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},ozzT:function(t,i,r){"use strict";r.d(i,"a",(function(){return u}));var s=r("EiSp"),a=r("XNiG"),o=r("AytR"),c=r("fXoL"),u=function(){var t=function(){function t(){e(this,t),this.IngredientSelected=new a.a,this.IngredientChanged=new a.a,this.IngredientsUpdated=new a.a,this.IngredientAdded=new a.a,this.IngredientUpdated=new a.a,this.IngredientDeleted=new a.a,this.IngredientClear=new a.a,this.ingredients=[]}return n(t,[{key:"GetIngredients",value:function(){return this.ingredients.slice()}},{key:"GetIngredientsLength",value:function(){return this.ingredients.length}},{key:"SetIngredients",value:function(e){this.ingredients=e,this.IngredientsUpdated.next()}},{key:"SetPagination",value:function(e,t,n){this.Total=e}},{key:"AddNewItem",value:function(e,t){var n=this.ingredients.find((function(t){return t.Name===e.Name}));n?n.Amount=n.Amount+e.Amount:(n=e,(this.ingredients.length<o.a.ShoppingListPageSize||t)&&this.ingredients.push(new s.a(e.Name,e.Amount))),this.IngredientAdded.next(n),this.IngredientChanged.next(this.ingredients.slice())}},{key:"UpdateSelectedItem",value:function(e){var t=this.ingredients.find((function(t){return t.Name===e.Name}));if(t&&t!==this.CurrentSelectedItem)t.Name=e.Name,t.Amount=t.Amount+e.Amount,this.DeleteSelectedItem();else{var n=this.ingredients.indexOf(this.CurrentSelectedItem);-1!==n&&(this.ingredients[n]=e,this.IngredientChanged.next(this.ingredients.slice())),t=this.CurrentSelectedItem}this.IngredientUpdated.next(t),this.CurrentSelectedItem=null}},{key:"DeleteSelectedItem",value:function(){var e=this.ingredients.indexOf(this.CurrentSelectedItem);-1!==e&&this.ingredients.splice(e,1),this.IngredientDeleted.next(this.CurrentSelectedItem),this.IngredientChanged.next(this.ingredients.slice()),this.CurrentSelectedItem=null}},{key:"ClearAll",value:function(){this.ingredients=[],this.CurrentSelectedItem=null,this.IngredientChanged.next(this.ingredients.slice()),this.SetPagination(0,0,0),this.IngredientClear.next()}},{key:"SelectItemShopList",value:function(e){this.CurrentSelectedItem=e,this.IngredientSelected.next(e)}},{key:"IsCurrentSelected",value:function(e){return this.CurrentSelectedItem===e}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=c.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},qc5x:function(t,n,i){"use strict";i.d(n,"c",(function(){return r})),i.d(n,"a",(function(){return s})),i.d(n,"b",(function(){return o}));var r=function t(n,i,r,s,a,o){e(this,t),this.Name=n,this.Description=i,this.ImagePath=r,this.Ingredients=s,this.ImageDbID=a,this.ID=o},s=function t(n,i){e(this,t),this.Error=new a(n,i)},a=function t(n,i){e(this,t),this.Code=n,this.Message=i},o=function t(n,i,r){e(this,t),this.Total=n,this.Limit=i,this.Offset=r}}}])}();