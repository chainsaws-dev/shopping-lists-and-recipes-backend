function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{CXQP:function(e,t,n){"use strict";n.r(t),n.d(t,"ShoppingListModule",(function(){return I}));var i=n("ofXK"),o=n("AytR"),r=n("fXoL"),a=n("ozzT"),c=n("tyNb"),s=n("GXvH"),u=n("EiSp"),l=n("3Pt+"),b=["f"];function d(e,t){if(1&e){var n=r.Qb();r.Pb(0,"button",14),r.ac("click",(function(){return r.pc(n),r.cc().DeleteSelectedItem()})),r.yc(1,"Delete"),r.Ob()}}function p(e,t){if(1&e){var n=r.Qb();r.Pb(0,"button",15),r.ac("click",(function(){return r.pc(n),r.cc().ClearAllItems()})),r.yc(1,"Clear"),r.Ob()}}var g,h=((g=function(){function e(t){_classCallCheck(this,e),this.ShopListServ=t,this.editmode=!1}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.ingselected=this.ShopListServ.IngredientSelected.subscribe((function(t){e.selectedingredient=t,e.editmode=!0,e.slEditForm.setValue({name:e.selectedingredient.Name,amount:e.selectedingredient.Amount})}))}},{key:"ngOnDestroy",value:function(){this.ingselected.unsubscribe()}},{key:"AddNewItem",value:function(e){if(e.valid){var t=e.value;this.ShopListServ.AddNewItem(new u.a(t.name,parseInt(t.amount,10)))}}},{key:"UpdateItem",value:function(e){if(e.valid){var t=e.value;this.ShopListServ.UpdateSelectedItem(new u.a(t.name,parseInt(t.amount,10))),this.editmode=!1,this.slEditForm.reset()}}},{key:"DeleteSelectedItem",value:function(){this.ShopListServ.DeleteSelectedItem()}},{key:"ClearAllItems",value:function(){this.ShopListServ.ClearAll()}}]),e}()).\u0275fac=function(e){return new(e||g)(r.Kb(a.a))},g.\u0275cmp=r.Eb({type:g,selectors:[["app-shopping-edit"]],viewQuery:function(e,t){var n;1&e&&r.Cc(b,!0),2&e&&r.nc(n=r.bc())&&(t.slEditForm=n.first)},decls:18,vars:4,consts:[[1,"row"],[1,"col"],[3,"ngSubmit"],["f","ngForm"],[1,"input-group","mt-3"],[1,"col-sm-9","form-group"],["type","text","id","name","placeholder","Name","name","name","ngModel","","required","",1,"form-control"],[1,"col","form-group"],["type","number","id","amount","placeholder","Amount","name","amount","ngModel","","required","","pattern","^[1-9]+[0-9]*$",1,"form-control"],[1,"input-group"],[1,"input-group-prepend"],["type","submit",1,"btn","btn-outline-primary",3,"disabled"],["class","btn btn-outline-danger","type","button",3,"click",4,"ngIf"],["class","btn btn-outline-secondary","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","btn-outline-danger",3,"click"],["type","button",1,"btn","btn-outline-secondary",3,"click"]],template:function(e,t){if(1&e){var n=r.Qb();r.Pb(0,"div",0),r.Pb(1,"div",1),r.Pb(2,"form",2,3),r.ac("ngSubmit",(function(){r.pc(n);var e=r.oc(3);return t.editmode?t.UpdateItem(e):t.AddNewItem(e)})),r.Pb(4,"div",0),r.Pb(5,"div",4),r.Pb(6,"div",5),r.Lb(7,"input",6),r.Ob(),r.Pb(8,"div",7),r.Lb(9,"input",8),r.Ob(),r.Ob(),r.Ob(),r.Pb(10,"div",0),r.Pb(11,"div",1),r.Pb(12,"div",9),r.Pb(13,"div",10),r.Pb(14,"button",11),r.yc(15),r.Ob(),r.wc(16,d,2,0,"button",12),r.wc(17,p,2,0,"button",13),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob()}if(2&e){var i=r.oc(3);r.xb(14),r.hc("disabled",i.invalid),r.xb(1),r.zc(t.editmode?"Update":"Add"),r.xb(1),r.hc("ngIf",t.ShopListServ.CurrentSelectedItem),r.xb(1),r.hc("ngIf",0!==t.ShopListServ.GetIngredientsLength())}},directives:[l.p,l.h,l.i,l.a,l.g,l.j,l.n,l.l,l.m,i.l],styles:["input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:#ff0a1d!important;box-shadow:none!important}input.ng-invalid.ng-touched[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem rgba(255,10,29,.25)!important}input.ng-valid.ng-touched[_ngcontent-%COMP%]{border-color:#67c07b!important;box-shadow:none!important}input.ng-valid.ng-touched[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem rgba(52,179,13,.25)!important}"]}),g),f=n("1kSV");function v(e,t){if(1&e){var n=r.Qb();r.Pb(0,"a",8),r.ac("click",(function(){r.pc(n);var e=t.$implicit;return r.cc(2).ShopListServ.SelectItemShopList(e)})),r.yc(1),r.Pb(2,"span",9),r.yc(3),r.Ob(),r.Ob()}if(2&e){var i=t.$implicit,o=r.cc(2);r.hc("ngClass",o.ShopListServ.IsCurrentSelected(i)?"active":""),r.xb(1),r.Ac("",i.Name," "),r.xb(2),r.zc(i.Amount)}}function m(e,t){if(1&e){var n=r.Qb();r.Pb(0,"div",3),r.Pb(1,"div",4),r.Lb(2,"app-shopping-edit"),r.Lb(3,"hr"),r.Pb(4,"ul",5),r.wc(5,v,4,3,"a",6),r.Ob(),r.Pb(6,"ngb-pagination",7),r.ac("pageChange",(function(e){return r.pc(n),r.cc().CurrentPage=e}))("pageChange",(function(e){return r.pc(n),r.cc().OnPageChanged(e)})),r.Ob(),r.Ob(),r.Ob()}if(2&e){var i=r.cc();r.xb(5),r.hc("ngForOf",i.ingredients),r.xb(1),r.hc("collectionSize",i.collectionSize)("pageSize",i.PageSize)("page",i.CurrentPage)("rotate",!0)("boundaryLinks",!0)("maxSize",11)}}function S(e,t){1&e&&(r.Pb(0,"div",10),r.Pb(1,"span",11),r.yc(2,"Loading..."),r.Ob(),r.Ob())}var P,y,C=[{path:"",redirectTo:"1",pathMatch:"full"},{path:":pn",component:(P=function(){function e(t,n,i,o){_classCallCheck(this,e),this.ShopListServ=t,this.activeroute=n,this.DataServ=i,this.router=o}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.IngChanged.unsubscribe(),this.PageChanged.unsubscribe(),this.FetchOnInint.unsubscribe(),this.DataLoading.unsubscribe()}},{key:"ngOnInit",value:function(){var e=this;this.PageSize=o.a.ShoppingListPageSize,this.IngChanged=this.ShopListServ.IngredientChanged.subscribe((function(t){e.ingredients=t})),this.PageChanged=this.activeroute.params.subscribe((function(t){e.CurrentPage=+t.pn})),this.DataLoading=this.DataServ.LoadingData.subscribe((function(t){e.IsLoading=t})),this.FetchOnInint=this.DataServ.FetchShoppingList(this.CurrentPage,o.a.RecipePageSize).subscribe((function(){e.ingredients=e.ShopListServ.GetIngredients(),e.collectionSize=e.ShopListServ.Total}))}},{key:"OnPageChanged",value:function(e){var t=this;this.CurrentPage=e,this.FetchOnInint=this.DataServ.FetchShoppingList(e,o.a.RecipePageSize).subscribe((function(){t.ingredients=t.ShopListServ.GetIngredients(),t.collectionSize=t.ShopListServ.Total,t.router.navigate(["../",e.toString()],{relativeTo:t.activeroute})}))}}]),e}(),P.\u0275fac=function(e){return new(e||P)(r.Kb(a.a),r.Kb(c.a),r.Kb(s.a),r.Kb(c.c))},P.\u0275cmp=r.Eb({type:P,selectors:[["app-shopping-list"]],decls:3,vars:2,consts:[["class","row",4,"ngIf"],[1,"text-center"],["class","spinner-border","role","status",4,"ngIf"],[1,"row"],[1,"col"],[1,"list-group"],["style","cursor: pointer;","class","list-group-item list-group-item-action d-flex justify-content-between align-items-center",3,"ngClass","click",4,"ngFor","ngForOf"],[3,"collectionSize","pageSize","page","rotate","boundaryLinks","maxSize","pageChange"],[1,"list-group-item","list-group-item-action","d-flex","justify-content-between","align-items-center",2,"cursor","pointer",3,"ngClass","click"],[1,"badge","badge-success","badge-pill"],["role","status",1,"spinner-border"],[1,"sr-only"]],template:function(e,t){1&e&&(r.wc(0,m,7,7,"div",0),r.Pb(1,"div",1),r.wc(2,S,3,0,"div",2),r.Ob()),2&e&&(r.hc("ngIf",!t.IsLoading),r.xb(2),r.hc("ngIf",t.IsLoading))},directives:[i.l,h,i.k,f.i,i.j],styles:[""]}),P)}],I=((y=function e(){_classCallCheck(this,e)}).\u0275mod=r.Ib({type:y}),y.\u0275inj=r.Hb({factory:function(e){return new(e||y)},imports:[[i.b,l.c,f.b,f.j,c.g.forChild(C)]]}),y)}}]);