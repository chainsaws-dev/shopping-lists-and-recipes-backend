(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{CXQP:function(e,t,i){"use strict";i.r(t),i.d(t,"ShoppingListModule",(function(){return L}));var n=i("ofXK"),s=i("AytR"),r=i("fXoL"),a=i("ozzT"),o=i("tyNb"),c=i("GXvH"),h=i("EiSp"),d=i("3Pt+");const l=["f"];function g(e,t){if(1&e){const e=r.Qb();r.Pb(0,"button",14),r.ac("click",(function(){return r.oc(e),r.cc().DeleteSelectedItem()})),r.xc(1,"Delete"),r.Ob()}}function p(e,t){if(1&e){const e=r.Qb();r.Pb(0,"button",15),r.ac("click",(function(){return r.oc(e),r.cc().ClearAllItems()})),r.xc(1,"Clear"),r.Ob()}}let u=(()=>{class e{constructor(e,t){this.ShopListServ=e,this.DataServ=t,this.editmode=!1}ngOnInit(){this.ingselected=this.ShopListServ.IngredientSelected.subscribe(e=>{this.selectedingredient=e,this.editmode=!0,this.slEditForm.setValue({name:this.selectedingredient.Name,amount:this.selectedingredient.Amount})}),this.IngAdd=this.ShopListServ.IngredientAdded.subscribe(e=>{this.DataServ.SaveShoppingList(e)}),this.IngUpd=this.ShopListServ.IngredientUpdated.subscribe(e=>{this.DataServ.SaveShoppingList(e)}),this.IngDel=this.ShopListServ.IngredientDeleted.subscribe(e=>{this.DataServ.DeleteShoppingList(e)}),this.IngCle=this.ShopListServ.IngredientClear.subscribe(()=>{this.DataServ.DeleteAllShoppingList()})}ngOnDestroy(){this.ingselected.unsubscribe(),this.IngAdd.unsubscribe(),this.IngUpd.unsubscribe(),this.IngDel.unsubscribe(),this.IngCle.unsubscribe()}AddNewItem(e){if(e.valid){const t=e.value;this.ShopListServ.AddNewItem(new h.a(t.name,parseInt(t.amount,10)),!1)}}UpdateItem(e){if(e.valid){const t=e.value;this.ShopListServ.UpdateSelectedItem(new h.a(t.name,parseInt(t.amount,10))),this.editmode=!1,this.slEditForm.reset()}}DeleteSelectedItem(){this.ShopListServ.DeleteSelectedItem()}ClearAllItems(){this.ShopListServ.ClearAll()}}return e.\u0275fac=function(t){return new(t||e)(r.Kb(a.a),r.Kb(c.a))},e.\u0275cmp=r.Eb({type:e,selectors:[["app-shopping-edit"]],viewQuery:function(e,t){var i;1&e&&r.Bc(l,!0),2&e&&r.mc(i=r.bc())&&(t.slEditForm=i.first)},decls:18,vars:4,consts:[[1,"row"],[1,"col"],[3,"ngSubmit"],["f","ngForm"],[1,"input-group","mt-3"],[1,"col-sm-9","form-group"],["type","text","id","name","placeholder","Name","name","name","ngModel","","required","",1,"form-control"],[1,"col","form-group"],["type","number","id","amount","placeholder","Amount","name","amount","ngModel","","required","","pattern","^[1-9]+[0-9]*$",1,"form-control"],[1,"input-group"],[1,"input-group-prepend"],["type","submit",1,"btn","btn-outline-primary",3,"disabled"],["class","btn btn-outline-danger","type","button",3,"click",4,"ngIf"],["class","btn btn-outline-secondary","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","btn-outline-danger",3,"click"],["type","button",1,"btn","btn-outline-secondary",3,"click"]],template:function(e,t){if(1&e){const e=r.Qb();r.Pb(0,"div",0),r.Pb(1,"div",1),r.Pb(2,"form",2,3),r.ac("ngSubmit",(function(){r.oc(e);const i=r.nc(3);return t.editmode?t.UpdateItem(i):t.AddNewItem(i)})),r.Pb(4,"div",0),r.Pb(5,"div",4),r.Pb(6,"div",5),r.Lb(7,"input",6),r.Ob(),r.Pb(8,"div",7),r.Lb(9,"input",8),r.Ob(),r.Ob(),r.Ob(),r.Pb(10,"div",0),r.Pb(11,"div",1),r.Pb(12,"div",9),r.Pb(13,"div",10),r.Pb(14,"button",11),r.xc(15),r.Ob(),r.vc(16,g,2,0,"button",12),r.vc(17,p,2,0,"button",13),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob()}if(2&e){const e=r.nc(3);r.xb(14),r.fc("disabled",e.invalid),r.xb(1),r.yc(t.editmode?"Update":"Add"),r.xb(1),r.fc("ngIf",t.ShopListServ.CurrentSelectedItem),r.xb(1),r.fc("ngIf",0!==t.ShopListServ.GetIngredientsLength())}},directives:[d.r,d.i,d.j,d.b,d.h,d.k,d.o,d.m,d.n,n.k],styles:["input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:#ff0a1d!important;box-shadow:none!important}input.ng-invalid.ng-touched[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem rgba(255,10,29,.25)!important}input.ng-valid.ng-touched[_ngcontent-%COMP%]{border-color:#67c07b!important;box-shadow:none!important}input.ng-valid.ng-touched[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem rgba(52,179,13,.25)!important}"]}),e})();var b=i("1kSV");function S(e,t){if(1&e){const e=r.Qb();r.Pb(0,"ngb-alert",9),r.ac("close",(function(){return r.oc(e),r.cc(2).ShowMessage=!1})),r.xc(1),r.Ob()}if(2&e){const e=r.cc(2);r.fc("type",e.MessageType),r.xb(1),r.yc(e.ResponseFromBackend.Error.Message)}}function m(e,t){if(1&e){const e=r.Qb();r.Pb(0,"a",10),r.ac("click",(function(){r.oc(e);const i=t.$implicit;return r.cc(2).ShopListServ.SelectItemShopList(i)})),r.xc(1),r.Pb(2,"span",11),r.xc(3),r.Ob(),r.Ob()}if(2&e){const e=t.$implicit,i=r.cc(2);r.fc("ngClass",i.ShopListServ.IsCurrentSelected(e)?"active":""),r.xb(1),r.zc("",e.Name," "),r.xb(2),r.yc(e.Amount)}}function I(e,t){if(1&e){const e=r.Qb();r.Pb(0,"ngb-pagination",12),r.ac("pageChange",(function(t){return r.oc(e),r.cc(2).OnPageChanged(t)})),r.Ob()}if(2&e){const e=r.cc(2);r.fc("collectionSize",e.slcollectionSize)("pageSize",e.slPageSize)("page",e.slCurrentPage)("rotate",!0)("boundaryLinks",!0)("maxSize",11)}}function f(e,t){if(1&e&&(r.Pb(0,"div",3),r.Pb(1,"div",4),r.Lb(2,"app-shopping-edit"),r.Lb(3,"hr"),r.vc(4,S,2,2,"ngb-alert",5),r.Pb(5,"ul",6),r.vc(6,m,4,3,"a",7),r.Ob(),r.vc(7,I,1,6,"ngb-pagination",8),r.Ob(),r.Ob()),2&e){const e=r.cc();r.xb(4),r.fc("ngIf",e.ShowMessage),r.xb(2),r.fc("ngForOf",e.ingredients),r.xb(1),r.fc("ngIf",e.slcollectionSize>e.slPageSize)}}function x(e,t){1&e&&(r.Pb(0,"div",13),r.Pb(1,"span",14),r.xc(2,"Loading..."),r.Ob(),r.Ob())}const v=[{path:"",redirectTo:"1",pathMatch:"full"},{path:":pn",component:(()=>{class e{constructor(e,t,i,n){this.ShopListServ=e,this.activeroute=t,this.DataServ=i,this.router=n}ngOnDestroy(){this.IngChanged.unsubscribe(),this.PageChanged.unsubscribe(),this.FetchOnInint.unsubscribe(),this.DataLoading.unsubscribe(),this.RecivedErrorSub.unsubscribe(),this.WatchIngAdd.unsubscribe(),this.WatchIngDel.unsubscribe(),this.WatchIngCle.unsubscribe()}ngOnInit(){this.slPageSize=s.a.ShoppingListPageSize,this.RecivedErrorSub=this.DataServ.RecivedError.subscribe(e=>{switch(this.ShowMessage=!0,this.ResponseFromBackend=e,setTimeout(()=>this.ShowMessage=!1,5e3),e.Error.Code){case 200:this.MessageType="success";break;default:this.MessageType="danger"}}),this.IngChanged=this.ShopListServ.IngredientChanged.subscribe(e=>{this.ingredients=e}),this.PageChanged=this.activeroute.params.subscribe(e=>{this.slCurrentPage=+e.pn}),this.DataLoading=this.DataServ.LoadingData.subscribe(e=>{this.IsLoading=e}),this.FetchOnInint=this.DataServ.FetchShoppingList(this.slCurrentPage,s.a.ShoppingListPageSize).subscribe(e=>{this.ingredients=this.ShopListServ.GetIngredients(),this.slcollectionSize=this.ShopListServ.Total},e=>{this.ingredients=[]}),this.WatchIngAdd=this.ShopListServ.IngredientAdded.subscribe(e=>{this.slcollectionSize+=1,this.ingredients=this.ShopListServ.GetIngredients()}),this.WatchIngDel=this.ShopListServ.IngredientDeleted.subscribe(e=>{this.slcollectionSize-=1,this.ingredients=this.ShopListServ.GetIngredients(),0===this.ingredients.length&&(this.slCurrentPage=this.GetPreviousPage(this.slCurrentPage),this.ShopListServ.Total=this.slcollectionSize,0!==this.slcollectionSize&&this.OnPageChanged(this.slCurrentPage))}),this.WatchIngCle=this.ShopListServ.IngredientClear.subscribe(()=>{this.slcollectionSize=0,this.ShopListServ.Total=this.slcollectionSize})}GetPreviousPage(e){return e>1?e-1:1}OnPageChanged(e){this.slCurrentPage=e,this.FetchOnInint=this.DataServ.FetchShoppingList(e,s.a.ShoppingListPageSize).subscribe(()=>{this.ingredients=this.ShopListServ.GetIngredients(),this.router.navigate(["../",e.toString()],{relativeTo:this.activeroute})})}}return e.\u0275fac=function(t){return new(t||e)(r.Kb(a.a),r.Kb(o.a),r.Kb(c.a),r.Kb(o.c))},e.\u0275cmp=r.Eb({type:e,selectors:[["app-shopping-list"]],decls:3,vars:2,consts:[["class","row",4,"ngIf"],[1,"text-center"],["class","spinner-border","role","status",4,"ngIf"],[1,"row"],[1,"col"],[3,"type","close",4,"ngIf"],[1,"list-group","mb-1"],["style","cursor: pointer;","class","list-group-item list-group-item-action d-flex justify-content-between align-items-center",3,"ngClass","click",4,"ngFor","ngForOf"],[3,"collectionSize","pageSize","page","rotate","boundaryLinks","maxSize","pageChange",4,"ngIf"],[3,"type","close"],[1,"list-group-item","list-group-item-action","d-flex","justify-content-between","align-items-center",2,"cursor","pointer",3,"ngClass","click"],[1,"badge","badge-success","badge-pill"],[3,"collectionSize","pageSize","page","rotate","boundaryLinks","maxSize","pageChange"],["role","status",1,"spinner-border"],[1,"sr-only"]],template:function(e,t){1&e&&(r.vc(0,f,8,3,"div",0),r.Pb(1,"div",1),r.vc(2,x,3,0,"div",2),r.Ob()),2&e&&(r.fc("ngIf",!t.IsLoading),r.xb(2),r.fc("ngIf",t.IsLoading))},directives:[n.k,u,n.j,b.a,n.i,b.i],styles:[""]}),e})(),canActivate:[i("dxYa").a],data:{expectedRole:"admin_role_CRUD"}}];let L=(()=>{class e{}return e.\u0275mod=r.Ib({type:e}),e.\u0275inj=r.Hb({factory:function(t){return new(t||e)},imports:[[n.b,d.d,b.b,b.j,o.g.forChild(v)]]}),e})()},EiSp:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));class n{constructor(e,t){this.Name=e,this.Amount=t}}},GXvH:function(e,t,i){"use strict";i.d(t,"a",(function(){return p}));var n=i("tk/3"),s=i("qc5x"),r=i("lJxs"),a=i("vkgz"),o=i("AytR"),c=i("XNiG"),h=i("fXoL"),d=i("ceC1"),l=i("ozzT"),g=i("l3fW");let p=(()=>{class e{constructor(e,t,i,n){this.http=e,this.recipes=t,this.shoppinglist=i,this.users=n,this.LoadingData=new c.a,this.RecipesUpdateInsert=new c.a,this.RecivedError=new c.a,this.PaginationSet=new c.a,this.FileUploadProgress=new c.a,this.FileUploaded=new c.a,this.UserUpdateInsert=new c.a}FetchRecipes(e,t){this.LoadingData.next(!0);const i={headers:new n.e({Page:e.toString(),Limit:t.toString(),ApiKey:o.a.ApiKey})};return this.http.get(o.a.GetSetRecipesUrl,i).pipe(Object(r.a)(e=>(e.Recipes=e.Recipes.map(e=>Object.assign(Object.assign({},e),{Ingredients:e.Ingredients?e.Ingredients:[]})),e)),Object(a.a)(e=>{this.recipes.SetRecipes(e.Recipes),this.PaginationSet.next(new s.b(e.Total,e.Limit,e.Offset)),this.LoadingData.next(!1)},e=>{this.RecivedError.next(e.error),this.LoadingData.next(!1)}))}SearchRecipes(e,t,i){this.LoadingData.next(!0);const c={headers:new n.e({Page:e.toString(),Limit:t.toString(),Search:i,ApiKey:o.a.ApiKey})};return this.http.get(o.a.SearchRecipesUrl,c).pipe(Object(r.a)(e=>(e.Recipes=e.Recipes.map(e=>Object.assign(Object.assign({},e),{Ingredients:e.Ingredients?e.Ingredients:[]})),e)),Object(a.a)(e=>{this.recipes.SetRecipes(e.Recipes),this.PaginationSet.next(new s.b(e.Total,e.Limit,e.Offset)),this.LoadingData.next(!1)},e=>{this.RecivedError.next(e.error),this.LoadingData.next(!1)}))}SaveRecipe(e){this.LoadingData.next(!0);const t={headers:new n.e({ApiKey:o.a.ApiKey})};this.http.post(o.a.GetSetRecipesUrl,e,t).subscribe(e=>{this.RecipesUpdateInsert.next(e),this.RecivedError.next(new s.a(200,"\u0414\u0430\u043d\u043d\u044b\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u044b")),this.LoadingData.next(!1)},e=>{this.RecivedError.next(e.error),this.LoadingData.next(!1)})}FileUpload(e){const t=new FormData;t.append("file",e,e.name),this.http.post(o.a.UploadFileUrl,t,{headers:new n.e({ApiKey:o.a.ApiKey}),reportProgress:!0,observe:"events"}).subscribe(e=>{e.type===n.d.UploadProgress?this.FileUploadProgress.next(String(e.loaded/e.total*100)):e.type===n.d.Response&&e.ok&&this.FileUploaded.next(e.body)},e=>{this.RecivedError.next(e.error),this.LoadingData.next(!1)})}DeleteFile(e,t){this.LoadingData.next(!0);const i={headers:new n.e({FileID:e.toString(),ApiKey:o.a.ApiKey})};this.http.delete(o.a.UploadFileUrl,i).subscribe(e=>{t||this.RecivedError.next(e),this.LoadingData.next(!1)},e=>{this.RecivedError.next(e.error),this.LoadingData.next(!1)})}DeleteRecipe(e){this.LoadingData.next(!0);const t={headers:new n.e({RecipeID:e.ID.toString(),ApiKey:o.a.ApiKey})};this.http.delete(o.a.GetSetRecipesUrl,t).subscribe(t=>{this.RecivedError.next(t),this.LoadingData.next(!1),this.DeleteFile(e.ImageDbID,!0)},e=>{this.RecivedError.next(e.error),this.LoadingData.next(!1)})}FetchShoppingList(e,t){this.LoadingData.next(!0);const i={headers:new n.e({Page:e.toString(),Limit:t.toString(),ApiKey:o.a.ApiKey})};return this.http.get(o.a.GetSetShoppingListUrl,i).pipe(Object(a.a)(e=>{this.shoppinglist.SetIngredients(e.Items),this.shoppinglist.SetPagination(e.Total,e.Limit,e.Offset),this.LoadingData.next(!1)},e=>{this.RecivedError.next(e.error),this.LoadingData.next(!1)}))}SaveShoppingList(e){this.LoadingData.next(!0);const t={headers:new n.e({ApiKey:o.a.ApiKey})};this.http.post(o.a.GetSetShoppingListUrl,e,t).subscribe(e=>{this.RecipesUpdateInsert.next(e),this.RecivedError.next(new s.a(200,"\u0414\u0430\u043d\u043d\u044b\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u044b")),this.LoadingData.next(!1)},e=>{this.RecivedError.next(e.error),this.LoadingData.next(!1)})}DeleteShoppingList(e){this.LoadingData.next(!0);const t={headers:new n.e({IngName:encodeURI(e.Name),ApiKey:o.a.ApiKey})};this.http.delete(o.a.GetSetShoppingListUrl,t).subscribe(e=>{this.RecivedError.next(e),this.LoadingData.next(!1)},e=>{this.RecivedError.next(e.error),this.LoadingData.next(!1)})}DeleteAllShoppingList(){const e={headers:new n.e({ApiKey:o.a.ApiKey})};this.http.delete(o.a.GetSetShoppingListUrl,e).subscribe(e=>{this.RecivedError.next(e),this.LoadingData.next(!1)},e=>{this.RecivedError.next(e.error),this.LoadingData.next(!1)})}FetchUsersList(e,t){this.LoadingData.next(!0);const i={headers:new n.e({Page:e.toString(),Limit:t.toString(),ApiKey:o.a.ApiKey})};return this.http.get(o.a.GetSetUsersUrl,i).pipe(Object(a.a)(e=>{this.users.SetUsers(e.Users),this.users.SetPagination(e.Total,e.Limit,e.Offset),this.LoadingData.next(!1)},e=>{this.RecivedError.next(e.error),this.LoadingData.next(!1)}))}SaveUser(e,t,i){this.LoadingData.next(!0),0===e.GUID.length&&(e.GUID="00000000-0000-0000-0000-000000000000"),this.GetObsForSaveUser(e,t,i).subscribe(e=>{this.UserUpdateInsert.next(e),this.RecivedError.next(new s.a(200,"\u0414\u0430\u043d\u043d\u044b\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u044b")),this.LoadingData.next(!1)},e=>{this.RecivedError.next(e.error),this.LoadingData.next(!1)})}GetObsForSaveUser(e,t,i){if(t){const t={headers:new n.e({NewPassword:btoa(encodeURI(i)),ApiKey:o.a.ApiKey})};return this.http.post(o.a.GetSetUsersUrl,e,t)}{const t={headers:new n.e({ApiKey:o.a.ApiKey})};return this.http.post(o.a.GetSetUsersUrl,e,t)}}DeleteUser(e){this.LoadingData.next(!0);const t={headers:new n.e({UserID:btoa(encodeURI(e.GUID)),ApiKey:o.a.ApiKey})};this.http.delete(o.a.GetSetUsersUrl,t).subscribe(e=>{this.RecivedError.next(e),this.LoadingData.next(!1)},e=>{this.RecivedError.next(e.error),this.LoadingData.next(!1)})}ConfirmEmail(e){this.LoadingData.next(!0);const t={headers:new n.e({Token:e,ApiKey:o.a.ApiKey})};this.http.post(o.a.ConfirmEmailUrl,null,t).subscribe(e=>{this.RecivedError.next(e),this.LoadingData.next(!1)},e=>{this.RecivedError.next(e.error),this.LoadingData.next(!1)})}SendEmailConfirmEmail(e){this.LoadingData.next(!0);const t={headers:new n.e({Email:e,ApiKey:o.a.ApiKey})};this.http.post(o.a.ResendEmailUrl,null,t).subscribe(e=>{this.RecivedError.next(e),this.LoadingData.next(!1)},e=>{this.RecivedError.next(e.error),this.LoadingData.next(!1)})}SendEmailResetPassword(e){this.LoadingData.next(!0);const t={headers:new n.e({Email:e,ApiKey:o.a.ApiKey})};this.http.post(o.a.SendEmailResetPassUrl,null,t).subscribe(e=>{this.RecivedError.next(e),this.LoadingData.next(!1)},e=>{this.RecivedError.next(e.error),this.LoadingData.next(!1)})}SubmitNewPassword(e,t){this.LoadingData.next(!0);const i={headers:new n.e({Token:e,NewPassword:btoa(encodeURI(t)),ApiKey:o.a.ApiKey})};this.http.post(o.a.ResetPasswordUrl,null,i).subscribe(e=>{this.RecivedError.next(e),this.LoadingData.next(!1)},e=>{this.RecivedError.next(e.error),this.LoadingData.next(!1)})}}return e.\u0275fac=function(t){return new(t||e)(h.Xb(n.b),h.Xb(d.a),h.Xb(l.a),h.Xb(g.a))},e.\u0275prov=h.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},Y93L:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));class n{constructor(e,t,i,n){this.GUID="",this.Role=e,this.Email=t,this.Phone=i,this.Name=n,this.IsAdmin=!1,this.Confirmed=!1}}},ceC1:function(e,t,i){"use strict";i.d(t,"a",(function(){return h}));var n=i("qc5x"),s=i("EiSp"),r=i("XNiG"),a=i("AytR"),o=i("fXoL"),c=i("ozzT");let h=(()=>{class e{constructor(e){this.ShopList=e,this.IngredientSelected=new r.a,this.RecipeChanged=new r.a,this.RecipesUpdated=new r.a,this.RecipesInserted=new r.a,this.RecipesDeleted=new r.a,this.recipes=[]}GetRecipes(){return this.recipes.slice(0,a.a.RecipePageSize)}GetRecipesLen(){return this.recipes.length}GetRecipeById(e){return e<this.recipes.length&&e>0?this.recipes[e]:this.recipes[0]}GetRecipeId(e){return this.recipes.indexOf(e)}SendToShoppingList(e){e.forEach(e=>{this.ShopList.AddNewItem(e,!0)})}GetShoppingList(){return this.ShopList.GetIngredients()}AddNewRecipe(e){const t=new n.c(e.Name,e.Description,e.ImagePath,e.Ingredients,e.ImageDbID,e.ID);this.recipes.length<a.a.RecipePageSize&&this.recipes.push(t),this.RecipeChanged.next(t),this.RecipesInserted.next()}UpdateExistingRecipe(e,t){this.recipes[t]=e,this.RecipeChanged.next(e)}SetRecipes(e){this.recipes=e,this.RecipesUpdated.next()}DeleteRecipe(e){this.recipes.splice(e,1),this.RecipesDeleted.next()}AddNewIngredient(e){const t=this.RecipeToEdit.Ingredients.find(t=>t.Name===e.Name);t?t.Amount=t.Amount+e.Amount:this.RecipeToEdit.Ingredients.push(new s.a(e.Name,e.Amount))}UpdateSelectedIngredient(e){const t=this.RecipeToEdit.Ingredients.find(t=>t.Name===e.Name);if(t&&t!==this.CurrentSelectedItem)t.Name=e.Name,t.Amount=t.Amount+e.Amount,this.DeleteSelectedIngredient();else{const t=this.RecipeToEdit.Ingredients.find(e=>e===this.CurrentSelectedItem);t&&(t.Name=e.Name,t.Amount=e.Amount)}this.CurrentSelectedItem=null,this.IngredientSelected.next(this.CurrentSelectedItem)}DeleteSelectedIngredient(){const e=this.RecipeToEdit.Ingredients.indexOf(this.CurrentSelectedItem);-1!==e&&this.RecipeToEdit.Ingredients.splice(e,1),this.CurrentSelectedItem=null}ClearAllIngredients(){this.RecipeToEdit.Ingredients=[],this.CurrentSelectedItem=null}GetIngredientsLength(){return this.RecipeToEdit.Ingredients.length}IngredientSelect(e){this.CurrentSelectedItem=e,this.IngredientSelected.next(e)}}return e.\u0275fac=function(t){return new(t||e)(o.Xb(c.a))},e.\u0275prov=o.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},dxYa:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("fXoL"),s=i("qXBG"),r=i("tyNb");let a=(()=>{class e{constructor(e,t){this.auth=e,this.router=t}canActivate(e,t){return e.data.expectedRole===this.auth.GetUserRole()||this.router.createUrlTree(["/"])}}return e.\u0275fac=function(t){return new(t||e)(n.Xb(s.a),n.Xb(r.c))},e.\u0275prov=n.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},l3fW:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("Y93L"),s=i("XNiG"),r=i("AytR"),a=i("fXoL");let o=(()=>{class e{constructor(){this.UserSelected=new s.a,this.UsersUpdated=new s.a,this.UsersInserted=new s.a,this.UsersDeleted=new s.a,this.UsersChanged=new s.a,this.Users=[]}GetUsers(){return this.Users.slice()}SetUsers(e){this.Users=e,this.UsersUpdated.next()}SetPagination(e,t,i){this.Total=e}SelectItemUsersList(e){this.CurrentSelectedItem=e,this.UserSelected.next(e)}IsCurrentSelected(e){return this.CurrentSelectedItem===e}GetUserById(e){return e<this.Users.length&&e>0?this.Users[e]:this.Users[0]}UpdateExistingUser(e,t){this.Users[t]=e,this.UsersChanged.next(e)}AddNewUser(e){const t=new n.a(e.Role,e.Email,e.Phone,e.Name);this.Users.length<r.a.AdminUserListPageSize&&this.Users.push(t),this.UsersChanged.next(t),this.UsersInserted.next()}DeleteUser(e){this.Users.splice(e,1),this.UsersDeleted.next()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=a.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},ozzT:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("EiSp"),s=i("XNiG"),r=i("AytR"),a=i("fXoL");let o=(()=>{class e{constructor(){this.IngredientSelected=new s.a,this.IngredientChanged=new s.a,this.IngredientsUpdated=new s.a,this.IngredientAdded=new s.a,this.IngredientUpdated=new s.a,this.IngredientDeleted=new s.a,this.IngredientClear=new s.a,this.ingredients=[]}GetIngredients(){return this.ingredients.slice()}GetIngredientsLength(){return this.ingredients.length}SetIngredients(e){this.ingredients=e,this.IngredientsUpdated.next()}SetPagination(e,t,i){this.Total=e}AddNewItem(e,t){let i=this.ingredients.find(t=>t.Name===e.Name);i?i.Amount=i.Amount+e.Amount:(i=e,(this.ingredients.length<r.a.ShoppingListPageSize||t)&&this.ingredients.push(new n.a(e.Name,e.Amount))),this.IngredientAdded.next(i),this.IngredientChanged.next(this.ingredients.slice())}UpdateSelectedItem(e){let t=this.ingredients.find(t=>t.Name===e.Name);if(t&&t!==this.CurrentSelectedItem)t.Name=e.Name,t.Amount=t.Amount+e.Amount,this.DeleteSelectedItem();else{const i=this.ingredients.indexOf(this.CurrentSelectedItem);-1!==i&&(this.ingredients[i]=e,this.IngredientChanged.next(this.ingredients.slice())),t=this.CurrentSelectedItem}this.IngredientUpdated.next(t),this.CurrentSelectedItem=null}DeleteSelectedItem(){const e=this.ingredients.indexOf(this.CurrentSelectedItem);-1!==e&&this.ingredients.splice(e,1),this.IngredientDeleted.next(this.CurrentSelectedItem),this.IngredientChanged.next(this.ingredients.slice()),this.CurrentSelectedItem=null}ClearAll(){this.ingredients=[],this.CurrentSelectedItem=null,this.IngredientChanged.next(this.ingredients.slice()),this.SetPagination(0,0,0),this.IngredientClear.next()}SelectItemShopList(e){this.CurrentSelectedItem=e,this.IngredientSelected.next(e)}IsCurrentSelected(e){return this.CurrentSelectedItem===e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=a.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},qc5x:function(e,t,i){"use strict";i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){return s})),i.d(t,"b",(function(){return a}));class n{constructor(e,t,i,n,s,r){this.Name=e,this.Description=t,this.ImagePath=i,this.Ingredients=n,this.ImageDbID=s,this.ID=r}}class s{constructor(e,t){this.Error=new r(e,t)}}class r{constructor(e,t){this.Code=e,this.Message=t}}class a{constructor(e,t,i){this.Total=e,this.Limit=t,this.Offset=i}}}}]);