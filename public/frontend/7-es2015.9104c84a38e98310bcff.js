(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{CXQP:function(t,e,n){"use strict";n.r(e),n.d(e,"ShoppingListModule",(function(){return P}));var i=n("ofXK"),s=n("AytR"),o=n("fXoL"),c=n("ozzT"),r=n("tyNb"),a=n("GXvH"),b=n("EiSp"),d=n("3Pt+");const u=["f"];function l(t,e){if(1&t){const t=o.Qb();o.Pb(0,"button",14),o.ac("click",(function(){return o.pc(t),o.cc().DeleteSelectedItem()})),o.yc(1,"Delete"),o.Ob()}}function p(t,e){if(1&t){const t=o.Qb();o.Pb(0,"button",15),o.ac("click",(function(){return o.pc(t),o.cc().ClearAllItems()})),o.yc(1,"Clear"),o.Ob()}}let g=(()=>{class t{constructor(t){this.ShopListServ=t,this.editmode=!1}ngOnInit(){this.ingselected=this.ShopListServ.IngredientSelected.subscribe(t=>{this.selectedingredient=t,this.editmode=!0,this.slEditForm.setValue({name:this.selectedingredient.Name,amount:this.selectedingredient.Amount})})}ngOnDestroy(){this.ingselected.unsubscribe()}AddNewItem(t){if(t.valid){const e=t.value;this.ShopListServ.AddNewItem(new b.a(e.name,parseInt(e.amount,10)))}}UpdateItem(t){if(t.valid){const e=t.value;this.ShopListServ.UpdateSelectedItem(new b.a(e.name,parseInt(e.amount,10))),this.editmode=!1,this.slEditForm.reset()}}DeleteSelectedItem(){this.ShopListServ.DeleteSelectedItem()}ClearAllItems(){this.ShopListServ.ClearAll()}}return t.\u0275fac=function(e){return new(e||t)(o.Kb(c.a))},t.\u0275cmp=o.Eb({type:t,selectors:[["app-shopping-edit"]],viewQuery:function(t,e){var n;1&t&&o.Cc(u,!0),2&t&&o.nc(n=o.bc())&&(e.slEditForm=n.first)},decls:18,vars:4,consts:[[1,"row"],[1,"col"],[3,"ngSubmit"],["f","ngForm"],[1,"input-group","mt-3"],[1,"col-sm-9","form-group"],["type","text","id","name","placeholder","Name","name","name","ngModel","","required","",1,"form-control"],[1,"col","form-group"],["type","number","id","amount","placeholder","Amount","name","amount","ngModel","","required","","pattern","^[1-9]+[0-9]*$",1,"form-control"],[1,"input-group"],[1,"input-group-prepend"],["type","submit",1,"btn","btn-outline-primary",3,"disabled"],["class","btn btn-outline-danger","type","button",3,"click",4,"ngIf"],["class","btn btn-outline-secondary","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","btn-outline-danger",3,"click"],["type","button",1,"btn","btn-outline-secondary",3,"click"]],template:function(t,e){if(1&t){const t=o.Qb();o.Pb(0,"div",0),o.Pb(1,"div",1),o.Pb(2,"form",2,3),o.ac("ngSubmit",(function(){o.pc(t);const n=o.oc(3);return e.editmode?e.UpdateItem(n):e.AddNewItem(n)})),o.Pb(4,"div",0),o.Pb(5,"div",4),o.Pb(6,"div",5),o.Lb(7,"input",6),o.Ob(),o.Pb(8,"div",7),o.Lb(9,"input",8),o.Ob(),o.Ob(),o.Ob(),o.Pb(10,"div",0),o.Pb(11,"div",1),o.Pb(12,"div",9),o.Pb(13,"div",10),o.Pb(14,"button",11),o.yc(15),o.Ob(),o.wc(16,l,2,0,"button",12),o.wc(17,p,2,0,"button",13),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Ob()}if(2&t){const t=o.oc(3);o.xb(14),o.hc("disabled",t.invalid),o.xb(1),o.zc(e.editmode?"Update":"Add"),o.xb(1),o.hc("ngIf",e.ShopListServ.CurrentSelectedItem),o.xb(1),o.hc("ngIf",0!==e.ShopListServ.GetIngredientsLength())}},directives:[d.p,d.h,d.i,d.a,d.g,d.j,d.n,d.l,d.m,i.l],styles:["input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:#ff0a1d!important;box-shadow:none!important}input.ng-invalid.ng-touched[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem rgba(255,10,29,.25)!important}input.ng-valid.ng-touched[_ngcontent-%COMP%]{border-color:#67c07b!important;box-shadow:none!important}input.ng-valid.ng-touched[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem rgba(52,179,13,.25)!important}"]}),t})();var h=n("1kSV");function m(t,e){if(1&t){const t=o.Qb();o.Pb(0,"a",8),o.ac("click",(function(){o.pc(t);const n=e.$implicit;return o.cc(2).ShopListServ.SelectItemShopList(n)})),o.yc(1),o.Pb(2,"span",9),o.yc(3),o.Ob(),o.Ob()}if(2&t){const t=e.$implicit,n=o.cc(2);o.hc("ngClass",n.ShopListServ.IsCurrentSelected(t)?"active":""),o.xb(1),o.Ac("",t.Name," "),o.xb(2),o.zc(t.Amount)}}function S(t,e){if(1&t){const t=o.Qb();o.Pb(0,"div",3),o.Pb(1,"div",4),o.Lb(2,"app-shopping-edit"),o.Lb(3,"hr"),o.Pb(4,"ul",5),o.wc(5,m,4,3,"a",6),o.Ob(),o.Pb(6,"ngb-pagination",7),o.ac("pageChange",(function(e){return o.pc(t),o.cc().CurrentPage=e}))("pageChange",(function(e){return o.pc(t),o.cc().OnPageChanged(e)})),o.Ob(),o.Ob(),o.Ob()}if(2&t){const t=o.cc();o.xb(5),o.hc("ngForOf",t.ingredients),o.xb(1),o.hc("collectionSize",t.collectionSize)("pageSize",t.PageSize)("page",t.CurrentPage)("rotate",!0)("boundaryLinks",!0)("maxSize",11)}}function f(t,e){1&t&&(o.Pb(0,"div",10),o.Pb(1,"span",11),o.yc(2,"Loading..."),o.Ob(),o.Ob())}const v=[{path:"",redirectTo:"1",pathMatch:"full"},{path:":pn",component:(()=>{class t{constructor(t,e,n,i){this.ShopListServ=t,this.activeroute=e,this.DataServ=n,this.router=i}ngOnDestroy(){this.IngChanged.unsubscribe(),this.PageChanged.unsubscribe(),this.FetchOnInint.unsubscribe(),this.DataLoading.unsubscribe()}ngOnInit(){this.PageSize=s.a.ShoppingListPageSize,this.IngChanged=this.ShopListServ.IngredientChanged.subscribe(t=>{this.ingredients=t}),this.PageChanged=this.activeroute.params.subscribe(t=>{this.CurrentPage=+t.pn}),this.DataLoading=this.DataServ.LoadingData.subscribe(t=>{this.IsLoading=t}),this.FetchOnInint=this.DataServ.FetchShoppingList(this.CurrentPage,s.a.RecipePageSize).subscribe(()=>{this.ingredients=this.ShopListServ.GetIngredients(),this.collectionSize=this.ShopListServ.Total})}OnPageChanged(t){this.CurrentPage=t,this.FetchOnInint.unsubscribe(),this.FetchOnInint=this.DataServ.FetchRecipes(t,s.a.RecipePageSize).subscribe(()=>{this.ingredients=this.ShopListServ.GetIngredients(),this.collectionSize=this.ShopListServ.Total,this.router.navigate(["../",t.toString()],{relativeTo:this.activeroute})})}}return t.\u0275fac=function(e){return new(e||t)(o.Kb(c.a),o.Kb(r.a),o.Kb(a.a),o.Kb(r.c))},t.\u0275cmp=o.Eb({type:t,selectors:[["app-shopping-list"]],decls:3,vars:2,consts:[["class","row",4,"ngIf"],[1,"text-center"],["class","spinner-border","role","status",4,"ngIf"],[1,"row"],[1,"col"],[1,"list-group"],["style","cursor: pointer;","class","list-group-item list-group-item-action d-flex justify-content-between align-items-center",3,"ngClass","click",4,"ngFor","ngForOf"],[3,"collectionSize","pageSize","page","rotate","boundaryLinks","maxSize","pageChange"],[1,"list-group-item","list-group-item-action","d-flex","justify-content-between","align-items-center",2,"cursor","pointer",3,"ngClass","click"],[1,"badge","badge-success","badge-pill"],["role","status",1,"spinner-border"],[1,"sr-only"]],template:function(t,e){1&t&&(o.wc(0,S,7,7,"div",0),o.Pb(1,"div",1),o.wc(2,f,3,0,"div",2),o.Ob()),2&t&&(o.hc("ngIf",!e.IsLoading),o.xb(2),o.hc("ngIf",e.IsLoading))},directives:[i.l,g,i.k,h.i,i.j],styles:[""]}),t})()}];let P=(()=>{class t{}return t.\u0275mod=o.Ib({type:t}),t.\u0275inj=o.Hb({factory:function(e){return new(e||t)},imports:[[i.b,d.c,h.b,h.j,r.g.forChild(v)]]}),t})()}}]);